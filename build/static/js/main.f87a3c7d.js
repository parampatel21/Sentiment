/*! For license information please see main.f87a3c7d.js.LICENSE.txt */
!function(){var e={123:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},993:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},729:function(e,t,n){"use strict";var r=n(165);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},192:function(e,t,n){e.exports=n(729)()},165:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},534:function(e,t,n){"use strict";var r=n(313),i=n(224);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,j=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function V(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){X(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Re(){}var Ne=!1;function Ae(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==_e||null!==Se)&&(Re(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Ue=!1,Fe=null,Ve={onError:function(e){Me=!0,je=e}};function ze(e,t,n,r,i,a,o,s,u){Me=!1,je=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,Et,It=!1,Tt=[],Ct=null,Rt=null,Nt=null,At=new Map,Ot=new Map,Dt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Vt(){It=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==Rt&&Ut(Rt)&&(Rt=null),null!==Nt&&Ut(Nt)&&(Nt=null),At.forEach(Ft),Ot.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Rt&&zt(Rt,e),null!==Nt&&zt(Nt,e),At.forEach(t),Ot.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)jt(n),null===n.blockedOn&&Dt.shift()}var qt=k.ReactCurrentBatchConfig,Gt=!0;function Wt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Ht(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Kt(e,t,n,r){if(Gt){var i=Yt(e,t,n,r);if(null===i)Gr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Rt=Mt(Rt,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Gr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),dn=an(fn),hn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),vn=an(j({},hn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),gn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),kn=an(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return Sn}var In=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(j({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=j({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(An),Dn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Pn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ie(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Qn(e){Ur(e,0)}function Yn(e){if(K(ki(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(l){var $n;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Wn(t,Kn,e,we(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Hr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Rr=Er("transitionend"),Nr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Ar.length;Dr++){var Pr=Ar[Dr];Or(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Or(Ir,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Rr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Ue||(Ue=!0,Fe=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rn;break;case Ir:case Tr:case Cr:u=gn;break;case Rr:u=Nn;break;case"scroll":u=dn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Oe(p,d))&&l.push(Wr(p,v,h)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:ki(u),h=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=h,v=null,yi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(d=c,p=0,h=l=u;h;h=Kr(h))p++;for(h=0,v=d;v;v=Kr(v))h++;for(;0<p-h;)l=Kr(l),p--;for(;0<h-p;)d=Kr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Kr(l),d=Kr(d)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Jn;else if(Gn(s))if(Xn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?ki(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):($t="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(g=Hr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),Zt=$t=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ur(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Oe(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Oe(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function $r(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ii(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ri=Si(!1),Ni=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(Ri),Ei(Ci)}function Pi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ri,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ii(Ci,e),Ii(Ri,Ri.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ri),Ei(Ci),Ii(Ci,e)):Ei(Ri),Ii(Ri,n)}var Ui=null,Fi=!1,Vi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ke(Ze,Bi),i}finally{bt=t,Vi=!1}}return null}var qi=[],Gi=0,Wi=null,Hi=0,Ki=[],Qi=0,Yi=null,Ji=1,Xi="";function $i(e,t){qi[Gi++]=Hi,qi[Gi++]=Wi,Wi=e,Hi=t}function Zi(e,t,n){Ki[Qi++]=Ji,Ki[Qi++]=Xi,Ki[Qi++]=Yi,Yi=e;var r=Ji;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Ji=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Gi],qi[Gi]=null,Hi=qi[--Gi],qi[Gi]=null;for(;e===Yi;)Yi=Ki[--Qi],Ki[Qi]=null,Xi=Ki[--Qi],Ki[Qi]=null,Ji=Ki[--Qi],Ki[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ci(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Si(null),ya=null,ba=null,ka=null;function wa(){ka=ba=ya=null}function xa(e){var t=ga.current;Ei(ga),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ya=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ra(e,r)}function Ra(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ru)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ra(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ra(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=j({},f,d);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=h,u=f):l=l.next=h,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);ju|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Fa=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Oi(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ga(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fa,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Oi(t)?Ni:Ci.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Fa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case O:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=h(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),ia&&$i(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&$i(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&$i(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=h(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),ia&&$i(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=d(i,y.value,c))&&(s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return ia&&$i(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&$i(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Mc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Lc(o.type,o.key,o.props,null,r.mode,u)).ref=Ha(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,u)).return=r,r=a}return s(r);case O:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Uc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ja=Ya(!0),Xa=Ya(!1),$a={},Za=Si($a),eo=Si($a),to=Si($a);function no(e){if(e===$a)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Za,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ii(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ii(eo,e),Ii(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==ko;return ko=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function Co(e,t){return"function"===typeof t?t(e):t}function Ro(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=d,s=r):c=c.next=d,vo.lanes|=f,ju|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,ju|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Oo(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Go(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Fo(9,Po.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Ra(e,1);null!==t&&rc(t,e,1,-1)}function Uo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Fo(t,n,a,r))}vo.flags|=e,i.memoizedState=Fo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Go(e,t){return Bo(2048,8,e,t)}function Wo(e,t){return Bo(4,2,e,t)}function Ho(e,t){return Bo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ko.bind(null,t,e),n)}function Yo(){}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,ju|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:Uo,useDebugValue:Yo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Nu.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:Jo,useContext:Ea,useEffect:Go,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ho,useMemo:Xo,useReducer:Ro,useRef:Vo,useState:function(){return Ro(Co)},useDebugValue:Yo,useDeferredValue:function(e){return $o(To(),mo.memoizedState,e)},useTransition:function(){return[Ro(Co)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:Jo,useContext:Ea,useEffect:Go,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ho,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:$o(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Hu=r),ds(0,t)},n}function vs(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ja(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Ts(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Pu,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Pu,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Pu,Du),Du|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Pu,Du),Du|=r;return ws(e,t,i,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Oi(n)?Ni:Ci.current;return a=Ai(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Cs(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Gs(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Ai(t,c=Oi(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ga(t,o,r,c),Na=!1;var d=t.memoizedState;o.state=d,ja(t,r,o,i),u=t.memoizedState,s!==r||d!==u||Ri.current||Na?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Na||Ba(t,n,s,r,d,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Ai(t,u=Oi(n)?Ni:Ci.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||d!==u)&&Ga(t,o,r,u),Na=!1,d=t.memoizedState,o.state=d,ja(t,r,o,i);var p=t.memoizedState;s!==f||d!==p||Ri.current||Na?("function"===typeof h&&(Va(t,n,h,r),p=t.memoizedState),(c=Na||Ba(t,n,c,r,d,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Rs(e,t,n,r,a,i)}function Rs(e,t,n,r,i,a){Is(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Ws(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ja(t,e.child,null,a),t.child=Ja(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function As(e,t,n,r,i){return ha(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Os,Ds,Ps,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Us(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=jc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ms,e):Fs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ja(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ra(e,i),rc(r,e,i,-1))}return mc(),Vs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Qi++]=Ji,Ki[Qi++]=Xi,Ki[Qi++]=Yi,Ji=e.id,Xi=e.overflow,Yi=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Pc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?js(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Pc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),Ja(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Oi(t.type)&&Di(),Ks(t),null;case 3:return r=t.stateNode,io(),Ei(Ri),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Ds(e,t),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":J(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[hi]=r,Os(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fr("scroll",e):null!=l&&b(e,o,l,u))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),Ds(e,t),null===e&&Br(t.stateNode.containerInfo),Ks(t),null;case 10:return xa(t.type._context),Ks(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Hs(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Hs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qu&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Xe()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Ii(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ri),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,Xs=!1,$s="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,du=!1;function hu(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=fu,i=du;fu=null,hu(e,t,n),du=i,null!==(fu=r)&&(du?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(du?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=du,fu=n.stateNode.containerInfo,du=!0,hu(e,t,n),fu=r,du=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hu(e,t,n),Xs=r):hu(e,t,n);break;default:hu(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,du=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,du=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Ec(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),be(u,s);var l=be(u,o);for(s=0;s<c.length;s+=2){var f=c[s],d=c[s+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,l)}switch(u){case"input":$(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Xe())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,mu(t,e),Xs=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(d=Zs=f;null!==Zs;){switch(p=(h=Zs).child,h.tag){case 0:case 11:case 14:case 15:ru(4,h,h.return);break;case 1:eu(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:eu(h,h.return);break;case 22:if(null!==h.memoizedState){xu(d);continue}}null!==p?(p.return=h,Zs=p):xu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Zs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Js;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Js;var c=Xs;if(Js=o,(Xs=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Zs=u):_u(i);for(;null!==a;)Zs=a,ku(a,t,n),a=a.sibling;Zs=i,Js=s,Xs=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):wu(e)}}function wu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&au(t)}catch(h){Ec(t,t.return,h)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function _u(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var a=t.return;try{au(t)}catch(u){Ec(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Ec(t,o,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Su,Eu=Math.ceil,Iu=k.ReactCurrentDispatcher,Tu=k.ReactCurrentOwner,Cu=k.ReactCurrentBatchConfig,Ru=0,Nu=null,Au=null,Ou=0,Du=0,Pu=Si(0),Lu=0,Mu=null,ju=0,Uu=0,Fu=0,Vu=null,zu=null,Bu=0,qu=1/0,Gu=null,Wu=!1,Hu=null,Ku=null,Qu=!1,Yu=null,Ju=0,Xu=0,$u=null,Zu=-1,ec=0;function tc(){return 0!==(6&Ru)?Xe():-1!==Zu?Zu:Zu=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Ru)&&0!==Ou?Ou&-Ou:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<Xu)throw Xu=0,$u=null,Error(a(185));gt(e,n,r),0!==(2&Ru)&&e===Nu||(e===Nu&&(0===(2&Ru)&&(Uu|=n),4===Lu&&uc(e,Ou)),ic(e,r),1===n&&0===Ru&&0===(1&t.mode)&&(qu=Xe()+500,Fi&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=ht(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=dt(e,e===Nu?Ou:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Ru)&&Bi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zu=-1,ec=0,0!==(6&Ru))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=dt(e,e===Nu?Ou:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Ru;Ru|=2;var o=vc();for(Nu===e&&Ou===t||(Gu=null,qu=Xe()+500,hc(e,t));;)try{bc();break}catch(u){pc(e,u)}wa(),Iu.current=o,Ru=i,null!==Au?t=0:(Nu=null,Ou=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Mu,hc(e,0),uc(e,r),ic(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Mu,hc(e,0),uc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,zu,Gu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bu+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zu,Gu),t);break}xc(e,zu,Gu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zu,Gu),r);break}xc(e,zu,Gu);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zu,zu=n,null!==t&&sc(t)),e}function sc(e){null===zu?zu=e:zu.push.apply(zu,e)}function uc(e,t){for(t&=~Fu,t&=~Uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Ru))throw Error(a(327));_c();var t=dt(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Mu,hc(e,0),uc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zu,Gu),ic(e,Xe()),null}function lc(e,t){var n=Ru;Ru|=1;try{return e(t)}finally{0===(Ru=n)&&(qu=Xe()+500,Fi&&Bi())}}function fc(e){null!==Yu&&0===Yu.tag&&0===(6&Ru)&&_c();var t=Ru;Ru|=1;var n=Cu.transition,r=bt;try{if(Cu.transition=null,bt=1,e)return e()}finally{bt=r,Cu.transition=n,0===(6&(Ru=t))&&Bi()}}function dc(){Du=Pu.current,Ei(Pu)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ei(Ri),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:xa(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Nu=e,Au=e=Pc(e.current,null),Ou=Du=t,Lu=0,Mu=null,Fu=Uu=ju=0,zu=Vu=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function pc(e,t){for(;;){var n=Au;try{if(wa(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,bo=!1,ko=0,Tu.current=null,null===n||null===n.return){Lu=1,Mu=t,Au=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ou,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Lu&&(Lu=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ku||!Ku.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(k){t=k,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function vc(){var e=Iu.current;return Iu.current=os,null===e?os:e}function mc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Nu||0===(268435455&ju)&&0===(268435455&Uu)||uc(Nu,Ou)}function gc(e,t){var n=Ru;Ru|=2;var r=vc();for(Nu===e&&Ou===t||(Gu=null,hc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(wa(),Ru=n,Iu.current=r,null!==Au)throw Error(a(261));return Nu=null,Ou=0,Lu}function yc(){for(;null!==Au;)kc(Au)}function bc(){for(;null!==Au&&!Ye();)kc(Au)}function kc(e){var t=Su(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?wc(e):Au=t,Tu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Du)))return void(Au=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Lu=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Lu&&(Lu=5)}function xc(e,t,n){var r=bt,i=Cu.transition;try{Cu.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Yu);if(0!==(6&Ru))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Au=Nu=null,Ou=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=bt;bt=1;var u=Ru;Ru|=4,Tu.current=null,function(e,t){if(ei=Gt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==o||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(u=s),h===o&&++f===r&&(c=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),Je(),Ru=u,bt=s,Cu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Yu=e,Ju=i),o=e.pendingLanes,0===o&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Hu,Hu=null,e;0!==(1&Ju)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===$u?Xu++:(Xu=0,$u=e):Xu=0,Bi()}(e,t,n,r)}finally{Cu.transition=i,bt=r}return null}function _c(){if(null!==Yu){var e=kt(Ju),t=Cu.transition,n=bt;try{if(Cu.transition=null,bt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Ju=0,0!==(6&Ru))throw Error(a(331));var i=Ru;for(Ru|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var d=f.child;if(null!==d)d.return=f,Zs=d;else for(;null!==Zs;){var h=(f=Zs).sibling,p=f.return;if(ou(f),f===l){Zs=null;break}if(null!==h){h.return=p,Zs=h;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Zs=y;break e}Zs=o.return}}var b=e.current;for(Zs=b;null!==Zs;){var k=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Zs=k;else e:for(s=b;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){Ec(u,u.return,x)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Ru=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Cu.transition=t}}return!1}function Sc(e,t,n){e=Pa(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Pa(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Ou&n)===n&&(4===Lu||3===Lu&&(130023424&Ou)===Ou&&500>Xe()-Bu?hc(e,0):Fu|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Ra(e,t))&&(gt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return Ke(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Ac(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Mc(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=Oc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case R:return(e=Oc(13,n,t,i)).elementType=R,e.lanes=o,e;case N:return(e=Oc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case T:s=9;break e;case C:s=11;break e;case A:s=14;break e;case O:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,s,u){return e=new Vc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=zc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=Da(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function Gc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),ha();break;case 5:ao(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Us(e,t,n):(Ii(so,1&so.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ii(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ws(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gs(e,t),e=t.pendingProps;var i=Ai(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Rs(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Is(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Us(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ja(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ii(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ri.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_s(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Gs(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Wa(t,r,i,n),Rs(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wc(o);s.call(e)}}Gc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Gc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(o)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Gc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Gc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Xe()),0===(6&Ru)&&(qu=Xe()+500,Bi()))}break;case 13:fc((function(){var t=Ra(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Ra(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Ra(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Re=fc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ie,Te,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},739:function(e,t,n){"use strict";var r=n(168);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},168:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(534)},790:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,t,n){"use strict";n.r(t);var r=n("react"),i=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function s(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise((function(n,r){t.call(navigator,e,n,r)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.canvas=null,n.ctx=null,n.requestUserMediaId=0,n.unmounted=!1,n.state={hasUserMedia:!1},n}return i(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;this.unmounted=!1,s()?(e.hasUserMedia||this.requestUserMedia(),t.children&&"function"!=typeof t.children&&console.warn("children must be a function")):t.onUserMediaError("getUserMedia not supported")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(s()){var n=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),r=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),i=e.minScreenshotWidth!==t.minScreenshotWidth,a=e.minScreenshotHeight!==t.minScreenshotHeight;(r||i||a)&&(this.canvas=null,this.ctx=null),(n||r)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError("getUserMedia not supported")},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},t.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map((function(t){e.removeTrack(t),t.stop()})),e.getAudioTracks().map((function(t){e.removeTrack(t),t.stop()}))):e.stop())},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(t.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,n=this.props;if(!t.hasUserMedia)return null;var r=this.getCanvas(e);return r&&r.toDataURL(n.screenshotFormat,n.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,n=this.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var r=this.video.videoWidth,i=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var a=r/i;i=(r=n.minScreenshotWidth||this.video.clientWidth)/a,n.minScreenshotHeight&&i<n.minScreenshotHeight&&(r=(i=n.minScreenshotHeight)*a)}this.canvas=document.createElement("canvas"),this.canvas.width=(null===e||void 0===e?void 0:e.width)||r,this.canvas.height=(null===e||void 0===e?void 0:e.height)||i,this.ctx=this.canvas.getContext("2d")}var o=this.ctx,s=this.canvas;return o&&s&&(n.mirrored&&(o.translate(s.width,0),o.scale(-1,1)),o.imageSmoothingEnabled=n.imageSmoothing,o.drawImage(this.video,0,0,(null===e||void 0===e?void 0:e.width)||s.width,(null===e||void 0===e?void 0:e.height)||s.height),n.mirrored&&(o.scale(-1,1),o.translate(-s.width,0))),s},t.prototype.requestUserMedia=function(){var e=this,n=this.props,r=function(r,i){var a={video:"undefined"===typeof i||i};n.audio&&(a.audio="undefined"===typeof r||r),e.requestUserMediaId++;var o=e.requestUserMediaId;navigator.mediaDevices.getUserMedia(a).then((function(n){e.unmounted||o!==e.requestUserMediaId?t.stopMediaStream(n):e.handleUserMedia(null,n)})).catch((function(t){e.handleUserMedia(t)}))};if("mediaDevices"in navigator)r(n.audioConstraints,n.videoConstraints);else{var i=function(e){return{optional:[{sourceId:e}]}},a=function(e){var t=e.deviceId;return"string"===typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"===typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources((function(e){var t=null,o=null;e.forEach((function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(o=e.id)}));var s=a(n.audioConstraints);s&&(t=s);var u=a(n.videoConstraints);u&&(o=u),r(i(t),i(o))}))}},t.prototype.handleUserMedia=function(e,t){var n=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void n.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(r){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}n.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,n=this.props,i=n.audio,s=(n.forceScreenshotSourceSize,n.onUserMedia,n.onUserMediaError,n.screenshotFormat,n.screenshotQuality,n.minScreenshotWidth,n.minScreenshotHeight,n.audioConstraints,n.videoConstraints,n.imageSmoothing,n.mirrored),u=n.style,c=void 0===u?{}:u,l=n.children,f=o(n,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),d=s?a(a({},c),{transform:(c.transform||"")+" scaleX(-1)"}):c,h={getScreenshot:this.getScreenshot.bind(this)};return r.createElement(r.Fragment,null,r.createElement("video",a({autoPlay:!0,src:t.src,muted:!i,playsInline:!0,ref:function(t){e.video=t},style:d},f)),l&&l(h))},t.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t}(r.Component);t.default=u},react:function(t,n){t.exports=e}}).default},e.exports=r(n(313))},918:function(e,t,n){"use strict";var r=n(313),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},306:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var k=b.prototype=new y;k.constructor=b,v(k,g.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),R(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=R(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=R(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},D={transition:null},P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},313:function(e,t,n){"use strict";e.exports=n(306)},417:function(e,t,n){"use strict";e.exports=n(918)},495:function(e,t,n){"use strict";var r;function i(e,t){if(!e)throw"First parameter is required.";t=new a(e,t=t||{type:"video"});var n=this;function r(n){n&&(t.initCallback=function(){n(),n=t.initCallback=null});var r=new o(e,t);(d=new r(e,t)).record(),f("recording"),t.disableLogs||console.log("Initialized recorderType:",d.constructor.name,"for output-type:",t.type)}function s(e){if(e=e||function(){},d){if("paused"===n.state)return n.resumeRecording(),void setTimeout((function(){s(e)}),1);"recording"===n.state||t.disableLogs||console.warn('Recording state should be: "recording", however current state is: ',n.state),t.disableLogs||console.log("Stopped recording "+t.type+" stream."),"gif"!==t.type?d.stop(r):(d.stop(),r()),f("stopped")}else v();function r(r){if(d){Object.keys(d).forEach((function(e){"function"!==typeof d[e]&&(n[e]=d[e])}));var i=d.blob;if(!i){if(!r)throw"Recording failed.";d.blob=i=r}if(i&&!t.disableLogs&&console.log(i.type,"->",k(i.size)),e){var a;try{a=h.createObjectURL(i)}catch(o){}"function"===typeof e.call?e.call(n,a):e(a)}t.autoWriteToDisk&&c((function(e){var n={};n[t.type+"Blob"]=e,O.Store(n)}))}else"function"===typeof e.call?e.call(n,""):e("")}}function u(e){postMessage((new FileReaderSync).readAsDataURL(e))}function c(e,n){if(!e)throw"Pass a callback function over getDataURL.";var r=n?n.blob:(d||{}).blob;if(!r)return t.disableLogs||console.warn("Blob encoder did not finish its job yet."),void setTimeout((function(){c(e,n)}),1e3);if("undefined"===typeof Worker||navigator.mozGetUserMedia){var i=new FileReader;i.readAsDataURL(r),i.onload=function(t){e(t.target.result)}}else{var a=function(e){try{var t=h.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return h.revokeObjectURL(t),n}catch(r){}}(u);a.onmessage=function(t){e(t.data)},a.postMessage(r)}}function l(e){e=e||0,"paused"!==n.state?"stopped"!==n.state&&(e>=n.recordingDuration?s(n.onRecordingStopped):(e+=1e3,setTimeout((function(){l(e)}),1e3))):setTimeout((function(){l(e)}),1e3)}function f(e){n&&(n.state=e,"function"===typeof n.onStateChanged.call?n.onStateChanged.call(n,e):n.onStateChanged(e))}var d,p='It seems that recorder is destroyed or "startRecording" is not invoked for '+t.type+" recorder.";function v(){!0!==t.disableLogs&&console.warn(p)}var m={startRecording:function(i){return t.disableLogs||console.log("RecordRTC version: ",n.version),i&&(t=new a(e,i)),t.disableLogs||console.log("started recording "+t.type+" stream."),d?(d.clearRecordedData(),d.record(),f("recording"),n.recordingDuration&&l(),n):(r((function(){n.recordingDuration&&l()})),n)},stopRecording:s,pauseRecording:function(){d?"recording"===n.state?(f("paused"),d.pause(),t.disableLogs||console.log("Paused recording.")):t.disableLogs||console.warn("Unable to pause the recording. Recording state: ",n.state):v()},resumeRecording:function(){d?"paused"===n.state?(f("recording"),d.resume(),t.disableLogs||console.log("Resumed recording.")):t.disableLogs||console.warn("Unable to resume the recording. Recording state: ",n.state):v()},initRecorder:r,setRecordingDuration:function(e,t){if("undefined"===typeof e)throw"recordingDuration is required.";if("number"!==typeof e)throw"recordingDuration must be a number.";return n.recordingDuration=e,n.onRecordingStopped=t||function(){},{onRecordingStopped:function(e){n.onRecordingStopped=e}}},clearRecordedData:function(){d?(d.clearRecordedData(),t.disableLogs||console.log("Cleared old recorded data.")):v()},getBlob:function(){if(d)return d.blob;v()},getDataURL:c,toURL:function(){if(d)return h.createObjectURL(d.blob);v()},getInternalRecorder:function(){return d},save:function(e){d?w(d.blob,e):v()},getFromDisk:function(e){d?i.getFromDisk(t.type,e):v()},setAdvertisementArray:function(e){t.advertisement=[];for(var n=e.length,r=0;r<n;r++)t.advertisement.push({duration:r,image:e[r]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){"recording"!==n.state||t.disableLogs||console.warn("Stop an active recorder."),d&&"function"===typeof d.clearRecordedData&&d.clearRecordedData(),d=null,f("inactive"),n.blob=null},onStateChanged:function(e){t.disableLogs||console.log("Recorder state changed:",e)},state:"inactive",getState:function(){return n.state},destroy:function(){var e=t.disableLogs;t={disableLogs:!0},n.reset(),f("destroyed"),m=n=null,E.AudioContextConstructor&&(E.AudioContextConstructor.close(),E.AudioContextConstructor=null),t.disableLogs=e,t.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return n=m,m;for(var g in m)this[g]=m[g];return n=this,m}function a(e,t){return t.recorderType||t.type||(t.audio&&t.video?t.type="video":t.audio&&!t.video&&(t.type="audio")),t.recorderType&&!t.type&&(t.recorderType===N||t.recorderType===R||t.recorderType===M?t.type="video":t.recorderType===D?t.type="gif":t.recorderType===C?t.type="audio":t.recorderType===T&&(_(e,"audio").length&&_(e,"video").length||!_(e,"audio").length&&_(e,"video").length?t.type="video":_(e,"audio").length&&!_(e,"video").length&&(t.type="audio"))),"undefined"!==typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(t.mimeType||(t.mimeType="video/webm"),t.type||(t.type=t.mimeType.split("/")[0]),t.bitsPerSecond),t.type||(t.mimeType&&(t.type=t.mimeType.split("/")[0]),t.type||(t.type="audio")),t}function o(e,t){var n;return(g||p||v)&&(n=C),"undefined"!==typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&!g&&(n=T),"video"===t.type&&(g||v)&&(n=N,"undefined"!==typeof ReadableStream&&(n=M)),"gif"===t.type&&(n=D),"canvas"===t.type&&(n=R),I()&&n!==R&&n!==D&&"undefined"!==typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(_(e,"video").length||_(e,"audio").length)&&("audio"===t.type?"function"===typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("audio/webm")&&(n=T):"function"===typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("video/webm")&&(n=T)),e instanceof Array&&e.length&&(n=L),t.recorderType&&(n=t.recorderType),!t.disableLogs&&n&&n.name&&console.log("Using recorderType:",n.name||n.constructor.name),!n&&y&&(n=T),n}function s(e){this.addStream=function(t){t&&(e=t)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var t,n=this.mediaType,r=this.mimeType||{audio:null,video:null,gif:null};if("function"!==typeof n.audio&&I()&&!_(e,"audio").length&&(n.audio=!1),"function"!==typeof n.video&&I()&&!_(e,"video").length&&(n.video=!1),"function"!==typeof n.gif&&I()&&!_(e,"video").length&&(n.gif=!1),!n.audio&&!n.video&&!n.gif)throw"MediaStream must have either audio or video tracks.";if(n.audio&&(t=null,"function"===typeof n.audio&&(t=n.audio),this.audioRecorder=new i(e,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:t,mimeType:r.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),n.video||this.audioRecorder.startRecording()),n.video){t=null,"function"===typeof n.video&&(t=n.video);var a=e;if(I()&&n.audio&&"function"===typeof n.audio){var o=_(e,"video")[0];m?((a=new b).addTrack(o),t&&t===N&&(t=T)):(a=new b).addTrack(o)}this.videoRecorder=new i(a,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:t,mimeType:r.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),n.audio||this.videoRecorder.startRecording()}if(n.audio&&n.video){var s=this,u=!0===I();(n.audio instanceof C&&n.video||!0!==n.audio&&!0!==n.video&&n.audio!==n.video)&&(u=!1),!0===u?(s.audioRecorder=null,s.videoRecorder.startRecording()):s.videoRecorder.initRecorder((function(){s.audioRecorder.initRecorder((function(){s.videoRecorder.startRecording(),s.audioRecorder.startRecording()}))}))}n.gif&&(t=null,"function"===typeof n.gif&&(t=n.gif),this.gifRecorder=new i(e,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:t,mimeType:r.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(e){e=e||function(){},this.audioRecorder&&this.audioRecorder.stopRecording((function(t){e(t,"audio")})),this.videoRecorder&&this.videoRecorder.stopRecording((function(t){e(t,"video")})),this.gifRecorder&&this.gifRecorder.stopRecording((function(t){e(t,"gif")}))},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(e){var t={};return this.audioRecorder&&(t.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(t.video=this.videoRecorder.getBlob()),this.gifRecorder&&(t.gif=this.gifRecorder.getBlob()),e&&e(t),t},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(e){function t(e,t){if("undefined"!==typeof Worker){var n=function(e){var t,n=h.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),r=new Worker(n);if("undefined"!==typeof h)t=h;else{if("undefined"===typeof webkitURL)throw"Neither URL nor webkitURL detected.";t=webkitURL}return t.revokeObjectURL(n),r}((function(e){postMessage((new FileReaderSync).readAsDataURL(e))}));n.onmessage=function(e){t(e.data)},n.postMessage(e)}else{var r=new FileReader;r.readAsDataURL(e),r.onload=function(e){t(e.target.result)}}}this.getBlob((function(n){n.audio&&n.video?t(n.audio,(function(r){t(n.video,(function(t){e({audio:r,video:t})}))})):n.audio?t(n.audio,(function(t){e({audio:t})})):n.video&&t(n.video,(function(t){e({video:t})}))}))},this.writeToDisk=function(){i.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(e){(e=e||{audio:!0,video:!0,gif:!0}).audio&&this.audioRecorder&&this.audioRecorder.save("string"===typeof e.audio?e.audio:""),e.video&&this.videoRecorder&&this.videoRecorder.save("string"===typeof e.video?e.video:""),e.gif&&this.gifRecorder&&this.gifRecorder.save("string"===typeof e.gif?e.gif:"")}}i.version="5.6.2",e.exports=i,void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r),i.getFromDisk=function(e,t){if(!t)throw"callback is mandatory.";console.log("Getting recorded "+("all"===e?"blobs":e+" blob ")+" from disk!"),O.Fetch((function(n,r){"all"!==e&&r===e+"Blob"&&t&&t(n),"all"===e&&t&&t(n,r.replace("Blob",""))}))},i.writeToDisk=function(e){console.log("Writing recorded blob(s) to disk!"),(e=e||{}).audio&&e.video&&e.gif?e.audio.getDataURL((function(t){e.video.getDataURL((function(n){e.gif.getDataURL((function(e){O.Store({audioBlob:t,videoBlob:n,gifBlob:e})}))}))})):e.audio&&e.video?e.audio.getDataURL((function(t){e.video.getDataURL((function(e){O.Store({audioBlob:t,videoBlob:e})}))})):e.audio&&e.gif?e.audio.getDataURL((function(t){e.gif.getDataURL((function(e){O.Store({audioBlob:t,gifBlob:e})}))})):e.video&&e.gif?e.video.getDataURL((function(t){e.gif.getDataURL((function(e){O.Store({videoBlob:t,gifBlob:e})}))})):e.audio?e.audio.getDataURL((function(e){O.Store({audioBlob:e})})):e.video?e.video.getDataURL((function(e){O.Store({videoBlob:e})})):e.gif&&e.gif.getDataURL((function(e){O.Store({gifBlob:e})}))},s.getFromDisk=i.getFromDisk,s.writeToDisk=i.writeToDisk,i.MRecordRTC=s;var u;(u="undefined"!==typeof n.g?n.g:null)&&"undefined"===typeof window&&"undefined"!==typeof n.g&&(n.g.navigator={userAgent:"Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45",getUserMedia:function(){}},n.g.console||(n.g.console={}),"undefined"!==typeof n.g.console.log&&"undefined"!==typeof n.g.console.error||(n.g.console.error=n.g.console.log=n.g.console.log||function(){console.log(arguments)}),"undefined"===typeof document&&(u.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return e},u.HTMLVideoElement=function(){}),"undefined"===typeof location&&(u.location={protocol:"file:",href:"",hash:""}),"undefined"===typeof screen&&(u.screen={width:0,height:0}),"undefined"===typeof h&&(u.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),u.window=n.g);var c=window.requestAnimationFrame;if("undefined"===typeof c)if("undefined"!==typeof webkitRequestAnimationFrame)c=webkitRequestAnimationFrame;else if("undefined"!==typeof mozRequestAnimationFrame)c=mozRequestAnimationFrame;else if("undefined"!==typeof msRequestAnimationFrame)c=msRequestAnimationFrame;else if("undefined"===typeof c){var l=0;c=function(e,t){var n=(new Date).getTime(),r=Math.max(0,16-(n-l)),i=setTimeout((function(){e(n+r)}),r);return l=n+r,i}}var f=window.cancelAnimationFrame;"undefined"===typeof f&&("undefined"!==typeof webkitCancelAnimationFrame?f=webkitCancelAnimationFrame:"undefined"!==typeof mozCancelAnimationFrame?f=mozCancelAnimationFrame:"undefined"!==typeof msCancelAnimationFrame?f=msCancelAnimationFrame:"undefined"===typeof f&&(f=function(e){clearTimeout(e)}));var d=window.AudioContext;"undefined"===typeof d&&("undefined"!==typeof webkitAudioContext&&(d=webkitAudioContext),"undefined"!==typeof mozAudioContext&&(d=mozAudioContext));var h=window.URL;"undefined"===typeof h&&"undefined"!==typeof webkitURL&&(h=webkitURL),"undefined"!==typeof navigator&&"undefined"===typeof navigator.getUserMedia&&("undefined"!==typeof navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),"undefined"!==typeof navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var p=-1!==navigator.userAgent.indexOf("Edge")&&(!!navigator.msSaveBlob||!!navigator.msSaveOrOpenBlob),v=!!window.opera||-1!==navigator.userAgent.indexOf("OPR/"),m=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),g=!v&&!p&&!!navigator.webkitGetUserMedia||x()||-1!==navigator.userAgent.toLowerCase().indexOf("chrome/"),y=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);y&&!g&&-1!==navigator.userAgent.indexOf("CriOS")&&(y=!1,g=!0);var b=window.MediaStream;function k(e){if(0===e)return"0 Bytes";var t=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return(e/Math.pow(1e3,t)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB"][t]}function w(e,t){if(!e)throw"Blob object is required.";if(!e.type)try{e.type="video/webm"}catch(o){}var n=(e.type||"video/webm").split("/")[1];if(-1!==n.indexOf(";")&&(n=n.split(";")[0]),t&&-1!==t.indexOf(".")){var r=t.split(".");t=r[0],n=r[1]}var i=(t||Math.round(9999999999*Math.random())+888888888)+"."+n;if("undefined"!==typeof navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,i);if("undefined"!==typeof navigator.msSaveBlob)return navigator.msSaveBlob(e,i);var a=document.createElement("a");a.href=h.createObjectURL(e),a.download=i,a.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(a),"function"===typeof a.click?a.click():(a.target="_blank",a.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),h.revokeObjectURL(a.href)}function x(){return"undefined"!==typeof window&&"object"===typeof window.process&&"renderer"===window.process.type||(!("undefined"===typeof process||"object"!==typeof process.versions||!process.versions.electron)||"object"===typeof navigator&&"string"===typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}function _(e,t){return e&&e.getTracks?e.getTracks().filter((function(e){return e.kind===(t||"audio")})):[]}function S(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}"undefined"===typeof b&&"undefined"!==typeof webkitMediaStream&&(b=webkitMediaStream),"undefined"!==typeof b&&"undefined"===typeof b.prototype.stop&&(b.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))}),i.invokeSaveAsDialog=w,i.getTracks=_,i.getSeekableBlob=function(e,t){if("undefined"===typeof EBML)throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var n=new EBML.Reader,r=new EBML.Decoder,i=EBML.tools,a=new FileReader;a.onload=function(e){r.decode(this.result).forEach((function(e){n.read(e)})),n.stop();var a=i.makeMetadataSeekable(n.metadatas,n.duration,n.cues),o=this.result.slice(n.metadataSize),s=new Blob([a,o],{type:"video/webm"});t(s)},a.readAsArrayBuffer(e)},i.bytesToSize=k,i.isElectron=x;var E={};function I(){if(m||y||p)return!0;navigator.appVersion;var e,t,n=navigator.userAgent,r=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10);return(g||v)&&(e=n.indexOf("Chrome"),r=n.substring(e+7)),-1!==(t=r.indexOf(";"))&&(r=r.substring(0,t)),-1!==(t=r.indexOf(" "))&&(r=r.substring(0,t)),i=parseInt(""+r,10),isNaN(i)&&(r=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10)),i>=49}function T(e,t){var n=this;if("undefined"===typeof e)throw'First argument "MediaStream" is required.';if("undefined"===typeof MediaRecorder)throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if("audio"===(t=t||{mimeType:"video/webm"}).type){var r;if(_(e,"video").length&&_(e,"audio").length)navigator.mozGetUserMedia?(r=new b).addTrack(_(e,"audio")[0]):r=new b(_(e,"audio")),e=r;t.mimeType&&-1!==t.mimeType.toString().toLowerCase().indexOf("audio")||(t.mimeType=g?"audio/webm":"audio/ogg"),t.mimeType&&"audio/ogg"!==t.mimeType.toString().toLowerCase()&&navigator.mozGetUserMedia&&(t.mimeType="audio/ogg")}var i,a=[];function o(){n.timestamps.push((new Date).getTime()),"function"===typeof t.onTimeStamp&&t.onTimeStamp(n.timestamps[n.timestamps.length-1],n.timestamps)}function s(e){return i&&i.mimeType?i.mimeType:e.mimeType||"video/webm"}function u(){a=[],i=null,n.timestamps=[]}this.getArrayOfBlobs=function(){return a},this.record=function(){n.blob=null,n.clearRecordedData(),n.timestamps=[],c=[],a=[];var r=t;t.disableLogs||console.log("Passing following config over MediaRecorder API.",r),i&&(i=null),g&&!I()&&(r="video/vp8"),"function"===typeof MediaRecorder.isTypeSupported&&r.mimeType&&(MediaRecorder.isTypeSupported(r.mimeType)||(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",r.mimeType),r.mimeType="audio"===t.type?"audio/webm":"video/webm"));try{i=new MediaRecorder(e,r),t.mimeType=r.mimeType}catch(u){i=new MediaRecorder(e)}r.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in i&&!1===i.canRecordMimeType(r.mimeType)&&(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",r.mimeType)),i.ondataavailable=function(e){if(e.data&&c.push("ondataavailable: "+k(e.data.size)),"number"!==typeof t.timeSlice)!e.data||!e.data.size||e.data.size<100||n.blob?n.recordingCallback&&(n.recordingCallback(new Blob([],{type:s(r)})),n.recordingCallback=null):(n.blob=t.getNativeBlob?e.data:new Blob([e.data],{type:s(r)}),n.recordingCallback&&(n.recordingCallback(n.blob),n.recordingCallback=null));else if(e.data&&e.data.size&&(a.push(e.data),o(),"function"===typeof t.ondataavailable)){var i=t.getNativeBlob?e.data:new Blob([e.data],{type:s(r)});t.ondataavailable(i)}},i.onstart=function(){c.push("started")},i.onpause=function(){c.push("paused")},i.onresume=function(){c.push("resumed")},i.onstop=function(){c.push("stopped")},i.onerror=function(e){e&&(e.name||(e.name="UnknownError"),c.push("error: "+e),t.disableLogs||(-1!==e.name.toString().toLowerCase().indexOf("invalidstate")?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",e):-1!==e.name.toString().toLowerCase().indexOf("notsupported")?console.error("MIME type (",r.mimeType,") is not supported.",e):-1!==e.name.toString().toLowerCase().indexOf("security")?console.error("MediaRecorder security error",e):"OutOfMemory"===e.name?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"IllegalStreamModification"===e.name?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"OtherRecordingError"===e.name?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"GenericError"===e.name?console.error("The UA cannot provide the codec or recording option that has been requested.",e):console.error("MediaRecorder Error",e)),function(e){if(!n.manuallyStopped&&i&&"inactive"===i.state)return delete t.timeslice,void i.start(6e5);setTimeout(void 0,1e3)}(),"inactive"!==i.state&&"stopped"!==i.state&&i.stop())},"number"===typeof t.timeSlice?(o(),i.start(t.timeSlice)):i.start(36e5),t.initCallback&&t.initCallback()},this.timestamps=[],this.stop=function(e){e=e||function(){},n.manuallyStopped=!0,i&&(this.recordingCallback=e,"recording"===i.state&&i.stop(),"number"===typeof t.timeSlice&&setTimeout((function(){n.blob=new Blob(a,{type:s(t)}),n.recordingCallback(n.blob)}),100))},this.pause=function(){i&&"recording"===i.state&&i.pause()},this.resume=function(){i&&"paused"===i.state&&i.resume()},this.clearRecordedData=function(){i&&"recording"===i.state&&n.stop(u),u()},this.getInternalRecorder=function(){return i},this.blob=null,this.getState=function(){return i&&i.state||"inactive"};var c=[];this.getAllStates=function(){return c},"undefined"===typeof t.checkForInactiveTracks&&(t.checkForInactiveTracks=!1);n=this;!function r(){if(i&&!1!==t.checkForInactiveTracks)return!1===function(){if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}()?(t.disableLogs||console.log("MediaStream seems stopped."),void n.stop()):void setTimeout(r,1e3)}(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}function C(e,t){if(!_(e,"audio").length)throw"Your stream has no audio tracks.";var n,r=this,a=[],o=[],s=!1,u=0,c=2,l=(t=t||{}).desiredSampRate;function f(){if(!1===t.checkForInactiveTracks)return!0;if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}function d(e,t){function n(e,t){var n,r=e.numberOfAudioChannels,i=e.leftBuffers.slice(0),a=e.rightBuffers.slice(0),o=e.sampleRate,s=e.internalInterleavedLength,u=e.desiredSampRate;function c(e,t,n){var r=Math.round(e.length*(t/n)),i=[],a=Number((e.length-1)/(r-1));i[0]=e[0];for(var o=1;o<r-1;o++){var s=o*a,u=Number(Math.floor(s)).toFixed(),c=Number(Math.ceil(s)).toFixed(),f=s-u;i[o]=l(e[u],e[c],f)}return i[r-1]=e[e.length-1],i}function l(e,t,n){return e+(t-e)*n}function f(e,t){for(var n=new Float64Array(t),r=0,i=e.length,a=0;a<i;a++){var o=e[a];n.set(o,r),r+=o.length}return n}function d(e,t,n){for(var r=n.length,i=0;i<r;i++)e.setUint8(t+i,n.charCodeAt(i))}2===r&&(i=f(i,s),a=f(a,s),u&&(i=c(i,u,o),a=c(a,u,o))),1===r&&(i=f(i,s),u&&(i=c(i,u,o))),u&&(o=u),2===r&&(n=function(e,t){for(var n=e.length+t.length,r=new Float64Array(n),i=0,a=0;a<n;)r[a++]=e[i],r[a++]=t[i],i++;return r}(i,a)),1===r&&(n=i);var h=n.length,p=new ArrayBuffer(44+2*h),v=new DataView(p);d(v,0,"RIFF"),v.setUint32(4,36+2*h,!0),d(v,8,"WAVE"),d(v,12,"fmt "),v.setUint32(16,16,!0),v.setUint16(20,1,!0),v.setUint16(22,r,!0),v.setUint32(24,o,!0),v.setUint32(28,o*r*2,!0),v.setUint16(32,2*r,!0),v.setUint16(34,16,!0),d(v,36,"data"),v.setUint32(40,2*h,!0);for(var m=h,g=44,y=0;y<m;y++)v.setInt16(g,32767*n[y],!0),g+=2;if(t)return t({buffer:p,view:v});postMessage({buffer:p,view:v})}if(e.noWorker)n(e,(function(e){t(e.buffer,e.view)}));else{var r=function(e){var t=h.createObjectURL(new Blob([e.toString(),";this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return n.workerURL=t,n}(n);r.onmessage=function(e){t(e.data.buffer,e.data.view),h.revokeObjectURL(r.workerURL),r.terminate()},r.postMessage(e)}}!0===t.leftChannel&&(c=1),1===t.numberOfAudioChannels&&(c=1),(!c||c<1)&&(c=2),t.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+c),"undefined"===typeof t.checkForInactiveTracks&&(t.checkForInactiveTracks=!0),this.record=function(){if(!1===f())throw"Please make sure MediaStream is active.";k(),x=b=!1,s=!0,"undefined"!==typeof t.timeSlice&&E()},this.stop=function(e){e=e||function(){},s=!1,d({desiredSampRate:l,sampleRate:y,numberOfAudioChannels:c,internalInterleavedLength:u,leftBuffers:a,rightBuffers:1===c?[]:o,noWorker:t.noWorker},(function(t,n){r.blob=new Blob([n],{type:"audio/wav"}),r.buffer=new ArrayBuffer(n.buffer.byteLength),r.view=n,r.sampleRate=l||y,r.bufferSize=g,r.length=u,x=!1,e&&e(r.blob)}))},"undefined"===typeof i.Storage&&(i.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),i.Storage.AudioContextConstructor&&"closed"!==i.Storage.AudioContextConstructor.state||(i.Storage.AudioContextConstructor=new i.Storage.AudioContext);var p=i.Storage.AudioContextConstructor,v=p.createMediaStreamSource(e),m=[0,256,512,1024,2048,4096,8192,16384],g="undefined"===typeof t.bufferSize?4096:t.bufferSize;if(-1===m.indexOf(g)&&(t.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(m,null,"\t"))),p.createJavaScriptNode)n=p.createJavaScriptNode(g,c,c);else{if(!p.createScriptProcessor)throw"WebAudio API has no support on this browser.";n=p.createScriptProcessor(g,c,c)}v.connect(n),t.bufferSize||(g=n.bufferSize);var y="undefined"!==typeof t.sampleRate?t.sampleRate:p.sampleRate||44100;(y<22050||y>96e3)&&(t.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),t.disableLogs||t.desiredSampRate&&console.log("Desired sample-rate: "+t.desiredSampRate);var b=!1;function k(){a=[],o=[],u=0,x=!1,s=!1,b=!1,p=null,r.leftchannel=a,r.rightchannel=o,r.numberOfAudioChannels=c,r.desiredSampRate=l,r.sampleRate=y,r.recordingLength=u,S={left:[],right:[],recordingLength:0}}function w(){n&&(n.onaudioprocess=null,n.disconnect(),n=null),v&&(v.disconnect(),v=null),k()}this.pause=function(){b=!0},this.resume=function(){if(!1===f())throw"Please make sure MediaStream is active.";if(!s)return t.disableLogs||console.log("Seems recording has been restarted."),void this.record();b=!1},this.clearRecordedData=function(){t.checkForInactiveTracks=!1,s&&this.stop(w),w()},this.name="StereoAudioRecorder",this.toString=function(){return this.name};var x=!1;n.onaudioprocess=function(e){if(!b)if(!1===f()&&(t.disableLogs||console.log("MediaStream seems stopped."),n.disconnect(),s=!1),s){x||(x=!0,t.onAudioProcessStarted&&t.onAudioProcessStarted(),t.initCallback&&t.initCallback());var i=e.inputBuffer.getChannelData(0),l=new Float32Array(i);if(a.push(l),2===c){var d=e.inputBuffer.getChannelData(1),h=new Float32Array(d);o.push(h)}u+=g,r.recordingLength=u,"undefined"!==typeof t.timeSlice&&(S.recordingLength+=g,S.left.push(l),2===c&&S.right.push(h))}else v&&(v.disconnect(),v=null)},p.createMediaStreamDestination?n.connect(p.createMediaStreamDestination()):n.connect(p.destination),this.leftchannel=a,this.rightchannel=o,this.numberOfAudioChannels=c,this.desiredSampRate=l,this.sampleRate=y,r.recordingLength=u;var S={left:[],right:[],recordingLength:0};function E(){s&&"function"===typeof t.ondataavailable&&"undefined"!==typeof t.timeSlice&&(S.left.length?(d({desiredSampRate:l,sampleRate:y,numberOfAudioChannels:c,internalInterleavedLength:S.recordingLength,leftBuffers:S.left,rightBuffers:1===c?[]:S.right},(function(e,n){var r=new Blob([n],{type:"audio/wav"});t.ondataavailable(r),setTimeout(E,t.timeSlice)})),S={left:[],right:[],recordingLength:0}):setTimeout(E,t.timeSlice))}}function R(e,t){if("undefined"===typeof html2canvas)throw"Please link: https://www.webrtc-experiment.com/screenshot.js";(t=t||{}).frameInterval||(t.frameInterval=10);var n=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach((function(e){e in document.createElement("canvas")&&(n=!0)}));var r,i,a,o=(!!window.webkitRTCPeerConnection||!!window.webkitGetUserMedia)&&!!window.chrome,s=50,u=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(o&&u&&u[2]&&(s=parseInt(u[2],10)),o&&s<52&&(n=!1),t.useWhammyRecorder&&(n=!1),n)if(t.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),e instanceof HTMLCanvasElement)r=e;else{if(!(e instanceof CanvasRenderingContext2D))throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";r=e.canvas}else navigator.mozGetUserMedia&&(t.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));this.record=function(){if(a=!0,n&&!t.useWhammyRecorder){var e;"captureStream"in r?e=r.captureStream(25):"mozCaptureStream"in r?e=r.mozCaptureStream(25):"webkitCaptureStream"in r&&(e=r.webkitCaptureStream(25));try{var o=new b;o.addTrack(_(e,"video")[0]),e=o}catch(s){}if(!e)throw"captureStream API are NOT available.";(i=new T(e,{mimeType:t.mimeType||"video/webm"})).record()}else p.frames=[],h=(new Date).getTime(),d();t.initCallback&&t.initCallback()},this.getWebPImages=function(n){if("canvas"===e.nodeName.toLowerCase()){var r=p.frames.length;p.frames.forEach((function(e,n){var i=r-n;t.disableLogs||console.log(i+"/"+r+" frames remaining"),t.onEncodingCallback&&t.onEncodingCallback(i,r);var a=e.image.toDataURL("image/webp",1);p.frames[n].image=a})),t.disableLogs||console.log("Generating WebM"),n()}else n()},this.stop=function(e){a=!1;var r=this;n&&i?i.stop(e):this.getWebPImages((function(){p.compile((function(n){t.disableLogs||console.log("Recording finished!"),r.blob=n,r.blob.forEach&&(r.blob=new Blob([],{type:"video/webm"})),e&&e(r.blob),p.frames=[]}))}))};var c=!1;function l(){p.frames=[],a=!1,c=!1}function f(){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),t}function d(){if(c)return h=(new Date).getTime(),setTimeout(d,500);if("canvas"===e.nodeName.toLowerCase()){var n=(new Date).getTime()-h;return h=(new Date).getTime(),p.frames.push({image:f(),duration:n}),void(a&&setTimeout(d,t.frameInterval))}html2canvas(e,{grabMouse:"undefined"===typeof t.showMousePointer||t.showMousePointer,onrendered:function(e){var n=(new Date).getTime()-h;if(!n)return setTimeout(d,t.frameInterval);h=(new Date).getTime(),p.frames.push({image:e.toDataURL("image/webp",1),duration:n}),a&&setTimeout(d,t.frameInterval)}})}this.pause=function(){c=!0,i instanceof T&&i.pause()},this.resume=function(){c=!1,i instanceof T?i.resume():a||this.record()},this.clearRecordedData=function(){a&&this.stop(l),l()},this.name="CanvasRecorder",this.toString=function(){return this.name};var h=(new Date).getTime(),p=new A.Video(100)}function N(e,t){function n(e){e="undefined"!==typeof e?e:10;var t=(new Date).getTime()-u;return t?a?(u=(new Date).getTime(),setTimeout(n,100)):(u=(new Date).getTime(),s.paused&&s.play(),f.drawImage(s,0,0,l.width,l.height),c.frames.push({duration:t,image:l.toDataURL("image/webp")}),void(i||setTimeout(n,e,e))):setTimeout(n,e,e)}function r(e,t,n,r,i){var a=document.createElement("canvas");a.width=l.width,a.height=l.height;var o=a.getContext("2d"),s=[],u=-1===t,c=t&&t>0&&t<=e.length?t:e.length,f=0,d=0,h=0,p=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),v=n&&n>=0&&n<=1?n:0,m=r&&r>=0&&r<=1?r:0,g=!1;!function(e){var t=-1,n=e.length;!function r(){++t!==n?setTimeout((function(){e.functionToLoop(r,t)}),1):e.callback()}()}({length:c,functionToLoop:function(t,n){var r,i,a,c=function(){!g&&a-r<=a*m||(u&&(g=!0),s.push(e[n])),t()};if(g)c();else{var y=new Image;y.onload=function(){o.drawImage(y,0,0,l.width,l.height);var e=o.getImageData(0,0,l.width,l.height);r=0,i=e.data.length,a=e.data.length/4;for(var t=0;t<i;t+=4){var n={r:e.data[t],g:e.data[t+1],b:e.data[t+2]};Math.sqrt(Math.pow(n.r-f,2)+Math.pow(n.g-d,2)+Math.pow(n.b-h,2))<=p*v&&r++}c()},y.src=e[n].image}},callback:function(){(s=s.concat(e.slice(c))).length<=0&&s.push(e[e.length-1]),i(s)}})}(t=t||{}).frameInterval||(t.frameInterval=10),t.disableLogs||console.log("Using frames-interval:",t.frameInterval),this.record=function(){t.width||(t.width=320),t.height||(t.height=240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),l.width=t.canvas.width||320,l.height=t.canvas.height||240,f=l.getContext("2d"),t.video&&t.video instanceof HTMLVideoElement?(s=t.video.cloneNode(),t.initCallback&&t.initCallback()):(s=document.createElement("video"),S(e,s),s.onloadedmetadata=function(){t.initCallback&&t.initCallback()},s.width=t.video.width,s.height=t.video.height),s.muted=!0,s.play(),u=(new Date).getTime(),c=new A.Video,t.disableLogs||(console.log("canvas resolutions",l.width,"*",l.height),console.log("video width/height",s.width||l.width,"*",s.height||l.height)),n(t.frameInterval)};var i=!1;this.stop=function(e){e=e||function(){},i=!0;var n=this;setTimeout((function(){r(c.frames,-1,null,null,(function(r){c.frames=r,t.advertisement&&t.advertisement.length&&(c.frames=t.advertisement.concat(c.frames)),c.compile((function(t){n.blob=t,n.blob.forEach&&(n.blob=new Blob([],{type:"video/webm"})),e&&e(n.blob)}))}))}),10)};var a=!1;function o(){c.frames=[],i=!0,a=!1}this.pause=function(){a=!0},this.resume=function(){a=!1,i&&this.record()},this.clearRecordedData=function(){i||this.stop(o),o()},this.name="WhammyRecorder",this.toString=function(){return this.name};var s,u,c,l=document.createElement("canvas"),f=l.getContext("2d")}"undefined"!==typeof d?E.AudioContext=d:"undefined"!==typeof webkitAudioContext&&(E.AudioContext=webkitAudioContext),i.Storage=E,i.MediaStreamRecorder=T,i.StereoAudioRecorder=C,i.CanvasRecorder=R,i.WhammyRecorder=N;var A=function(){function e(e){this.frames=[],this.duration=e||1,this.quality=.8}function t(e){function t(e,t,n){return[{data:e,id:231}].concat(n.map((function(e){var n=function(e){var t=0;e.keyframe&&(t|=128);e.invisible&&(t|=8);e.lacing&&(t|=e.lacing<<1);e.discardable&&(t|=1);if(e.trackNum>127)throw"TrackNumber > 127 not supported";return[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map((function(e){return String.fromCharCode(e)})).join("")+e.frame}({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(t)});return t+=e.duration,{data:n,id:163}})))}function n(e){for(var t=[];e>0;)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function r(e){var t=[];e=(e.length%8?new Array(9-e.length%8).join("0"):"")+e;for(var n=0;n<e.length;n+=8)t.push(parseInt(e.substr(n,8),2));return new Uint8Array(t)}function i(e){for(var t=[],a=0;a<e.length;a++){var o=e[a].data;"object"===typeof o&&(o=i(o)),"number"===typeof o&&(o=r(o.toString(2))),"string"===typeof o&&(o=new Uint8Array(o.split("").map((function(e){return e.charCodeAt(0)}))));var s=o.size||o.byteLength||o.length,u=Math.ceil(Math.ceil(Math.log(s)/Math.log(2))/8),c=s.toString(2),l=new Array(7*u+7+1-c.length).join("0")+c,f=new Array(u).join("0")+"1"+l;t.push(n(e[a].id)),t.push(r(f)),t.push(o)}return new Blob(t,{type:"video/webm"})}function a(e,t){return parseInt(e.substr(t+4,4).split("").map((function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t})).join(""),2)}function o(e){for(var t=0,n={};t<e.length;){var r=e.substr(t,4),i=a(e,t),s=e.substr(t+4+4,i);t+=8+i,n[r]=n[r]||[],"RIFF"===r||"LIST"===r?n[r].push(o(s)):n[r].push(s)}return n}var s=new function(e){var n=function(e){if(!e[0])return void postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});for(var t=e[0].width,n=e[0].height,r=e[0].duration,i=1;i<e.length;i++)r+=e[i].duration;return{duration:r,width:t,height:n}}(e);if(!n)return[];for(var r,a=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:(r=n.duration,[].slice.call(new Uint8Array(new Float64Array([r]).buffer),0).map((function(e){return String.fromCharCode(e)})).reverse().join("")),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:n.width,id:176},{data:n.height,id:186}]}]}]}]}],o=0,s=0;o<e.length;){var u=[],c=0;do{u.push(e[o]),c+=e[o].duration,o++}while(o<e.length&&c<3e4);var l={id:524531317,data:t(s,0,u)};a[1].data.push(l),s+=c}return i(a)}(e.map((function(e){var t=function(e){for(var t=e.RIFF[0].WEBP[0],n=t.indexOf("\x9d\x01*"),r=0,i=[];r<4;r++)i[r]=t.charCodeAt(n+3+r);return{width:16383&(i[1]<<8|i[0]),height:16383&(i[3]<<8|i[2]),data:t,riff:e}}(o(atob(e.image.slice(23))));return t.duration=e.duration,t})));postMessage(s)}return e.prototype.add=function(e,t){if("canvas"in e&&(e=e.canvas),"toDataURL"in e&&(e=e.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},e.prototype.compile=function(e){var n=function(e){var t=h.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return h.revokeObjectURL(t),n}(t);n.onmessage=function(t){t.data.error?console.error(t.data.error):e(t.data)},n.postMessage(this.frames)},{Video:e}}();i.Whammy=A;var O={init:function(){var e=this;if("undefined"!==typeof indexedDB&&"undefined"!==typeof indexedDB.open){var t,n=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),r=indexedDB.open(n,1);r.onerror=e.onError,r.onsuccess=function(){((t=r.result).onerror=e.onError,t.setVersion)?1!==t.version?t.setVersion(1).onsuccess=function(){i(t),a()}:a():a()},r.onupgradeneeded=function(e){i(e.target.result)}}else console.error("IndexedDB API are not available in this browser.");function i(t){t.createObjectStore(e.dataStoreName)}function a(){var n=t.transaction([e.dataStoreName],"readwrite");function r(t){n.objectStore(e.dataStoreName).get(t).onsuccess=function(n){e.callback&&e.callback(n.target.result,t)}}e.videoBlob&&n.objectStore(e.dataStoreName).put(e.videoBlob,"videoBlob"),e.gifBlob&&n.objectStore(e.dataStoreName).put(e.gifBlob,"gifBlob"),e.audioBlob&&n.objectStore(e.dataStoreName).put(e.audioBlob,"audioBlob"),r("audioBlob"),r("videoBlob"),r("gifBlob")}},Fetch:function(e){return this.callback=e,this.init(),this},Store:function(e){return this.audioBlob=e.audioBlob,this.videoBlob=e.videoBlob,this.gifBlob=e.gifBlob,this.init(),this},onError:function(e){console.error(JSON.stringify(e,null,"\t"))},dataStoreName:"recordRTC",dbName:null};function D(e,t){if("undefined"===typeof GIFEncoder){var n=document.createElement("script");n.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(n)}t=t||{};var r=e instanceof CanvasRenderingContext2D||e instanceof HTMLCanvasElement;this.record=function(){"undefined"!==typeof GIFEncoder&&s?(r||(t.width||(t.width=u.offsetWidth||320),t.height||(t.height=u.offsetHeight||240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),a.width=t.canvas.width||320,a.height=t.canvas.height||240,u.width=t.video.width||320,u.height=t.video.height||240),(d=new GIFEncoder).setRepeat(0),d.setDelay(t.frameRate||200),d.setQuality(t.quality||10),d.start(),"function"===typeof t.onGifRecordingStarted&&t.onGifRecordingStarted(),Date.now(),h=c((function e(n){if(!0!==p.clearedRecordedData){if(i)return setTimeout((function(){e(n)}),100);h=c(e),void 0===typeof l&&(l=n),n-l<90||(!r&&u.paused&&u.play(),r||o.drawImage(u,0,0,a.width,a.height),t.onGifPreview&&t.onGifPreview(a.toDataURL("image/png")),d.addFrame(o),l=n)}})),t.initCallback&&t.initCallback()):setTimeout(p.record,1e3)},this.stop=function(e){e=e||function(){},h&&f(h),Date.now(),this.blob=new Blob([new Uint8Array(d.stream().bin)],{type:"image/gif"}),e(this.blob),d.stream().bin=[]};var i=!1;this.pause=function(){i=!0},this.resume=function(){i=!1},this.clearRecordedData=function(){p.clearedRecordedData=!0,d&&(d.stream().bin=[])},this.name="GifRecorder",this.toString=function(){return this.name};var a=document.createElement("canvas"),o=a.getContext("2d");r&&(e instanceof CanvasRenderingContext2D?a=(o=e).canvas:e instanceof HTMLCanvasElement&&(o=e.getContext("2d"),a=e));var s=!0;if(!r){var u=document.createElement("video");u.muted=!0,u.autoplay=!0,u.playsInline=!0,s=!1,u.onloadedmetadata=function(){s=!0},S(e,u),u.play()}var l,d,h=null,p=this}function P(e,t){"undefined"!==typeof n.g&&n.g,t=t||"multi-streams-mixer";var r=[],i=!1,a=document.createElement("canvas"),o=a.getContext("2d");a.style.opacity=0,a.style.position="absolute",a.style.zIndex=-1,a.style.top="-1000em",a.style.left="-1000em",a.className=t,(document.body||document.documentElement).appendChild(a),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var s=this,u=window.AudioContext;"undefined"===typeof u&&("undefined"!==typeof webkitAudioContext&&(u=webkitAudioContext),"undefined"!==typeof mozAudioContext&&(u=mozAudioContext));var c=window.URL;"undefined"===typeof c&&"undefined"!==typeof webkitURL&&(c=webkitURL),"undefined"!==typeof navigator&&"undefined"===typeof navigator.getUserMedia&&("undefined"!==typeof navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),"undefined"!==typeof navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var l=window.MediaStream;"undefined"===typeof l&&"undefined"!==typeof webkitMediaStream&&(l=webkitMediaStream),"undefined"!==typeof l&&"undefined"===typeof l.prototype.stop&&(l.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))});var f={};function d(){if(!i){var e=r.length,t=!1,n=[];if(r.forEach((function(e){e.stream||(e.stream={}),e.stream.fullcanvas?t=e:n.push(e)})),t)a.width=t.stream.width,a.height=t.stream.height;else if(n.length){a.width=e>1?2*n[0].width:n[0].width;var o=1;3!==e&&4!==e||(o=2),5!==e&&6!==e||(o=3),7!==e&&8!==e||(o=4),9!==e&&10!==e||(o=5),a.height=n[0].height*o}else a.width=s.width||360,a.height=s.height||240;t&&t instanceof HTMLVideoElement&&h(t),n.forEach((function(e,t){h(e,t)})),setTimeout(d,s.frameInterval)}}function h(e,t){if(!i){var n=0,r=0,a=e.width,s=e.height;1===t&&(n=e.width),2===t&&(r=e.height),3===t&&(n=e.width,r=e.height),4===t&&(r=2*e.height),5===t&&(n=e.width,r=2*e.height),6===t&&(r=3*e.height),7===t&&(n=e.width,r=3*e.height),"undefined"!==typeof e.stream.left&&(n=e.stream.left),"undefined"!==typeof e.stream.top&&(r=e.stream.top),"undefined"!==typeof e.stream.width&&(a=e.stream.width),"undefined"!==typeof e.stream.height&&(s=e.stream.height),o.drawImage(e,n,r,a,s),"function"===typeof e.stream.onRender&&e.stream.onRender(o,n,r,a,s,t)}}function p(e){var n=document.createElement("video");return function(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}(e,n),n.className=t,n.muted=!0,n.volume=0,n.width=e.width||s.width||360,n.height=e.height||s.height||240,n.play(),n}function v(t){r=[],(t=t||e).forEach((function(e){if(e.getTracks().filter((function(e){return"video"===e.kind})).length){var t=p(e);t.stream=e,r.push(t)}}))}"undefined"!==typeof u?f.AudioContext=u:"undefined"!==typeof webkitAudioContext&&(f.AudioContext=webkitAudioContext),this.startDrawingFrames=function(){d()},this.appendStreams=function(t){if(!t)throw"First parameter is required.";t instanceof Array||(t=[t]),t.forEach((function(t){var n=new l;if(t.getTracks().filter((function(e){return"video"===e.kind})).length){var i=p(t);i.stream=t,r.push(i),n.addTrack(t.getTracks().filter((function(e){return"video"===e.kind}))[0])}if(t.getTracks().filter((function(e){return"audio"===e.kind})).length){var a=s.audioContext.createMediaStreamSource(t);s.audioDestination=s.audioContext.createMediaStreamDestination(),a.connect(s.audioDestination),n.addTrack(s.audioDestination.stream.getTracks().filter((function(e){return"audio"===e.kind}))[0])}e.push(n)}))},this.releaseStreams=function(){r=[],i=!0,s.gainNode&&(s.gainNode.disconnect(),s.gainNode=null),s.audioSources.length&&(s.audioSources.forEach((function(e){e.disconnect()})),s.audioSources=[]),s.audioDestination&&(s.audioDestination.disconnect(),s.audioDestination=null),s.audioContext&&s.audioContext.close(),s.audioContext=null,o.clearRect(0,0,a.width,a.height),a.stream&&(a.stream.stop(),a.stream=null)},this.resetVideoStreams=function(e){!e||e instanceof Array||(e=[e]),v(e)},this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=function(){i=!1;var t=function(){var e;v(),"captureStream"in a?e=a.captureStream():"mozCaptureStream"in a?e=a.mozCaptureStream():s.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var t=new l;return e.getTracks().filter((function(e){return"video"===e.kind})).forEach((function(e){t.addTrack(e)})),a.stream=t,t}(),n=function(){f.AudioContextConstructor||(f.AudioContextConstructor=new f.AudioContext);s.audioContext=f.AudioContextConstructor,s.audioSources=[],!0===s.useGainNode&&(s.gainNode=s.audioContext.createGain(),s.gainNode.connect(s.audioContext.destination),s.gainNode.gain.value=0);var t=0;if(e.forEach((function(e){if(e.getTracks().filter((function(e){return"audio"===e.kind})).length){t++;var n=s.audioContext.createMediaStreamSource(e);!0===s.useGainNode&&n.connect(s.gainNode),s.audioSources.push(n)}})),!t)return;return s.audioDestination=s.audioContext.createMediaStreamDestination(),s.audioSources.forEach((function(e){e.connect(s.audioDestination)})),s.audioDestination.stream}();return n&&n.getTracks().filter((function(e){return"audio"===e.kind})).forEach((function(e){t.addTrack(e)})),e.forEach((function(e){e.fullcanvas&&!0})),t}}function L(e,t){e=e||[];var n,r,i=this;(t=t||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}}).frameInterval||(t.frameInterval=10),t.video||(t.video={}),t.video.width||(t.video.width=360),t.video.height||(t.video.height=240),this.record=function(){n=new P(e,t.elementClass||"multi-streams-mixer"),function(){var t=[];return e.forEach((function(e){_(e,"video").forEach((function(e){t.push(e)}))})),t}().length&&(n.frameInterval=t.frameInterval||10,n.width=t.video.width||360,n.height=t.video.height||240,n.startDrawingFrames()),t.previewStream&&"function"===typeof t.previewStream&&t.previewStream(n.getMixedStream()),(r=new T(n.getMixedStream(),t)).record()},this.stop=function(e){r&&r.stop((function(t){i.blob=t,e(t),i.clearRecordedData()}))},this.pause=function(){r&&r.pause()},this.resume=function(){r&&r.resume()},this.clearRecordedData=function(){r&&(r.clearRecordedData(),r=null),n&&(n.releaseStreams(),n=null)},this.addStreams=function(i){if(!i)throw"First parameter is required.";i instanceof Array||(i=[i]),e.concat(i),r&&n&&(n.appendStreams(i),t.previewStream&&"function"===typeof t.previewStream&&t.previewStream(n.getMixedStream()))},this.resetVideoStreams=function(e){n&&(!e||e instanceof Array||(e=[e]),n.resetVideoStreams(e))},this.getMixer=function(){return n},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}function M(e,t){var n,r,i;function a(){return new ReadableStream({start:function(r){var i=document.createElement("canvas"),a=document.createElement("video"),o=!0;a.srcObject=e,a.muted=!0,a.height=t.height,a.width=t.width,a.volume=0,a.onplaying=function(){i.width=t.width,i.height=t.height;var e=i.getContext("2d"),s=1e3/t.frameRate,u=setInterval((function(){if(n&&(clearInterval(u),r.close()),o&&(o=!1,t.onVideoProcessStarted&&t.onVideoProcessStarted()),e.drawImage(a,0,0),"closed"!==r._controlledReadableStream.state)try{r.enqueue(e.getImageData(0,0,t.width,t.height))}catch(i){}}),s)},a.play()}})}function o(e,u){if(!t.workerPath&&!u)return n=!1,void fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then((function(t){t.arrayBuffer().then((function(t){o(e,t)}))}));if(!t.workerPath&&u instanceof ArrayBuffer){var c=new Blob([u],{type:"text/javascript"});t.workerPath=h.createObjectURL(c)}t.workerPath||console.error("workerPath parameter is missing."),(r=new Worker(t.workerPath)).postMessage(t.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),r.addEventListener("message",(function(e){"READY"===e.data?(r.postMessage({width:t.width,height:t.height,bitrate:t.bitrate||1200,timebaseDen:t.frameRate||30,realtime:t.realtime}),a().pipeTo(new WritableStream({write:function(e){n?console.error("Got image, but recorder is finished!"):r.postMessage(e.data.buffer,[e.data.buffer])}}))):e.data&&(i||s.push(e.data))}))}"undefined"!==typeof ReadableStream&&"undefined"!==typeof WritableStream||console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),(t=t||{}).width=t.width||640,t.height=t.height||480,t.frameRate=t.frameRate||30,t.bitrate=t.bitrate||1200,t.realtime=t.realtime||!0,this.record=function(){s=[],i=!1,this.blob=null,o(e),"function"===typeof t.initCallback&&t.initCallback()},this.pause=function(){i=!0},this.resume=function(){i=!1};var s=[];this.stop=function(e){n=!0;var t=this;!function(e){r?(r.addEventListener("message",(function(t){null===t.data&&(r.terminate(),r=null,e&&e())})),r.postMessage(null)):e&&e()}((function(){t.blob=new Blob(s,{type:"video/webm"}),e(t.blob)}))},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){s=[],i=!1,this.blob=null},this.blob=null}i.DiskStorage=O,i.GifRecorder=D,i.MultiStreamRecorder=L,i.RecordRTCPromisesHandler=function(e,t){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if("undefined"===typeof e)throw'First argument "MediaStream" is required.';var n=this;n.recordRTC=new i(e,t),this.startRecording=function(){return new Promise((function(e,t){try{n.recordRTC.startRecording(),e()}catch(r){t(r)}}))},this.stopRecording=function(){return new Promise((function(e,t){try{n.recordRTC.stopRecording((function(r){n.blob=n.recordRTC.getBlob(),n.blob&&n.blob.size?e(r):t("Empty blob.",n.blob)}))}catch(r){t(r)}}))},this.pauseRecording=function(){return new Promise((function(e,t){try{n.recordRTC.pauseRecording(),e()}catch(r){t(r)}}))},this.resumeRecording=function(){return new Promise((function(e,t){try{n.recordRTC.resumeRecording(),e()}catch(r){t(r)}}))},this.getDataURL=function(e){return new Promise((function(e,t){try{n.recordRTC.getDataURL((function(t){e(t)}))}catch(r){t(r)}}))},this.getBlob=function(){return new Promise((function(e,t){try{e(n.recordRTC.getBlob())}catch(r){t(r)}}))},this.getInternalRecorder=function(){return new Promise((function(e,t){try{e(n.recordRTC.getInternalRecorder())}catch(r){t(r)}}))},this.reset=function(){return new Promise((function(e,t){try{e(n.recordRTC.reset())}catch(r){t(r)}}))},this.destroy=function(){return new Promise((function(e,t){try{e(n.recordRTC.destroy())}catch(r){t(r)}}))},this.getState=function(){return new Promise((function(e,t){try{e(n.recordRTC.getState())}catch(r){t(r)}}))},this.blob=null,this.version="5.6.2"},i.WebAssemblyRecorder=M},95:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(I),I=-1),p=!0;var a=h;try{for(k(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!R());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(c)&&i(c),k(n)}else i(c);d=r(c)}if(null!==d)var u=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),u=!1}return u}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,I=-1,T=5,C=-1;function R(){return!(t.unstable_now()-C<T)}function N(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"===typeof b)_=function(){b(N)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=N,_=function(){O.postMessage(null)}}else _=function(){g(N,0)};function D(e){E=e,S||(S=!0,_())}function P(e,n){I=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(I),I=-1):m=!0,P(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},224:function(e,t,n){"use strict";e.exports=n(95)},24:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return re},SDK_VERSION:function(){return vt},_DEFAULT_ENTRY_NAME:function(){return nt},_addComponent:function(){return ot},_addOrOverwriteComponent:function(){return st},_apps:function(){return it},_clearComponents:function(){return ft},_components:function(){return at},_getProvider:function(){return ct},_registerComponent:function(){return ut},_removeServiceInstance:function(){return lt},deleteApp:function(){return bt},getApp:function(){return gt},getApps:function(){return yt},initializeApp:function(){return mt},onLog:function(){return xt},registerVersion:function(){return wt},setLogLevel:function(){return _t}});var t=n(313),r=n.t(t,2),i=n(739);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function s(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function f(e,t){if(null==e)return{};var n,r,i=l(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=n(123),h=n.n(d),p=n(417),v=["xxl","xl","lg","md","sm","xs"],m=t.createContext({prefixes:{},breakpoints:v,minBreakpoint:"xs"});m.Consumer,m.Provider;function g(e,n){var r=(0,t.useContext)(m).prefixes;return e||r[n]||n}var y=["bsPrefix","fluid","as","className"],b=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=void 0!==r&&r,a=e.as,o=void 0===a?"div":a,s=e.className,u=f(e,y),l=g(n,"container"),d="string"===typeof i?"-".concat(i):"-fluid";return(0,p.jsx)(o,c(c({ref:t},u),{},{className:h()(s,i?"".concat(l).concat(d):l)}))}));b.displayName="Container";var k=b;function w(e){if(Array.isArray(e))return e}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){if(e){if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){return w(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||_(e,t)||S()}var I=(0,t.createContext)(),T=function(e){var n=e.children,r=E((0,t.useState)({}),2),i=r[0],a=r[1],o=E((0,t.useState)(null),2),s=o[0],u=o[1];return(0,t.useEffect)((function(){var e=localStorage.getItem("globalUser");e&&u(JSON.parse(e))}),[]),(0,t.useEffect)((function(){localStorage.setItem("globalUser",JSON.stringify(s))}),[s]),(0,t.useEffect)((function(){var e=localStorage.getItem("globalPerformance");e&&a(JSON.parse(e))}),[]),(0,t.useEffect)((function(){localStorage.setItem("setGlobalPerformance",JSON.stringify(a))}),[a]),(0,p.jsx)(I.Provider,{value:[[i,a],[s,u]],children:n})};function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function N(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function A(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function P(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function M(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function j(e){var t=M();return function(){var n,r=L(e);if(t){var i=L(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}(this,n)}}function U(e,t,n){return U=M()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&D(i,n.prototype),i},U.apply(null,arguments)}function F(e){var t="function"===typeof Map?new Map:void 0;return F=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return U(e,arguments,L(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),D(n,e)},F(e)}var V=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},z={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,d=(15&s)<<2|c>>6,h=63&c;u||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(V(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new B;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},B=function(e){P(n,e);var t=j(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return N(n)}(F(Error)),q=function(e){return function(e){var t=V(e);return z.encodeByteArray(t,!0)}(e).replace(/\./g,"")},G=function(e){try{return z.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function W(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=W(e[n],t[n]));return e}var H=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},K=function(){try{return H()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyBeGxpyW7-XKT4scH41JCzn2Tzb3s7sveY",REACT_APP_FIREBASE_AUTH_DOMAIN:"sentiment-6696b.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://sentiment-6696b-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"sentiment-6696b",REACT_APP_FIREBASE_STORAGE_BUCKET:"sentiment-6696b.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"929145383886",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-38C03L0RC1",REACT_APP_FIREBASE_APP_ID:"1:929145383886:web:4059c05a3f9aebca45199f"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&G(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Q=function(){var e;return null===(e=K())||void 0===e?void 0:e.config},Y=function(){function e(){var t=this;C(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return N(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function J(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[q(JSON.stringify({alg:"none",type:"JWT"})),q(JSON.stringify(a)),""].join(".")}function X(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function $(){var e,t=null===(e=K())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Z(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ee(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function te(){var e=X();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ne(){try{return"object"===typeof indexedDB}catch(e){return!1}}var re=function(e){P(n,e);var t=j(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(O(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(O(a),ie.prototype.create),a}return N(n)}(F(Error)),ie=function(){function e(t,n,r){C(this,e),this.service=t,this.serviceName=n,this.errors=r}return N(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ae,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new re(n,a,t)}}]),e}();var ae=/\{\$([^}]+)}/g;function oe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function se(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(ue(s)&&ue(u)){if(!se(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ue(e){return null!==e&&"object"===typeof e}function ce(e){for(var t=[],n=function(){var e=E(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function le(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=E(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function fe(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function de(e,t){var n=new he(e,t);return n.subscribe.bind(n)}var he=function(){function e(t,n){var r=this;C(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return N(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=A(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=pe),void 0===r.error&&(r.error=pe),void 0===r.complete&&(r.complete=pe);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function pe(){}function ve(e){return e&&e._delegate?e._delegate:e}function me(){me=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(R){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new I(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=l;var d={};function h(){}function p(){}function v(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,o)&&(m=y);var b=v.prototype=h.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,s,u){var c=f(e[r],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==a(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=c(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),c(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(b),c(b,u,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function ge(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ye(e){return function(e){if(Array.isArray(e))return x(e)}(e)||ge(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function ke(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){be(a,r,i,o,s,"next",e)}function s(e){be(a,r,i,o,s,"throw",e)}o(void 0)}))}}var we=function(){function e(t,n,r){C(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return N(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),xe="[DEFAULT]",_e=function(){function e(t,n){C(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return N(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Y;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:xe})}catch(u){}var t,n=A(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=E(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ke(me().mark((function e(){var t;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ye(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ye(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=A(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=E(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(N_){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===xe?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(N_){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe;return this.component?this.component.multipleInstances?e:xe:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Se,Ee,Ie=function(){function e(t){C(this,e),this.name=t,this.providers=new Map}return N(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new _e(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Te=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ee||(Ee={}));var Ce={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},Re=Ee.INFO,Ne=(s(Se={},Ee.DEBUG,"log"),s(Se,Ee.VERBOSE,"log"),s(Se,Ee.INFO,"info"),s(Se,Ee.WARN,"warn"),s(Se,Ee.ERROR,"error"),Se),Ae=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ne[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Oe=function(){function e(t){C(this,e),this.name=t,this._logLevel=Re,this._logHandler=Ae,this._userLogHandler=null,Te.push(this)}return N(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ee))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ce[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ee.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ee.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ee.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ee.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ee.INFO].concat(t)),this._logHandler.apply(this,[this,Ee.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ee.WARN].concat(t)),this._logHandler.apply(this,[this,Ee.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ee.ERROR].concat(t)),this._logHandler.apply(this,[this,Ee.ERROR].concat(t))}}]),e}();var De,Pe,Le=function(e,t){return t.some((function(t){return e instanceof t}))};var Me=new WeakMap,je=new WeakMap,Ue=new WeakMap,Fe=new WeakMap,Ve=new WeakMap;var ze={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return je.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ue.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ge(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Be(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Pe||(Pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(We(this),n),Ge(Me.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ge(e.apply(We(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[We(this),t].concat(r));return Ue.set(a,t.sort?t.sort():[t]),Ge(a)}}function qe(e){return"function"===typeof e?Be(e):(e instanceof IDBTransaction&&function(e){if(!je.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));je.set(e,t)}}(e),Le(e,De||(De=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ze):e)}function Ge(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ge(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Me.set(t,e)})).catch((function(){})),Ve.set(t,e),t}(e);if(Fe.has(e))return Fe.get(e);var t=qe(e);return t!==e&&(Fe.set(e,t),Ve.set(t,e)),t}var We=function(e){return Ve.get(e)};var He,Ke,Qe=["get","getKey","getAll","getAllKeys","count"],Ye=["put","add","delete","clear"],Je=new Map;function Xe(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Je.get(t))return Je.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ye.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Qe.includes(n))){var a=function(){var e=ke(me().mark((function e(t){var a,o,s,u,c,l,f=arguments;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Je.set(t,a),a}}}ze=function(e){return c(c({},e),{},{get:function(t,n,r){return Xe(t,n)||e.get(t,n,r)},has:function(t,n){return!!Xe(t,n)||e.has(t,n)}})}(ze);var $e=function(){function e(t){C(this,e),this.container=t}return N(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ze="@firebase/app",et="0.9.7",tt=new Oe("@firebase/app"),nt="[DEFAULT]",rt=(s(He={},Ze,"fire-core"),s(He,"@firebase/app-compat","fire-core-compat"),s(He,"@firebase/analytics","fire-analytics"),s(He,"@firebase/analytics-compat","fire-analytics-compat"),s(He,"@firebase/app-check","fire-app-check"),s(He,"@firebase/app-check-compat","fire-app-check-compat"),s(He,"@firebase/auth","fire-auth"),s(He,"@firebase/auth-compat","fire-auth-compat"),s(He,"@firebase/database","fire-rtdb"),s(He,"@firebase/database-compat","fire-rtdb-compat"),s(He,"@firebase/functions","fire-fn"),s(He,"@firebase/functions-compat","fire-fn-compat"),s(He,"@firebase/installations","fire-iid"),s(He,"@firebase/installations-compat","fire-iid-compat"),s(He,"@firebase/messaging","fire-fcm"),s(He,"@firebase/messaging-compat","fire-fcm-compat"),s(He,"@firebase/performance","fire-perf"),s(He,"@firebase/performance-compat","fire-perf-compat"),s(He,"@firebase/remote-config","fire-rc"),s(He,"@firebase/remote-config-compat","fire-rc-compat"),s(He,"@firebase/storage","fire-gcs"),s(He,"@firebase/storage-compat","fire-gcs-compat"),s(He,"@firebase/firestore","fire-fst"),s(He,"@firebase/firestore-compat","fire-fst-compat"),s(He,"fire-js","fire-js"),s(He,"firebase","fire-js-all"),He),it=new Map,at=new Map;function ot(e,t){try{e.container.addComponent(t)}catch(n){tt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function st(e,t){e.container.addOrOverwriteComponent(t)}function ut(e){var t=e.name;if(at.has(t))return tt.debug("There were multiple attempts to register component ".concat(t,".")),!1;at.set(t,e);var n,r=A(it.values());try{for(r.s();!(n=r.n()).done;){ot(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ct(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function lt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nt;ct(e,t).clearInstance(n)}function ft(){at.clear()}var dt=(s(Ke={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),s(Ke,"bad-app-name","Illegal App name: '{$appName}"),s(Ke,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),s(Ke,"app-deleted","Firebase App named '{$appName}' already deleted"),s(Ke,"no-options","Need to provide options, when not being deployed to hosting via source."),s(Ke,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),s(Ke,"invalid-log-argument","First argument to `onLog` must be null or a function."),s(Ke,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),s(Ke,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),s(Ke,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),s(Ke,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Ke),ht=new ie("app","Firebase",dt),pt=function(){function e(t,n,r){var i=this;C(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new we("app",(function(){return i}),"PUBLIC"))}return N(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ht.create("app-deleted",{appName:this._name})}}]),e}(),vt="9.19.1";function mt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:nt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ht.create("bad-app-name",{appName:String(i)});if(n||(n=Q()),!n)throw ht.create("no-options");var a=it.get(i);if(a){if(se(n,a.options)&&se(r,a.config))return a;throw ht.create("duplicate-app",{appName:i})}var o,s=new Ie(i),u=A(at.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new pt(n,r,s);return it.set(i,l),l}function gt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=it.get(e);if(!t&&e===nt)return mt();if(!t)throw ht.create("no-app",{appName:e});return t}function yt(){return Array.from(it.values())}function bt(e){return kt.apply(this,arguments)}function kt(){return kt=ke(me().mark((function e(t){var n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!it.has(n)){e.next=6;break}return it.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),kt.apply(this,arguments)}function wt(e,t,n){var r,i=null!==(r=rt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void tt.warn(s.join(" "))}ut(new we("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function xt(e,t){if(null!==e&&"function"!==typeof e)throw ht.create("invalid-log-argument");!function(e,t){var n,r=A(Te);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ce[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ee[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function _t(e){var t;t=e,Te.forEach((function(e){e.setLogLevel(t)}))}var St="firebase-heartbeat-database",Et=1,It="firebase-heartbeat-store",Tt=null;function Ct(){return Tt||(Tt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Ge(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Ge(s.result),e.oldVersion,e.newVersion,Ge(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(St,Et,{upgrade:function(e,t){if(0===t)e.createObjectStore(It)}}).catch((function(e){throw ht.create("idb-open",{originalErrorMessage:e.message})}))),Tt}function Rt(e){return Nt.apply(this,arguments)}function Nt(){return Nt=ke(me().mark((function e(t){var n,r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ct();case 3:return n=e.sent,e.abrupt("return",n.transaction(It).objectStore(It).get(Dt(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof re?tt.warn(e.t0.message):(r=ht.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),tt.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Nt.apply(this,arguments)}function At(e,t){return Ot.apply(this,arguments)}function Ot(){return Ot=ke(me().mark((function e(t,n){var r,i,a,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ct();case 3:return r=e.sent,i=r.transaction(It,"readwrite"),a=i.objectStore(It),e.next=8,a.put(n,Dt(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof re?tt.warn(e.t0.message):(o=ht.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),tt.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ot.apply(this,arguments)}function Dt(e){return"".concat(e.name,"!").concat(e.options.appId)}var Pt=function(){function e(t){var n=this;C(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ft(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return N(e,[{key:"triggerHeartbeat",value:function(){var e=ke(me().mark((function e(){var t,n,r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Lt(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ke(me().mark((function e(){var t,n,r,i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Lt(),n=Mt(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=q(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Lt(){return(new Date).toISOString().substring(0,10)}function Mt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=A(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Vt(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Vt(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var jt,Ut,Ft=function(){function e(t){C(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return N(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ke(me().mark((function e(){var t;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Rt(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ke(me().mark((function e(t){var n,r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",At(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ke(me().mark((function e(t){var n,r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",At(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(ye(r.heartbeats),ye(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Vt(e){return q(JSON.stringify({version:2,heartbeats:e})).length}jt="",ut(new we("platform-logger",(function(e){return new $e(e)}),"PRIVATE")),ut(new we("heartbeat",(function(e){return new Pt(e)}),"PRIVATE")),wt(Ze,et,jt),wt(Ze,et,"esm2017"),wt("fire-js","");var zt=function(){function e(t,n){var r=this;C(this,e),this._delegate=t,this.firebase=n,ot(t,new we("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return N(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),bt(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ot(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){st(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Bt=(s(Ut={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),s(Ut,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ut),qt=new ie("app-compat","Firebase",Bt);var Gt=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=mt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(oe(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:wt,setLogLevel:_t,onLog:xt,apps:null,SDK_VERSION:vt,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ut(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw qt.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&W(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!oe(n,e=e||nt))throw qt.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(zt);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){W(n,e)},createSubscribe:de,ErrorFactory:ie,deepExtend:W}),n}(),Wt=new Oe("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Wt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ht=self.firebase.SDK_VERSION;Ht&&Ht.indexOf("LITE")>=0&&Wt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Kt=Gt;!function(e){wt("@firebase/app-compat","0.2.7",e)}();function Qt(e){return w(e)||ge(e)||_(e)||S()}function Yt(){return Yt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Yt.apply(this,arguments)}Kt.registerVersion("firebase","9.19.1","app-compat");function Jt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Xt;Object.create;var $t={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Zt="EMAIL_SIGNIN",en="PASSWORD_RESET",tn="RECOVER_EMAIL",nn="REVERT_SECOND_FACTOR_ADDITION",rn="VERIFY_AND_CHANGE_EMAIL",an="VERIFY_EMAIL";function on(){return s({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var sn=function(){var e;return s(e={},"admin-restricted-operation","This operation is restricted to administrators only."),s(e,"argument-error",""),s(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),s(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),s(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),s(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),s(e,"cordova-not-ready","Cordova framework is not ready."),s(e,"cors-unsupported","This browser is not supported."),s(e,"credential-already-in-use","This credential is already associated with a different user account."),s(e,"custom-token-mismatch","The custom token corresponds to a different audience."),s(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),s(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),s(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),s(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),s(e,"email-already-in-use","The email address is already in use by another account."),s(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),s(e,"expired-action-code","The action code has expired."),s(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),s(e,"internal-error","An internal AuthError has occurred."),s(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),s(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),s(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),s(e,"invalid-auth-event","An internal AuthError has occurred."),s(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),s(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),s(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),s(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),s(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),s(e,"invalid-email","The email address is badly formatted."),s(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),s(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),s(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),s(e,"invalid-credential","The supplied auth credential is malformed or has expired."),s(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),s(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),s(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),s(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),s(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),s(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),s(e,"wrong-password","The password is invalid or the user does not have a password."),s(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),s(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),s(e,"invalid-provider-id","The specified provider ID is invalid."),s(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),s(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),s(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),s(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),s(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),s(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),s(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),s(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),s(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),s(e,"missing-continue-uri","A continue URL must be provided in the request."),s(e,"missing-iframe-start","An internal AuthError has occurred."),s(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),s(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),s(e,"missing-password","A non-empty password must be provided"),s(e,"missing-multi-factor-info","No second factor identifier is provided."),s(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),s(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),s(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),s(e,"app-deleted","This instance of FirebaseApp has been deleted."),s(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),s(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),s(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),s(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),s(e,"no-auth-event","An internal AuthError has occurred."),s(e,"no-such-provider","User was not linked to an account with the given provider."),s(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),s(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),s(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),s(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),s(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),s(e,"provider-already-linked","User can only be linked to one identity for the given provider."),s(e,"quota-exceeded","The project's quota for this operation has been exceeded."),s(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),s(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),s(e,"rejected-credential","The request contains malformed or mismatching credentials."),s(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),s(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),s(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),s(e,"timeout","The operation has timed out."),s(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),s(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),s(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),s(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),s(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),s(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),s(e,"unverified-email","The operation requires a verified email."),s(e,"user-cancelled","The user did not grant your application the permissions it requested."),s(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),s(e,"user-disabled","The user account has been disabled by an administrator."),s(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),s(e,"user-signed-out",""),s(e,"weak-password","The password must be 6 characters long or more."),s(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),s(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},un=on,cn=new ie("auth","Firebase",on()),ln=new Oe("@firebase/auth");function fn(e){if(ln.logLevel<=Ee.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ln.error.apply(ln,["Auth (".concat(vt,"): ").concat(e)].concat(n))}}function dn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw mn.apply(void 0,[e].concat(n))}function hn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return mn.apply(void 0,[e].concat(n))}function pn(e,t,n){var r=Object.assign(Object.assign({},un()),s({},t,n));return new ie("auth","Firebase",r).create(t,{appName:e.name})}function vn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&dn(e,"argument-error"),pn(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function mn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=ye(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(ye(o)))}return cn.create.apply(cn,[e].concat(n))}function gn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw mn.apply(void 0,[t].concat(r))}}function yn(e){var t="INTERNAL ASSERTION FAILED: "+e;throw fn(t),new Error(t)}function bn(e,t){e||yn(t)}var kn=new Map;function wn(e){bn(e instanceof Function,"Expected a class definition");var t=kn.get(e);return t?(bn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,kn.set(e,t),t)}function xn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function _n(){return"http:"===Sn()||"https:"===Sn()}function Sn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var En=function(){function e(t,n){C(this,e),this.shortDelay=t,this.longDelay=n,bn(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(X())||ee()}return N(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(_n()||Z()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function In(e,t){bn(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Tn=function(){function e(){C(this,e)}return N(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Cn=(s(Xt={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),s(Xt,"MISSING_CUSTOM_TOKEN","internal-error"),s(Xt,"INVALID_IDENTIFIER","invalid-email"),s(Xt,"MISSING_CONTINUE_URI","internal-error"),s(Xt,"INVALID_PASSWORD","wrong-password"),s(Xt,"MISSING_PASSWORD","missing-password"),s(Xt,"EMAIL_EXISTS","email-already-in-use"),s(Xt,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),s(Xt,"INVALID_IDP_RESPONSE","invalid-credential"),s(Xt,"INVALID_PENDING_TOKEN","invalid-credential"),s(Xt,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),s(Xt,"MISSING_REQ_TYPE","internal-error"),s(Xt,"EMAIL_NOT_FOUND","user-not-found"),s(Xt,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),s(Xt,"EXPIRED_OOB_CODE","expired-action-code"),s(Xt,"INVALID_OOB_CODE","invalid-action-code"),s(Xt,"MISSING_OOB_CODE","internal-error"),s(Xt,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),s(Xt,"INVALID_ID_TOKEN","invalid-user-token"),s(Xt,"TOKEN_EXPIRED","user-token-expired"),s(Xt,"USER_NOT_FOUND","user-token-expired"),s(Xt,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),s(Xt,"INVALID_CODE","invalid-verification-code"),s(Xt,"INVALID_SESSION_INFO","invalid-verification-id"),s(Xt,"INVALID_TEMPORARY_PROOF","invalid-credential"),s(Xt,"MISSING_SESSION_INFO","missing-verification-id"),s(Xt,"SESSION_EXPIRED","code-expired"),s(Xt,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),s(Xt,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),s(Xt,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),s(Xt,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),s(Xt,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),s(Xt,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),s(Xt,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),s(Xt,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),s(Xt,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),s(Xt,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),s(Xt,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Xt),Rn=new En(3e4,6e4);function Nn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function An(e,t,n,r){return On.apply(this,arguments)}function On(){return On=ke(me().mark((function e(t,n,r,i){var a,o=arguments;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Dn(t,a,ke(me().mark((function e(){var a,o,s,u;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=ce(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Tn.fetch()(jn(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),On.apply(this,arguments)}function Dn(e,t,n){return Pn.apply(this,arguments)}function Pn(){return Pn=ke(me().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d,h;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Cn),n),e.prev=2,a=new Un(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Fn(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=E(c,2),f=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Fn(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Fn(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Fn(t,"user-disabled",s);case 29:if(h=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw pn(t,h,d);case 34:dn(t,h);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof re)){e.next=41;break}throw e.t0;case 41:dn(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Pn.apply(this,arguments)}function Ln(e,t,n,r){return Mn.apply(this,arguments)}function Mn(){return Mn=ke(me().mark((function e(t,n,r,i){var a,o,s=arguments;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,An(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&dn(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Mn.apply(this,arguments)}function jn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?In(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Un=function(){function e(t){var n=this;C(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(hn(n.auth,"network-request-failed"))}),Rn.get())}))}return N(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Fn(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=hn(e,t,r);return i.customData._tokenResponse=n,i}function Vn(e,t){return zn.apply(this,arguments)}function zn(){return zn=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),zn.apply(this,arguments)}function Bn(e,t){return qn.apply(this,arguments)}function qn(){return qn=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),qn.apply(this,arguments)}function Gn(e,t){return Wn.apply(this,arguments)}function Wn(){return Wn=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Wn.apply(this,arguments)}function Hn(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Kn(){return Kn=ke(me().mark((function e(t){var n,r,i,a,o,s,u=arguments;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=ve(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,gn((a=Yn(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Hn(Qn(a.auth_time)),issuedAtTime:Hn(Qn(a.iat)),expirationTime:Hn(Qn(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Kn.apply(this,arguments)}function Qn(e){return 1e3*Number(e)}function Yn(e){var t=E(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return fn("JWT malformed, contained fewer than 3 sections"),null;try{var a=G(r);return a?JSON.parse(a):(fn("Failed to decode base64 JWT payload"),null)}catch(o){return fn("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Jn(e,t){return Xn.apply(this,arguments)}function Xn(){return Xn=ke(me().mark((function e(t,n){var r=arguments;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof re&&$n(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Xn.apply(this,arguments)}function $n(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Zn=function(){function e(t){C(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return N(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ke(me().mark((function t(){return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),er=function(){function e(t,n){C(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return N(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Hn(this.lastLoginAt),this.creationTime=Hn(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function tr(e){return nr.apply(this,arguments)}function nr(){return nr=ke(me().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,d;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Jn(t,Gn(r,{idToken:i}));case 6:gn(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?ar(o.providerUserInfo):[],u=ir(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new er(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),nr.apply(this,arguments)}function rr(){return(rr=ke(me().mark((function e(t){var n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ve(t),e.next=3,tr(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ir(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(ye(n),ye(t))}function ar(e){return e.map((function(e){var t=e.providerId,n=Jt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function or(e,t){return sr.apply(this,arguments)}function sr(){return sr=ke(me().mark((function e(t,n){var r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dn(t,{},ke(me().mark((function e(){var r,i,a,o,s,u;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ce({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=jn(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Tn.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),sr.apply(this,arguments)}var ur=function(){function e(){C(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return N(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){gn(e.idToken,"internal-error"),gn("undefined"!==typeof e.idToken,"internal-error"),gn("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Yn(e);return gn(t,"internal-error"),gn("undefined"!==typeof t.exp,"internal-error"),gn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ke(me().mark((function e(t){var n,r=arguments;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],gn(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ke(me().mark((function e(t,n){var r,i,a,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,or(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return yn("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(gn("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(gn("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(gn("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function cr(e,t){gn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var lr=function(){function e(t){C(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Jt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?ye(a.providerData):[],this.metadata=new er(a.createdAt||void 0,a.lastLoginAt||void 0)}return N(e,[{key:"getIdToken",value:function(){var e=ke(me().mark((function e(t){var n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jn(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(gn(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Kn.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return rr.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(gn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){gn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ke(me().mark((function e(t){var n,r,i=arguments;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,tr(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ke(me().mark((function e(){var t;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Jn(this,Vn(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;gn(b&&_,t,"internal-error");var S=ur.fromJSON(this.name,_);gn("string"===typeof b,t,"internal-error"),cr(f,t.name),cr(d,t.name),gn("boolean"===typeof k,t,"internal-error"),gn("boolean"===typeof w,t,"internal-error"),cr(h,t.name),cr(p,t.name),cr(v,t.name),cr(m,t.name),cr(g,t.name),cr(y,t.name);var E=new e({uid:b,auth:t,email:d,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:S,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=ke(me().mark((function t(n,r){var i,a,o,s=arguments;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new ur).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,tr(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),fr=function(){function e(){C(this,e),this.type="NONE",this.storage={}}return N(e,[{key:"_isAvailable",value:function(){var e=ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ke(me().mark((function e(t){var n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();fr.type="NONE";var dr=fr;function hr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var pr=function(){function e(t,n,r){C(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=hr(this.userKey,a.apiKey,o),this.fullPersistenceKey=hr("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return N(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ke(me().mark((function e(){var t;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?lr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ke(me().mark((function e(t){var n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ke(me().mark((function t(n,r){var i,a,o,s,u,c,l,f,d,h,p,v=arguments;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(wn(dr),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||wn(dr),s=hr(i,n.config.apiKey,n.name),u=null,c=A(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(d=t.sent)){t.next=23;break}return h=lr._fromJSON(n,d),f!==o&&(u=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function vr(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(br(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wr(t))return"Blackberry";if(xr(t))return"Webos";if(gr(t))return"Safari";if((t.includes("chrome/")||yr(t))&&!t.includes("edge/"))return"Chrome";if(kr(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function mr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();return/firefox\//i.test(e)}function gr(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:X()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();return/crios\//i.test(e)}function br(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();return/iemobile/i.test(e)}function kr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();return/android/i.test(e)}function wr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();return/blackberry/i.test(e)}function xr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();return/webos/i.test(e)}function _r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Sr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();return _r(e)||kr(e)||xr(e)||wr(e)||/windows phone/i.test(e)||br(e)}function Er(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=vr(X());break;case"Worker":t="".concat(vr(X()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(vt,"/").concat(r)}var Ir=function(){function e(t){C(this,e),this.auth=t,this.queue=[]}return N(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=ke(me().mark((function e(t){var n,r,i,a,o,s,u;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=A(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=A(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Tr=function(){function e(t,n,r){C(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rr(this),this.idTokenSubscription=new Rr(this),this.beforeStateQueue=new Ir(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return N(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=wn(t)),this._initializationPromise=this.queue(ke(me().mark((function r(){var i,a;return me().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,pr.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ke(me().mark((function e(){var t;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ke(me().mark((function e(t){var n,r,i,a,o,s,u;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return gn(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ke(me().mark((function e(t){var n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tr(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ke(me().mark((function e(t){var n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ve(t):null)&&gn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ke(me().mark((function e(t){var n,r=this,i=arguments;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&gn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ke(me().mark((function n(){return me().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(wn(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ie("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ke(me().mark((function e(t,n){var r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ke(me().mark((function e(t){var n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return gn(n=t&&wn(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,pr.create(this,[wn(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ke(me().mark((function e(t){var n,r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ke(me().mark((function e(t){var n=this;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return gn(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return gn(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Er(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ke(me().mark((function e(){var t,n,r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Cr(e){return ve(e)}var Rr=function(){function e(t){var n=this;C(this,e),this.auth=t,this.observer=null,this.addObserver=de((function(e){return n.observer=e}))}return N(e,[{key:"next",get:function(){return gn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Nr(e,t,n){var r=Cr(e);gn(r._canInitEmulator,r,"emulator-config-failed"),gn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Ar(t),o=function(e){var t=Ar(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Or(r.substr(a.length+1))}}var o=E(r.split(":"),2);return{host:o[0],port:Or(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ar(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Or(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Dr=function(){function e(t,n){C(this,e),this.providerId=t,this.signInMethod=n}return N(e,[{key:"toJSON",value:function(){return yn("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return yn("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return yn("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return yn("not implemented")}}]),e}();function Pr(e,t){return Lr.apply(this,arguments)}function Lr(){return Lr=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:resetPassword",Nn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Lr.apply(this,arguments)}function Mr(e,t){return jr.apply(this,arguments)}function jr(){return jr=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),jr.apply(this,arguments)}function Ur(e,t){return Fr.apply(this,arguments)}function Fr(){return Fr=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:update",Nn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Fr.apply(this,arguments)}function Vr(e,t){return zr.apply(this,arguments)}function zr(){return zr=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ln(t,"POST","/v1/accounts:signInWithPassword",Nn(t,n)));case 1:case"end":return e.stop()}}),e)}))),zr.apply(this,arguments)}function Br(e,t){return qr.apply(this,arguments)}function qr(){return qr=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:sendOobCode",Nn(t,n)));case 1:case"end":return e.stop()}}),e)}))),qr.apply(this,arguments)}function Gr(e,t){return Wr.apply(this,arguments)}function Wr(){return Wr=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Br(t,n));case 1:case"end":return e.stop()}}),e)}))),Wr.apply(this,arguments)}function Hr(e,t){return Kr.apply(this,arguments)}function Kr(){return Kr=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Br(t,n));case 1:case"end":return e.stop()}}),e)}))),Kr.apply(this,arguments)}function Qr(e,t){return Yr.apply(this,arguments)}function Yr(){return Yr=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Br(t,n));case 1:case"end":return e.stop()}}),e)}))),Yr.apply(this,arguments)}function Jr(e,t){return Xr.apply(this,arguments)}function Xr(){return Xr=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Br(t,n));case 1:case"end":return e.stop()}}),e)}))),Xr.apply(this,arguments)}function $r(e,t){return Zr.apply(this,arguments)}function Zr(){return Zr=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ln(t,"POST","/v1/accounts:signInWithEmailLink",Nn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zr.apply(this,arguments)}function ei(e,t){return ti.apply(this,arguments)}function ti(){return ti=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ln(t,"POST","/v1/accounts:signInWithEmailLink",Nn(t,n)));case 1:case"end":return e.stop()}}),e)}))),ti.apply(this,arguments)}var ni=function(e){P(n,e);var t=j(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return C(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return N(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Vr(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",$r(t,{email:this._email,oobCode:this._password}));case 5:dn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Mr(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ei(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:dn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Dr);function ri(e,t){return ii.apply(this,arguments)}function ii(){return ii=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ln(t,"POST","/v1/accounts:signInWithIdp",Nn(t,n)));case 1:case"end":return e.stop()}}),e)}))),ii.apply(this,arguments)}var ai=function(e){P(n,e);var t=j(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return N(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ri(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ri(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ri(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ce(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dn("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Jt(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Dr);function oi(e,t){return si.apply(this,arguments)}function si(){return si=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:sendVerificationCode",Nn(t,n)));case 1:case"end":return e.stop()}}),e)}))),si.apply(this,arguments)}function ui(){return ui=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ln(t,"POST","/v1/accounts:signInWithPhoneNumber",Nn(t,n)));case 1:case"end":return e.stop()}}),e)}))),ui.apply(this,arguments)}function ci(){return ci=ke(me().mark((function e(t,n){var r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ln(t,"POST","/v1/accounts:signInWithPhoneNumber",Nn(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Fn(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),ci.apply(this,arguments)}var li=s({},"USER_NOT_FOUND","user-not-found");function fi(){return fi=ke(me().mark((function e(t,n){var r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ln(t,"POST","/v1/accounts:signInWithPhoneNumber",Nn(t,r),li));case 2:case"end":return e.stop()}}),e)}))),fi.apply(this,arguments)}var di=function(e){P(n,e);var t=j(n);function n(e){var r;return C(this,n),(r=t.call(this,"phone","phone")).params=e,r}return N(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ui.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ci.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return fi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Dr);var hi=function(){function e(t){var n,r,i,a,o,s;C(this,e);var u=le(fe(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);gn(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return N(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=le(fe(e)).link,n=t?le(fe(t)).deep_link_id:null,r=le(fe(e)).deep_link_id;return(r?le(fe(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(N_){return null}}}]),e}();var pi=function(){function e(){C(this,e),this.providerId=e.PROVIDER_ID}return N(e,null,[{key:"credential",value:function(e,t){return ni._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=hi.parseLink(t);return gn(n,"argument-error"),ni._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();pi.PROVIDER_ID="password",pi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",pi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var vi=function(){function e(t){C(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return N(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),mi=function(e){P(n,e);var t=j(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).scopes=[],e}return N(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return ye(this.scopes)}}]),n}(vi),gi=function(e){P(n,e);var t=j(n);function n(){return C(this,n),t.apply(this,arguments)}return N(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return gn(e.idToken||e.accessToken,"argument-error"),ai._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return gn("providerId"in t&&"signInMethod"in t,"argument-error"),ai._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(mi),yi=function(e){P(n,e);var t=j(n);function n(){return C(this,n),t.call(this,"facebook.com")}return N(n,null,[{key:"credential",value:function(e){return ai._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(N_){return null}}}]),n}(mi);yi.FACEBOOK_SIGN_IN_METHOD="facebook.com",yi.PROVIDER_ID="facebook.com";var bi=function(e){P(n,e);var t=j(n);function n(){var e;return C(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return N(n,null,[{key:"credential",value:function(e,t){return ai._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(N_){return null}}}]),n}(mi);bi.GOOGLE_SIGN_IN_METHOD="google.com",bi.PROVIDER_ID="google.com";var ki=function(e){P(n,e);var t=j(n);function n(){return C(this,n),t.call(this,"github.com")}return N(n,null,[{key:"credential",value:function(e){return ai._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(N_){return null}}}]),n}(mi);ki.GITHUB_SIGN_IN_METHOD="github.com",ki.PROVIDER_ID="github.com";var wi=function(e){P(n,e);var t=j(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return N(n,[{key:"_getIdTokenResponse",value:function(e){return ri(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ri(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ri(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Dr),xi=function(e){P(n,e);var t=j(n);function n(e){return C(this,n),gn(e.startsWith("saml."),"argument-error"),t.call(this,e)}return N(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=wi.fromJSON(e);return gn(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return wi._create(r,n)}catch(i){return null}}}]),n}(vi),_i=function(e){P(n,e);var t=j(n);function n(){return C(this,n),t.call(this,"twitter.com")}return N(n,null,[{key:"credential",value:function(e,t){return ai._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(N_){return null}}}]),n}(mi);function Si(e,t){return Ei.apply(this,arguments)}function Ei(){return Ei=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ln(t,"POST","/v1/accounts:signUp",Nn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ei.apply(this,arguments)}_i.TWITTER_SIGN_IN_METHOD="twitter.com",_i.PROVIDER_ID="twitter.com";var Ii=function(){function e(t){C(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return N(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ke(me().mark((function t(n,r,i){var a,o,s,u,c=arguments;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,lr._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Ti(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ke(me().mark((function t(n,r,i){var a;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ti(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ti(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ci(){return Ci=ke(me().mark((function e(t){var n,r,i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cr(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ii({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Si(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ii._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Ci.apply(this,arguments)}var Ri=function(e){P(n,e);var t=j(n);function n(e,r,i,a){var o,s;return C(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(O(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return N(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(re);function Ni(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ri._fromErrorAndOperation(e,n,t,r);throw n}))}function Ai(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Oi(e,t){return Di.apply(this,arguments)}function Di(){return Di=ke(me().mark((function e(t,n){var r,i,a,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ve(t),e.next=3,Mi(!0,r,n);case 3:return e.t0=Bn,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Ai(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Di.apply(this,arguments)}function Pi(e,t){return Li.apply(this,arguments)}function Li(){return Li=ke(me().mark((function e(t,n){var r,i,a=arguments;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Jn,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ii._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Li.apply(this,arguments)}function Mi(e,t,n){return ji.apply(this,arguments)}function ji(){return(ji=ke(me().mark((function e(t,n,r){var i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr(n);case 2:i=Ai(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",gn(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ui(e,t){return Fi.apply(this,arguments)}function Fi(){return Fi=ke(me().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Jn(t,Ni(i,a,n,t),r);case 6:return gn((o=e.sent).idToken,i,"internal-error"),gn(s=Yn(o.idToken),i,"internal-error"),u=s.sub,gn(t.uid===u,i,"user-mismatch"),e.abrupt("return",Ii._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&dn(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Fi.apply(this,arguments)}function Vi(e,t){return zi.apply(this,arguments)}function zi(){return zi=ke(me().mark((function e(t,n){var r,i,a,o,s=arguments;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Ni(t,i,n);case 4:return a=e.sent,e.next=7,Ii._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),zi.apply(this,arguments)}function Bi(e,t){return qi.apply(this,arguments)}function qi(){return qi=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vi(Cr(t),n));case 1:case"end":return e.stop()}}),e)}))),qi.apply(this,arguments)}function Gi(e,t){return Wi.apply(this,arguments)}function Wi(){return(Wi=ke(me().mark((function e(t,n){var r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ve(t),e.next=3,Mi(!1,r,n.providerId);case 3:return e.abrupt("return",Pi(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hi(e,t){return Ki.apply(this,arguments)}function Ki(){return(Ki=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ui(ve(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qi(e,t){return Yi.apply(this,arguments)}function Yi(){return Yi=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ln(t,"POST","/v1/accounts:signInWithCustomToken",Nn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Yi.apply(this,arguments)}function Ji(){return Ji=ke(me().mark((function e(t,n){var r,i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cr(t),e.next=3,Qi(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ii._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Ji.apply(this,arguments)}var Xi=function(){function e(t,n){C(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return N(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?$i._fromServerResponse(e,t):"totpInfo"in t?Zi._fromServerResponse(e,t):dn(e,"internal-error")}}]),e}(),$i=function(e){P(n,e);var t=j(n);function n(e){var r;return C(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return N(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Xi),Zi=function(e){P(n,e);var t=j(n);function n(e){return C(this,n),t.call(this,"totp",e)}return N(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Xi);function ea(e,t,n){var r;gn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),gn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(gn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(gn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function ta(){return ta=ke(me().mark((function e(t,n,r){var i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ve(t),a={requestType:"PASSWORD_RESET",email:n},r&&ea(i,a,r),e.next=5,Hr(i,a);case 5:case"end":return e.stop()}}),e)}))),ta.apply(this,arguments)}function na(){return na=ke(me().mark((function e(t,n,r){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pr(ve(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),na.apply(this,arguments)}function ra(){return ra=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur(ve(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),ra.apply(this,arguments)}function ia(e,t){return aa.apply(this,arguments)}function aa(){return aa=ke(me().mark((function e(t,n){var r,i,a,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ve(t),e.next=3,Pr(r,{oobCode:n});case 3:i=e.sent,gn(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return gn(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:gn(i.mfaInfo,r,"internal-error");case 13:gn(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Xi._fromServerResponse(Cr(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),aa.apply(this,arguments)}function oa(){return oa=ke(me().mark((function e(t,n){var r,i;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia(ve(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),oa.apply(this,arguments)}function sa(e,t,n){return ua.apply(this,arguments)}function ua(){return ua=ke(me().mark((function e(t,n,r){var i,a,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cr(t),e.next=3,Si(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Ii._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),ua.apply(this,arguments)}function ca(){return ca=ke(me().mark((function e(t,n,r){var i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ve(t),a={requestType:"EMAIL_SIGNIN",email:n},gn(r.handleCodeInApp,i,"argument-error"),r&&ea(i,a,r),e.next=6,Qr(i,a);case 6:case"end":return e.stop()}}),e)}))),ca.apply(this,arguments)}function la(){return la=ke(me().mark((function e(t,n,r){var i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ve(t),gn((a=pi.credentialWithLink(n,r||xn()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Bi(i,a));case 4:case"end":return e.stop()}}),e)}))),la.apply(this,arguments)}function fa(e,t){return da.apply(this,arguments)}function da(){return da=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:createAuthUri",Nn(t,n)));case 1:case"end":return e.stop()}}),e)}))),da.apply(this,arguments)}function ha(){return ha=ke(me().mark((function e(t,n){var r,i,a,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_n()?xn():"http://localhost",i={identifier:n,continueUri:r},e.next=4,fa(ve(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),ha.apply(this,arguments)}function pa(){return(pa=ke(me().mark((function e(t,n){var r,i,a,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ve(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&ea(r.auth,a,n),e.next=8,Gr(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function va(){return(va=ke(me().mark((function e(t,n,r){var i,a,o,s;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ve(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&ea(i.auth,o,r),e.next=8,Jr(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ma(e,t){return ga.apply(this,arguments)}function ga(){return ga=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ga.apply(this,arguments)}function ya(){return(ya=ke(me().mark((function e(t,n){var r,i,a,o,s,u,c;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ve(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Jn(a,ma(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ba(e,t,n){return ka.apply(this,arguments)}function ka(){return ka=ke(me().mark((function e(t,n,r){var i,a,o,s;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Jn(t,Mr(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),ka.apply(this,arguments)}var wa=N((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};C(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),xa=function(e){P(n,e);var t=j(n);function n(e,r,i,a){var o;return C(this,n),(o=t.call(this,e,r,i)).username=a,o}return N(n)}(wa),_a=function(e){P(n,e);var t=j(n);function n(e,r){return C(this,n),t.call(this,e,"facebook.com",r)}return N(n)}(wa),Sa=function(e){P(n,e);var t=j(n);function n(e,r){return C(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return N(n)}(xa),Ea=function(e){P(n,e);var t=j(n);function n(e,r){return C(this,n),t.call(this,e,"google.com",r)}return N(n)}(wa),Ia=function(e){P(n,e);var t=j(n);function n(e,r,i){return C(this,n),t.call(this,e,"twitter.com",r,i)}return N(n)}(xa);function Ta(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Yn(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new wa(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new _a(a,i);case"github.com":return new Sa(a,i);case"google.com":return new Ea(a,i);case"twitter.com":return new Ia(a,i,e.screenName||null);case"custom":case"anonymous":return new wa(a,null);default:return new wa(a,r,i)}}(n)}var Ca=function(){function e(t,n,r){C(this,e),this.type=t,this.credential=n,this.auth=r}return N(e,[{key:"toJSON",value:function(){return{multiFactorSession:s({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ra=function(){function e(t,n,r){C(this,e),this.session=t,this.hints=n,this.signInResolver=r}return N(e,[{key:"resolveSignIn",value:function(){var e=ke(me().mark((function e(t){var n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Cr(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Xi._fromServerResponse(r,e)}));gn(i.mfaPendingCredential,r,"internal-error");var o=Ca._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=ke(me().mark((function e(t){var a,s,u;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Ii._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return gn(n.user,r,"internal-error"),e.abrupt("return",Ii._forOperation(n.user,n.operationType,s));case 17:dn(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Na(e,t){return An(e,"POST","/v2/accounts/mfaEnrollment:start",Nn(e,t))}function Aa(e,t){return An(e,"POST","/v2/accounts/mfaEnrollment:start",Nn(e,t))}function Oa(e,t){return An(e,"POST","/v2/accounts/mfaEnrollment:finalize",Nn(e,t))}function Da(e,t){return An(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Nn(e,t))}var Pa=function(){function e(t){var n=this;C(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Xi._fromServerResponse(t.auth,e)})))}))}return N(e,[{key:"getSession",value:function(){var e=ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ca,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=ke(me().mark((function e(t,n){var r,i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Jn(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=ke(me().mark((function e(t){var n,r,i;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Jn(this.user,Da(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),La=new WeakMap;var Ma="__sak",ja=function(){function e(t,n){C(this,e),this.storageRetriever=t,this.type=n}return N(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ma,"1"),this.storage.removeItem(Ma),Promise.resolve(!0)):Promise.resolve(!1)}catch(N_){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ua=function(e){P(n,e);var t=j(n);function n(){var e;return C(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=X();return gr(e)||_r(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Sr(),e._shouldAllowMigration=!0,e}return N(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);te()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ke(me().mark((function e(t,r){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yt(L(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ke(me().mark((function e(t){var r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yt(L(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yt(L(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ja);Ua.type="LOCAL";var Fa=Ua,Va=function(e){P(n,e);var t=j(n);function n(){return C(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return N(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(ja);Va.type="SESSION";var za=Va;function Ba(e){return Promise.all(e.map(function(){var e=ke(me().mark((function e(t){var n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var qa=function(){function e(t){C(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return N(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ke(me().mark((function e(t){var n,r,i,a,o,s,u,c;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Ba(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Ga(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}qa.receivers=[];var Wa=function(){function e(t){C(this,e),this.target=t,this.handlers=new Set}return N(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ke(me().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Ga("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ha(){return window}function Ka(){return"undefined"!==typeof Ha().WorkerGlobalScope&&"function"===typeof Ha().importScripts}function Qa(){return Ya.apply(this,arguments)}function Ya(){return(Ya=ke(me().mark((function e(){var t;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ja(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Xa="firebaseLocalStorageDb",$a="firebaseLocalStorage",Za="fbase_key",eo=function(){function e(t){C(this,e),this.request=t}return N(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function to(e,t){return e.transaction([$a],t?"readwrite":"readonly").objectStore($a)}function no(){var e=indexedDB.deleteDatabase(Xa);return new eo(e).toPromise()}function ro(){var e=indexedDB.open(Xa,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore($a,{keyPath:Za})}catch(r){n(r)}})),e.addEventListener("success",ke(me().mark((function n(){var r;return me().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains($a)){n.next=12;break}return r.close(),n.next=5,no();case 5:return n.t0=t,n.next=8,ro();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function io(e,t,n){return ao.apply(this,arguments)}function ao(){return ao=ke(me().mark((function e(t,n,r){var i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=to(t,!0).put((s(i={},Za,n),s(i,"value",r),i)),e.abrupt("return",new eo(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),ao.apply(this,arguments)}function oo(e,t){return so.apply(this,arguments)}function so(){return so=ke(me().mark((function e(t,n){var r,i;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=to(t,!1).get(n),e.next=3,new eo(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),so.apply(this,arguments)}function uo(e,t){var n=to(e,!0).delete(t);return new eo(n).toPromise()}var co=function(){function e(){C(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return N(e,[{key:"_openDb",value:function(){var e=ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ro();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ke(me().mark((function e(t){var n,r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ka()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ke(me().mark((function e(){var t=this;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=qa._getInstance(Ka()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ke(me().mark((function e(n,r){var i;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ke(me().mark((function e(){var t,n,r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qa();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Wa(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ja()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ke(me().mark((function e(){var t;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ro();case 5:return t=e.sent,e.next=8,io(t,Ma,"1");case 8:return e.next=10,uo(t,Ma);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ke(me().mark((function e(t,n){var r=this;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return io(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ke(me().mark((function e(t){var n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return oo(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ke(me().mark((function e(t){var n=this;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return uo(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ke(me().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=to(e,!1).getAll();return new eo(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=A(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ke(me().mark((function t(){return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();co.type="LOCAL";var lo=co;function fo(e,t){return An(e,"POST","/v2/accounts/mfaSignIn:start",Nn(e,t))}function ho(e,t){return An(e,"POST","/v2/accounts/mfaSignIn:finalize",Nn(e,t))}function po(e){return vo.apply(this,arguments)}function vo(){return vo=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,An(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),vo.apply(this,arguments)}function mo(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=hn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function go(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var yo=1e12,bo=function(){function e(t){C(this,e),this.auth=t,this.counter=yo,this._widgets=new Map}return N(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new ko(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||yo;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||yo;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=ke(me().mark((function e(t){var n,r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||yo,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ko=function(){function e(t,n,r){var i=this;C(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;gn(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return N(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var wo=go("rcb"),xo=new En(3e4,6e4),_o=function(){function e(){var t;C(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Ha().grecaptcha)||void 0===t?void 0:t.render)}return N(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return gn(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Ha().grecaptcha):new Promise((function(r,i){var a=Ha().setTimeout((function(){i(hn(e,"network-request-failed"))}),xo.get());Ha()[wo]=function(){Ha().clearTimeout(a),delete Ha()[wo];var o=Ha().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(hn(e,"internal-error"))},mo("".concat("https://www.google.com/recaptcha/api.js?","?").concat(ce({onload:wo,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(hn(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Ha().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var So=function(){function e(){C(this,e)}return N(e,[{key:"load",value:function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new bo(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Eo="recaptcha",Io={theme:"light",type:"image"},To=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Io),r=arguments.length>2?arguments[2]:void 0;C(this,e),this.parameters=n,this.type=Eo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Cr(r),this.isInvisible="invisible"===this.parameters.size,gn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;gn(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new So:new _o,this.validateStartingState()}return N(e,[{key:"verify",value:function(){var e=ke(me().mark((function e(){var t,n,r,i=this;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){gn(!this.parameters.sitekey,this.auth,"argument-error"),gn(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),gn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ha()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){gn(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=ke(me().mark((function e(){var t,n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=ke(me().mark((function e(){var t;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gn(_n()&&!Ka(),this.auth,"internal-error"),e.next=3,Co();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,po(this.auth);case 8:gn(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return gn(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Co(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Ro=function(){function e(t,n){C(this,e),this.verificationId=t,this.onConfirmation=n}return N(e,[{key:"confirm",value:function(e){var t=di._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function No(){return No=ke(me().mark((function e(t,n,r){var i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cr(t),e.next=3,Po(i,n,ve(r));case 3:return a=e.sent,e.abrupt("return",new Ro(a,(function(e){return Bi(i,e)})));case 5:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}function Ao(e,t,n){return Oo.apply(this,arguments)}function Oo(){return(Oo=ke(me().mark((function e(t,n,r){var i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ve(t),e.next=3,Mi(!1,i,"phone");case 3:return e.next=5,Po(i.auth,n,ve(r));case 5:return a=e.sent,e.abrupt("return",new Ro(a,(function(e){return Gi(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Do(){return(Do=ke(me().mark((function e(t,n,r){var i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ve(t),e.next=3,Po(i.auth,n,ve(r));case 3:return a=e.sent,e.abrupt("return",new Ro(a,(function(e){return Hi(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Po(e,t,n){return Lo.apply(this,arguments)}function Lo(){return Lo=ke(me().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,gn("string"===typeof a,t,"argument-error"),gn(r.type===Eo,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return gn("enroll"===s.type,t,"internal-error"),e.next=13,Na(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return gn("signin"===s.type,t,"internal-error"),gn(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,fo(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,oi(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Lo.apply(this,arguments)}function Mo(){return(Mo=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pi(ve(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jo=function(){function e(t){C(this,e),this.providerId=e.PROVIDER_ID,this.auth=Cr(t)}return N(e,[{key:"verifyPhoneNumber",value:function(e,t){return Po(this.auth,e,ve(t))}}],[{key:"credential",value:function(e,t){return di._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?di._fromTokenResponse(n,r):null}}]),e}();function Uo(e,t){return t?wn(t):(gn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}jo.PROVIDER_ID="phone",jo.PHONE_SIGN_IN_METHOD="phone";var Fo=function(e){P(n,e);var t=j(n);function n(e){var r;return C(this,n),(r=t.call(this,"custom","custom")).params=e,r}return N(n,[{key:"_getIdTokenResponse",value:function(e){return ri(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ri(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ri(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Dr);function Vo(e){return Vi(e.auth,new Fo(e),e.bypassAuthState)}function zo(e){var t=e.auth,n=e.user;return gn(n,t,"internal-error"),Ui(n,new Fo(e),e.bypassAuthState)}function Bo(e){return qo.apply(this,arguments)}function qo(){return qo=ke(me().mark((function e(t){var n,r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,gn(r=t.user,n,"internal-error"),e.abrupt("return",Pi(r,new Fo(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),qo.apply(this,arguments)}var Go=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];C(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return N(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ke(me().mark((function t(n,r){return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ke(me().mark((function e(t){var n,r,i,a,o,s,u;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vo;case"linkViaPopup":case"linkViaRedirect":return Bo;case"reauthViaPopup":case"reauthViaRedirect":return zo;default:dn(this.auth,"internal-error")}}},{key:"resolve",value:function(e){bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Wo=new En(2e3,1e4);function Ho(e,t,n){return Ko.apply(this,arguments)}function Ko(){return Ko=ke(me().mark((function e(t,n,r){var i,a,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cr(t),vn(t,n,vi),a=Uo(i,r),o=new Xo(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Ko.apply(this,arguments)}function Qo(){return(Qo=ke(me().mark((function e(t,n,r){var i,a,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vn((i=ve(t)).auth,n,vi),a=Uo(i.auth,r),o=new Xo(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yo(e,t,n){return Jo.apply(this,arguments)}function Jo(){return(Jo=ke(me().mark((function e(t,n,r){var i,a,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vn((i=ve(t)).auth,n,vi),a=Uo(i.auth,r),o=new Xo(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xo=function(e){P(n,e);var t=j(n);function n(e,r,i,a,o){var s;return C(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=O(s),s}return N(n,[{key:"executeNotNull",value:function(){var e=ke(me().mark((function e(){var t;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return gn(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ke(me().mark((function e(){var t,n=this;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bn(1===this.filter.length,"Popup operations only handle one event"),t=Ga(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(hn(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(hn(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(hn(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Wo.get())}()}}]),n}(Go);Xo.currentPopupAction=null;var $o="pendingRedirect",Zo=new Map,es=function(e){P(n,e);var t=j(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return C(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return N(n,[{key:"execute",value:function(){var e=ke(me().mark((function e(){var t,r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Zo.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,ts(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Yt(L(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Zo.set(this.auth._key(),t);case 21:return this.bypassAuthState||Zo.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ke(me().mark((function e(t){var r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Yt(L(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Yt(L(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Go);function ts(e,t){return ns.apply(this,arguments)}function ns(){return ns=ke(me().mark((function e(t,n){var r,i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ss(n),i=os(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),ns.apply(this,arguments)}function rs(e,t){return is.apply(this,arguments)}function is(){return is=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",os(t)._set(ss(n),"true"));case 1:case"end":return e.stop()}}),e)}))),is.apply(this,arguments)}function as(e,t){Zo.set(e._key(),t)}function os(e){return wn(e._redirectPersistence)}function ss(e){return hr($o,e.config.apiKey,e.name)}function us(e,t,n){return function(e,t,n){return cs.apply(this,arguments)}(e,t,n)}function cs(){return cs=ke(me().mark((function e(t,n,r){var i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cr(t),vn(t,n,vi),e.next=4,i._initializationPromise;case 4:return a=Uo(i,r),e.next=7,rs(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}function ls(e,t,n){return function(e,t,n){return fs.apply(this,arguments)}(e,t,n)}function fs(){return(fs=ke(me().mark((function e(t,n,r){var i,a,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vn((i=ve(t)).auth,n,vi),e.next=4,i.auth._initializationPromise;case 4:return a=Uo(i.auth,r),e.next=7,rs(a,i.auth);case 7:return e.next=9,ys(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ds(e,t,n){return function(e,t,n){return hs.apply(this,arguments)}(e,t,n)}function hs(){return(hs=ke(me().mark((function e(t,n,r){var i,a,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vn((i=ve(t)).auth,n,vi),e.next=4,i.auth._initializationPromise;case 4:return a=Uo(i.auth,r),e.next=7,Mi(!1,i,n.providerId);case 7:return e.next=9,rs(a,i.auth);case 9:return e.next=11,ys(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ps(e,t){return vs.apply(this,arguments)}function vs(){return vs=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cr(t)._initializationPromise;case 2:return e.abrupt("return",ms(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),vs.apply(this,arguments)}function ms(e,t){return gs.apply(this,arguments)}function gs(){return gs=ke(me().mark((function e(t,n){var r,i,a,o,s,u=arguments;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Cr(t),a=Uo(i,n),o=new es(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),gs.apply(this,arguments)}function ys(e){return bs.apply(this,arguments)}function bs(){return(bs=ke(me().mark((function e(t){var n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ga("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ks=function(){function e(t){C(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return N(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!xs(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(hn(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ws(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ws(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ws(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function xs(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function _s(e){return Ss.apply(this,arguments)}function Ss(){return Ss=ke(me().mark((function e(t){var n,r=arguments;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",An(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Ss.apply(this,arguments)}var Es=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Is=/^https?/;function Ts(){return Ts=ke(me().mark((function e(t){var n,r,i,a,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_s(t);case 4:n=e.sent,r=n.authorizedDomains,i=A(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Cs(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:dn(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Ts.apply(this,arguments)}function Cs(e){var t=xn(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Is.test(r))return!1;if(Es.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Rs=new En(3e4,6e4);function Ns(){var e=Ha().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=ye(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var As=null;function Os(e){return As=As||function(e){return new Promise((function(t,n){var r,i,a;function o(){Ns(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ns(),n(hn(e,"network-request-failed"))},timeout:Rs.get()})}if(null===(i=null===(r=Ha().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ha().gapi)||void 0===a?void 0:a.load)){var s=go("iframefcb");return Ha()[s]=function(){gapi.load?o():n(hn(e,"network-request-failed"))},mo("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw As=null,e}))}(e),As}var Ds=new En(5e3,15e3),Ps="__/auth/iframe",Ls="emulator/auth/iframe",Ms={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},js=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Us(e){var t=e.config;gn(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?In(t,Ls):"https://".concat(e.config.authDomain,"/").concat(Ps),r={apiKey:t.apiKey,appName:e.name,v:vt},i=js.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ce(r).slice(1))}function Fs(e){return Vs.apply(this,arguments)}function Vs(){return Vs=ke(me().mark((function e(t){var n,r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Os(t);case 2:return n=e.sent,gn(r=Ha().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Us(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ms,dontclear:!0},(function(e){return new Promise(function(){var n=ke(me().mark((function n(r,i){var a,o,s;return me().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Ha().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=hn(t,"network-request-failed"),o=Ha().setTimeout((function(){i(a)}),Ds.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Vs.apply(this,arguments)}var zs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bs=function(){function e(t){C(this,e),this.window=t,this.associatedEvent=null}return N(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function qs(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},zs),{width:r.toString(),height:i.toString(),top:a,left:o}),c=X().toLowerCase();n&&(s=yr(c)?"_blank":n),mr(c)&&(t=t||"http://localhost",u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=E(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return _r(arguments.length>0&&void 0!==arguments[0]?arguments[0]:X())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Bs(null);var f=window.open(t||"",s,l);gn(f,e,"popup-blocked");try{f.focus()}catch(d){}return new Bs(f)}var Gs="__/auth/handler",Ws="emulator/auth/handler";function Hs(e,t,n,r,i,a){gn(e.config.authDomain,e,"auth-domain-config-required"),gn(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:vt,eventId:i};if(t instanceof vi){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=E(u[s],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof mi){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var h=o,p=0,v=Object.keys(h);p<v.length;p++){var m=v[p];void 0===h[m]&&delete h[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Gs);return In(t,Ws)}(e),"?").concat(ce(h).slice(1))}var Ks="webStorageSupport",Qs=function(){function e(){C(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=za,this._completeRedirectFn=ms,this._overrideRedirectResult=as}return N(e,[{key:"_openPopup",value:function(){var e=ke(me().mark((function e(t,n,r,i){var a,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bn(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Hs(t,n,r,xn(),i),e.abrupt("return",qs(t,o,Ga()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ke(me().mark((function e(t,n,r,i){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Hs(t,n,r,xn(),i),Ha().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(bn(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ke(me().mark((function e(t){var n,r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fs(t);case 2:return n=e.sent,r=new ks(t),n.register("authEvent",(function(e){return gn(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ks,{type:Ks},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ks];void 0!==i&&t(!!i),dn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ts.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Sr()||gr()||_r()}}]),e}(),Ys=Qs,Js=function(){function e(t){C(this,e),this.factorId=t}return N(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return yn("unexpected MultiFactorSessionType")}}}]),e}(),Xs=function(e){P(n,e);var t=j(n);function n(e){var r;return C(this,n),(r=t.call(this,"phone")).credential=e,r}return N(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return An(e,"POST","/v2/accounts/mfaEnrollment:finalize",Nn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return An(e,"POST","/v2/accounts/mfaSignIn:finalize",Nn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Js),$s=function(){function e(){C(this,e)}return N(e,null,[{key:"assertion",value:function(e){return Xs._fromCredential(e)}}]),e}();$s.FACTOR_ID="phone";var Zs=function(){function e(){C(this,e)}return N(e,null,[{key:"assertionForEnrollment",value:function(e,t){return eu._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return eu._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=ke(me().mark((function e(t){var n,r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gn("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,Aa(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",tu._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Zs.FACTOR_ID="totp";var eu=function(e){P(n,e);var t=j(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return N(n,[{key:"_finalizeEnroll",value:function(){var e=ke(me().mark((function e(t,n,r){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gn("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Oa(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=ke(me().mark((function e(t,n){var r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gn(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",ho(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Js),tu=function(){function e(t,n,r,i,a,o,s){C(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return N(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(nu(e)||nu(t))&&(r=!0),r&&(nu(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),nu(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function nu(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var ru="@firebase/auth",iu="0.22.0",au=function(){function e(t){C(this,e),this.auth=t,this.internalListeners=new Map}return N(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ke(me().mark((function e(t){var n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){gn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var ou;!function(e){var t;null===(t=K())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function su(){return window}ou="Browser",ut(new we("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){gn(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),gn(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:ou,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Er(ou)},i=new Tr(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ut(new we("auth-internal",(function(e){return function(e){return new au(e)}(Cr(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),wt(ru,iu,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ou)),wt(ru,iu,"esm2017");var uu=2e3;function cu(e,t,n){return lu.apply(this,arguments)}function lu(){return lu=ke(me().mark((function e(t,n,r){var i,a,o,s,u;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=su(),o=a.BuildInfo,bn(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,mu(n.sessionId);case 4:return s=e.sent,u={},_r()?u.ibi=o.packageName:kr()?u.apn=o.packageName:dn(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Hs(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),lu.apply(this,arguments)}function fu(){return fu=ke(me().mark((function e(t){var n,r,i;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=su(),r=n.BuildInfo,i={},_r()?i.iosBundleId=r.packageName:kr()?i.androidPackageName=r.packageName:dn(t,"operation-not-supported-in-this-environment"),e.next=5,_s(t,i);case 5:case"end":return e.stop()}}),e)}))),fu.apply(this,arguments)}function du(e){var t=su().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function hu(e,t,n){return pu.apply(this,arguments)}function pu(){return pu=ke(me().mark((function e(t,n,r){var i,a,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=su(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(hn(t,"redirect-cancelled-by-user"))}),uu))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),kr()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),pu.apply(this,arguments)}function vu(e){var t,n,r,i,a,o,s,u,c,l,f=su();gn("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),gn("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),gn("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),gn("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),gn("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function mu(e){return gu.apply(this,arguments)}function gu(){return(gu=ke(me().mark((function e(t){var n,r,i;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yu(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yu(e){if(bn(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var bu=20,ku=function(e){P(n,e);var t=j(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return N(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Yt(L(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ks);function wu(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Iu(),postBody:null,tenantId:e.tenantId,error:hn(e,"no-auth-event")}}function xu(e,t){return Tu()._set(Cu(e),t)}function _u(e){return Su.apply(this,arguments)}function Su(){return Su=ke(me().mark((function e(t){var n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tu()._get(Cu(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Tu()._remove(Cu(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Su.apply(this,arguments)}function Eu(e,t){var n,r,i=function(e){var t=Ru(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ru(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ru(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Ru(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?hn(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Iu(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<bu;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Tu(){return wn(Fa)}function Cu(e){return hr("authEvent",e.config.apiKey,e.name)}function Ru(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=Qt(e.split("?"));t[0];return le(t.slice(1).join("?"))}var Nu=function(){function e(){C(this,e),this._redirectPersistence=za,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ms,this._overrideRedirectResult=as}return N(e,[{key:"_initialize",value:function(){var e=ke(me().mark((function e(t){var n,r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new ku(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){dn(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=ke(me().mark((function e(t,n,r,i){var a,o,s,u;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vu(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Zo.clear(),e.next=10,this._originValidation(t);case 10:return o=wu(t,r,i),e.next=13,xu(t,o);case 13:return e.next=15,cu(t,o,n);case 15:return s=e.sent,e.next=18,du(s);case 18:return u=e.sent,e.abrupt("return",hu(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return fu.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=su(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(ke(me().mark((function n(){return me().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_u(e);case 2:t.onEvent(Ou());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=ke(me().mark((function n(r){var i,a;return me().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,_u(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Eu(i,r.url)),t.onEvent(a||Ou());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");su().handleOpenURL=function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Au=Nu;function Ou(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:hn("no-auth-event")}}var Du=1e3;function Pu(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Lu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();return!("file:"!==Pu()&&"ionic:"!==Pu()&&"capacitor:"!==Pu()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();return te()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();return/Edge\/\d+/.test(e)}(e)}function ju(){try{var e=self.localStorage,t=Ga();if(e)return e.setItem(t,"1"),e.removeItem(t),!Mu()||ne()}catch(n){return Uu()&&ne()}return!1}function Uu(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Fu(){return("http:"===Pu()||"https:"===Pu()||Z()||Lu())&&!(ee()||$())&&ju()&&!Uu()}function Vu(){return Lu()&&"undefined"!==typeof document}function zu(){return Bu.apply(this,arguments)}function Bu(){return(Bu=ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vu()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),Du);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qu={LOCAL:"local",NONE:"none",SESSION:"session"},Gu=gn,Wu="persistence";function Hu(e,t){Gu(Object.values(qu).includes(t),e,"invalid-persistence-type"),ee()?Gu(t!==qu.SESSION,e,"unsupported-persistence-type"):$()?Gu(t===qu.NONE,e,"unsupported-persistence-type"):Uu()?Gu(t===qu.NONE||t===qu.LOCAL&&ne(),e,"unsupported-persistence-type"):Gu(t===qu.NONE||ju(),e,"unsupported-persistence-type")}function Ku(e){return Qu.apply(this,arguments)}function Qu(){return Qu=ke(me().mark((function e(t){var n,r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Yu(),r=hr(Wu,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Qu.apply(this,arguments)}function Yu(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Ju=gn,Xu=function(){function e(){C(this,e),this.browserResolver=wn(Ys),this.cordovaResolver=wn(Au),this.underlyingResolver=null,this._redirectPersistence=za,this._completeRedirectFn=ms,this._overrideRedirectResult=as}return N(e,[{key:"_initialize",value:function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=ke(me().mark((function e(t,n,r,i){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ke(me().mark((function e(t,n,r,i){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Vu()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Ju(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=ke(me().mark((function e(){var t;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,zu();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function $u(e){return e.unwrap()}function Zu(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new ic(e,function(e,t){var n,r=ve(e),i=t;return gn(t.customData.operationType,r,"argument-error"),gn(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ra._fromError(r,i)}(e,t));else if(r){var i=ec(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function ec(e){var t=(e instanceof re?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof re)&&"temporaryProof"in t&&"phoneNumber"in t)return jo.credentialFromResult(e);var n,r=t.providerId;if(!r||r===$t.PASSWORD)return null;switch(r){case $t.GOOGLE:n=bi;break;case $t.FACEBOOK:n=yi;break;case $t.GITHUB:n=ki;break;case $t.TWITTER:n=_i;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?wi._create(r,s):ai._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new gi(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof re?n.credentialFromError(e):n.credentialFromResult(e)}function tc(e,t){return t.catch((function(t){throw t instanceof re&&Zu(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,ec(t)),additionalUserInfo:Ta(e),user:ac.getOrCreate(r)}}))}function nc(e,t){return rc.apply(this,arguments)}function rc(){return rc=ke(me().mark((function e(t,n){var r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return tc(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),rc.apply(this,arguments)}var ic=function(){function e(t,n){C(this,e),this.resolver=n,this.auth=t.wrapped()}return N(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return tc($u(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),ac=function(){function e(t){C(this,e),this._delegate=t,this.multiFactor=function(e){var t=ve(e);return La.has(t)||La.set(t,Pa._fromUser(t)),La.get(t)}(t)}return N(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tc(this.auth,Gi(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(this.auth,Ao(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tc(this.auth,Yo(this._delegate,t,Xu)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ku(Cr(this.auth));case 2:return e.abrupt("return",ds(this._delegate,t,Xu));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tc(this.auth,Hi(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return nc(this.auth,function(e,t,n){return Do.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return tc(this.auth,function(e,t,n){return Qo.apply(this,arguments)}(this._delegate,e,Xu))}},{key:"reauthenticateWithRedirect",value:function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ku(Cr(this.auth));case 2:return e.abrupt("return",ls(this._delegate,t,Xu));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return pa.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oi(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return ba(ve(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return ba(ve(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Mo.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return ya.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return va.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();ac.USER_MAP=new WeakMap;var oc=gn,sc=function(){function e(t,n){if(C(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;oc(r,"invalid-api-key",{appName:t.name}),oc(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Xu:void 0;this._delegate=n.initialize({options:{persistence:cc(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(sn),this.linkUnderlyingAuth()}return N(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?ac.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Nr(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ra.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return ia(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return na.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tc(this._delegate,sa(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return ha.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=hi.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=ke(me().mark((function e(){var t;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oc(Fu(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ps(this._delegate,Xu);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",tc(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Cr(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=uc(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=uc(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ca.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return ta.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=ke(me().mark((function e(t){var n,r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Hu(this._delegate,t),e.t0=t,e.next=e.t0===qu.SESSION?4:e.t0===qu.LOCAL?6:e.t0===qu.NONE?11:13;break;case 4:return n=za,e.abrupt("break",14);case 6:return e.next=8,wn(lo)._isAvailable();case 8:return r=e.sent,n=r?lo:Fa,e.abrupt("break",14);case 11:return n=dr,e.abrupt("break",14);case 13:return e.abrupt("return",dn("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return tc(this._delegate,function(e){return Ci.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return tc(this._delegate,Bi(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return tc(this._delegate,function(e,t){return Ji.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return tc(this._delegate,function(e,t,n){return Bi(ve(e),pi.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return tc(this._delegate,function(e,t,n){return la.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return nc(this._delegate,function(e,t,n){return No.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oc(Fu(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",tc(this._delegate,Ho(this._delegate,t,Xu)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oc(Fu(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Ku(this._delegate);case 3:return e.abrupt("return",us(this._delegate,t,Xu));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return oa.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function uc(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&ac.getOrCreate(e))},error:t,complete:n}}function cc(e,t){var n=function(e,t){var n=Yu();if(!n)return[];var r=hr(Wu,e,t);switch(n.getItem(r)){case qu.NONE:return[dr];case qu.LOCAL:return[lo,za];case qu.SESSION:return[za];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(lo)||n.push(lo),"undefined"!==typeof window)for(var r=0,i=[Fa,za];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(dr)||n.push(dr),n}sc.Persistence=qu;var lc=function(){function e(){C(this,e),this.providerId="phone",this._delegate=new jo($u(Kt.auth()))}return N(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return jo.credential(e,t)}}]),e}();lc.PHONE_SIGN_IN_METHOD=jo.PHONE_SIGN_IN_METHOD,lc.PROVIDER_ID=jo.PROVIDER_ID;var fc,dc=gn,hc=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kt.app();C(this,e),dc(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new To(t,n,i.auth()),this.type=this._delegate.type}return N(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(fc=Kt).INTERNAL.registerComponent(new we("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new sc(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Zt,PASSWORD_RESET:en,RECOVER_EMAIL:tn,REVERT_SECOND_FACTOR_ADDITION:nn,VERIFY_AND_CHANGE_EMAIL:rn,VERIFY_EMAIL:an}},EmailAuthProvider:pi,FacebookAuthProvider:yi,GithubAuthProvider:ki,GoogleAuthProvider:bi,OAuthProvider:gi,SAMLAuthProvider:xi,PhoneAuthProvider:lc,PhoneMultiFactorGenerator:$s,RecaptchaVerifier:hc,TwitterAuthProvider:_i,Auth:sc,AuthCredential:Dr,Error:re}).setInstantiationMode("LAZY").setMultipleInstances(!1)),fc.registerVersion("@firebase/auth-compat","0.3.7");var pc,vc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},mc={},gc=gc||{},yc=vc||self;function bc(){}function kc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function wc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var xc="closure_uid_"+(1e9*Math.random()>>>0),_c=0;function Sc(e,t,n){return e.call.apply(e.bind,arguments)}function Ec(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ic(e,t,n){return(Ic=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Sc:Ec).apply(null,arguments)}function Tc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Cc(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Rc(){this.s=this.s,this.o=this.o}Rc.prototype.s=!1,Rc.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,xc)&&e[xc]||(e[xc]=++_c))},Rc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Nc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ac(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Oc(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(kc(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Dc(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Dc.prototype.h=function(){this.defaultPrevented=!0};var Pc=function(){if(!yc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{yc.addEventListener("test",bc,t),yc.removeEventListener("test",bc,t)}catch(n){}return e}();function Lc(e){return/^[\s\xa0]*$/.test(e)}var Mc=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function jc(e,t){return e<t?-1:e>t?1:0}function Uc(){var e=yc.navigator;return e&&(e=e.userAgent)?e:""}function Fc(e){return-1!=Uc().indexOf(e)}function Vc(e){return Vc[" "](e),e}Vc[" "]=bc;var zc,Bc=Fc("Opera"),qc=Fc("Trident")||Fc("MSIE"),Gc=Fc("Edge"),Wc=Gc||qc,Hc=Fc("Gecko")&&!(-1!=Uc().toLowerCase().indexOf("webkit")&&!Fc("Edge"))&&!(Fc("Trident")||Fc("MSIE"))&&!Fc("Edge"),Kc=-1!=Uc().toLowerCase().indexOf("webkit")&&!Fc("Edge");function Qc(){var e=yc.document;return e?e.documentMode:void 0}e:{var Yc="",Jc=function(){var e=Uc();return Hc?/rv:([^\);]+)(\)|;)/.exec(e):Gc?/Edge\/([\d\.]+)/.exec(e):qc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Kc?/WebKit\/(\S+)/.exec(e):Bc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Jc&&(Yc=Jc?Jc[1]:""),qc){var Xc=Qc();if(null!=Xc&&Xc>parseFloat(Yc)){zc=String(Xc);break e}}zc=Yc}var $c,Zc={};function el(){return function(e){var t=Zc;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Mc(String(zc)).split("."),n=Mc("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=jc(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||jc(0==a[2].length,0==o[2].length)||jc(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(yc.document&&qc){var tl=Qc();$c=tl||(parseInt(zc,10)||void 0)}else $c=void 0;var nl=$c;function rl(e,t){if(Dc.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Hc){e:{try{Vc(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:il[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&rl.X.h.call(this)}}Cc(rl,Dc);var il={2:"touch",3:"pen",4:"mouse"};rl.prototype.h=function(){rl.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var al="closure_listenable_"+(1e6*Math.random()|0),ol=0;function sl(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++ol,this.ba=this.ea=!1}function ul(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function cl(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ll(e){var t={};for(var n in e)t[n]=e[n];return t}var fl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dl(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<fl.length;a++)n=fl[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function hl(e){this.src=e,this.g={},this.h=0}function pl(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Nc(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ul(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function vl(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}hl.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=vl(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new sl(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var ml="closure_lm_"+(1e6*Math.random()|0),gl={};function yl(e,t,n,r,i){if(r&&r.once)return kl(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)yl(e,t[a],n,r,i);return null}return n=Tl(n),e&&e[al]?e.N(t,n,wc(r)?!!r.capture:!!r,i):bl(e,t,n,!1,r,i)}function bl(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=wc(i)?!!i.capture:!!i,s=El(e);if(s||(e[ml]=s=new hl(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Sl;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Pc||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_l(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function kl(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)kl(e,t[a],n,r,i);return null}return n=Tl(n),e&&e[al]?e.O(t,n,wc(r)?!!r.capture:!!r,i):bl(e,t,n,!0,r,i)}function wl(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)wl(e,t[a],n,r,i);else r=wc(r)?!!r.capture:!!r,n=Tl(n),e&&e[al]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=vl(a=e.g[t],n,r,i))&&(ul(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=El(e))&&(t=e.g[t.toString()],e=-1,t&&(e=vl(t,n,r,i)),(n=-1<e?t[e]:null)&&xl(n))}function xl(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[al])pl(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_l(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=El(t))?(pl(n,e),0==n.h&&(n.src=null,t[ml]=null)):ul(e)}}}function _l(e){return e in gl?gl[e]:gl[e]="on"+e}function Sl(e,t){if(e.ba)e=!0;else{t=new rl(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&xl(e),e=n.call(r,t)}return e}function El(e){return(e=e[ml])instanceof hl?e:null}var Il="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tl(e){return"function"===typeof e?e:(e[Il]||(e[Il]=function(t){return e.handleEvent(t)}),e[Il])}function Cl(){Rc.call(this),this.i=new hl(this),this.P=this,this.I=null}function Rl(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Dc(t,e);else if(t instanceof Dc)t.target=t.target||e;else{var i=t;dl(t=new Dc(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Nl(o,r,!0,t)&&i}if(i=Nl(o=t.g=e,r,!0,t)&&i,i=Nl(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Nl(o=t.g=n[a],r,!1,t)&&i}function Nl(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&pl(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Cc(Cl,Rc),Cl.prototype[al]=!0,Cl.prototype.removeEventListener=function(e,t,n,r){wl(this,e,t,n,r)},Cl.prototype.M=function(){if(Cl.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ul(n[r]);delete t.g[e],t.h--}}this.I=null},Cl.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Cl.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Al=yc.JSON.stringify;function Ol(){var e=Vl,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Dl,Pl=function(){function e(){C(this,e),this.h=this.g=null}return N(e,[{key:"add",value:function(e,t){var n=Ll.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ll=new(function(){function e(t,n){C(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return N(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Ml}),(function(e){return e.reset()})),Ml=function(){function e(){C(this,e),this.next=this.g=this.h=null}return N(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function jl(e){yc.setTimeout((function(){throw e}),0)}function Ul(e,t){Dl||function(){var e=yc.Promise.resolve(void 0);Dl=function(){e.then(zl)}}(),Fl||(Dl(),Fl=!0),Vl.add(e,t)}var Fl=!1,Vl=new Pl;function zl(){for(var e;e=Ol();){try{e.h.call(e.g)}catch(n){jl(n)}var t=Ll;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Fl=!1}function Bl(e,t){Cl.call(this),this.h=e||1,this.g=t||yc,this.j=Ic(this.lb,this),this.l=Date.now()}function ql(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Gl(e,t,n){if("function"===typeof e)n&&(e=Ic(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ic(e.handleEvent,e)}return 2147483647<Number(t)?-1:yc.setTimeout(e,t||0)}function Wl(e){e.g=Gl((function(){e.g=null,e.i&&(e.i=!1,Wl(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Cc(Bl,Cl),(pc=Bl.prototype).ca=!1,pc.R=null,pc.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Rl(this,"tick"),this.ca&&(ql(this),this.start()))}},pc.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pc.M=function(){Bl.X.M.call(this),ql(this),delete this.g};var Hl=function(e){P(n,e);var t=j(n);function n(e,r){var i;return C(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return N(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Wl(this)}},{key:"M",value:function(){Yt(L(n.prototype),"M",this).call(this),this.g&&(yc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Rc);function Kl(e){Rc.call(this),this.h=e,this.g={}}Cc(Kl,Rc);var Ql=[];function Yl(e,t,n,r){Array.isArray(n)||(n&&(Ql[0]=n.toString()),n=Ql);for(var i=0;i<n.length;i++){var a=yl(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Jl(e){cl(e.g,(function(e,t){this.g.hasOwnProperty(t)&&xl(e)}),e),e.g={}}function Xl(){this.g=!0}function $l(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Al(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Kl.prototype.M=function(){Kl.X.M.call(this),Jl(this)},Kl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xl.prototype.Aa=function(){this.g=!1},Xl.prototype.info=function(){};var Zl={},ef=null;function tf(){return ef=ef||new Cl}function nf(e){Dc.call(this,Zl.Pa,e)}function rf(e){var t=tf();Rl(t,new nf(t))}function af(e,t){Dc.call(this,Zl.STAT_EVENT,e),this.stat=t}function of(e){var t=tf();Rl(t,new af(t,e))}function sf(e,t){Dc.call(this,Zl.Qa,e),this.size=t}function uf(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return yc.setTimeout((function(){e()}),t)}Zl.Pa="serverreachability",Cc(nf,Dc),Zl.STAT_EVENT="statevent",Cc(af,Dc),Zl.Qa="timingevent",Cc(sf,Dc);var cf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},lf={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ff(){}function df(e){return e.h||(e.h=e.i())}function hf(){}ff.prototype.h=null;var pf,vf={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function mf(){Dc.call(this,"d")}function gf(){Dc.call(this,"c")}function yf(){}function bf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Kl(this),this.O=wf,e=Wc?125:void 0,this.T=new Bl(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new kf}function kf(){this.i=null,this.g="",this.h=!1}Cc(mf,Dc),Cc(gf,Dc),Cc(yf,ff),yf.prototype.g=function(){return new XMLHttpRequest},yf.prototype.i=function(){return{}},pf=new yf;var wf=45e3,xf={},_f={};function Sf(e,t,n){e.K=1,e.v=qf(Uf(t)),e.s=n,e.P=!0,Ef(e,null)}function Ef(e,t){e.F=Date.now(),Rf(e),e.A=Uf(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),nd(n.i,"t",r),e.C=0,n=e.l.H,e.h=new kf,e.g=rh(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Hl(Ic(e.La,e,e.g),e.N)),Yl(e.S,e.g,"readystatechange",e.ib),t=e.H?ll(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),rf(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function If(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Tf(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Cf(e,n))==_f){4==t&&(e.o=4,of(14),i=!1),$l(e.j,e.m,null,"[Incomplete Response]");break}if(r==xf){e.o=4,of(15),$l(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}$l(e.j,e.m,r,null),Pf(e,r)}If(e)&&r!=_f&&r!=xf&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,of(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yd(t),t.K=!0,of(11))):($l(e.j,e.m,n,"[Invalid Chunked Response]"),Df(e),Of(e))}function Cf(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?_f:(n=Number(t.substring(n,r)),isNaN(n)?xf:(r+=1)+n>t.length?_f:(t=t.substr(r,n),e.C=r+n,t))}function Rf(e){e.V=Date.now()+e.O,Nf(e,e.O)}function Nf(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=uf(Ic(e.gb,e),t)}function Af(e){e.B&&(yc.clearTimeout(e.B),e.B=null)}function Of(e){0==e.l.G||e.I||$d(e.l,e)}function Df(e){Af(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ql(e.T),Jl(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Pf(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ld(n.h,e)))if(!e.J&&ld(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Xd(n),zd(n)}Qd(n),of(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=uf(Ic(n.cb,n),6e3));if(1>=cd(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else eh(n,11)}else if((e.J||n.g==e)&&Xd(n),!Lc(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(fd(f,f.h),f.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.za=d,Bf(r.F,r.D,d))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var h=e;if((r=n).sa=nh(r,r.H?r.ka:null,r.V),h.J){dd(r.h,h);var p=h,v=r.J;v&&p.setTimeout(v),p.B&&(Af(p),Rf(p)),r.g=h}else Kd(r);0<n.i.length&&qd(n)}else"stop"!=a[0]&&"close"!=a[0]||eh(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?eh(n,7):Vd(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}rf()}catch(a){}}function Lf(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(kc(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(kc(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(kc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(pc=bf.prototype).setTimeout=function(e){this.O=e},pc.ib=function(e){e=e.target;var t=this.L;t&&3==Pd(e)?t.l():this.La(e)},pc.La=function(e){try{if(e==this.g)e:{var t=Pd(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Wc||this.g&&(this.h.h||this.g.fa()||Ld(this.g)))){this.I||4!=t||7==n||rf(),Af(this);var r=this.g.aa();this.Y=r;t:if(If(this)){var i=Ld(this.g);e="";var a=i.length,o=4==Pd(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Df(this),Of(this);var s="";break t}this.h.i=new yc.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lc(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,of(12),Df(this),Of(this);break e}$l(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pf(this,r)}this.P?(Tf(this,t,s),Wc&&this.i&&3==t&&(Yl(this.S,this.T,"tick",this.hb),this.T.start())):($l(this.j,this.m,s,null),Pf(this,s)),4==t&&Df(this),this.i&&!this.I&&(4==t?$d(this.l,this):(this.i=!1,Rf(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,of(12)):(this.o=0,of(13)),Df(this),Of(this)}}}catch(t){}},pc.hb=function(){if(this.g){var e=Pd(this.g),t=this.g.fa();this.C<t.length&&(Af(this),Tf(this,e,t),this.i&&4!=e&&Rf(this))}},pc.cancel=function(){this.I=!0,Df(this)},pc.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(rf(),of(17)),Df(this),this.o=2,Of(this)):Nf(this,this.V-e)};var Mf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jf(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof jf){this.h=void 0!==t?t:e.h,Ff(this,e.j),this.s=e.s,this.g=e.g,Vf(this,e.m),this.l=e.l,t=e.i;var n=new $f;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),zf(this,n),this.o=e.o}else e&&(n=String(e).match(Mf))?(this.h=!!t,Ff(this,n[1]||"",!0),this.s=Gf(n[2]||""),this.g=Gf(n[3]||"",!0),Vf(this,n[4]),this.l=Gf(n[5]||"",!0),zf(this,n[6]||"",!0),this.o=Gf(n[7]||"")):(this.h=!!t,this.i=new $f(null,this.h))}function Uf(e){return new jf(e)}function Ff(e,t,n){e.j=n?Gf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Vf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function zf(e,t,n){t instanceof $f?(e.i=t,function(e,t){t&&!e.j&&(Zf(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ed(this,t),nd(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Wf(t,Jf)),e.i=new $f(t,e.h))}function Bf(e,t,n){e.i.set(t,n)}function qf(e){return Bf(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Gf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Wf(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Hf),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Hf(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jf.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Wf(t,Kf,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Wf(t,Kf,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Wf(n,"/"==n.charAt(0)?Yf:Qf,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Wf(n,Xf)),e.join("")};var Kf=/[#\/\?@]/g,Qf=/[#\?:]/g,Yf=/[#\?]/g,Jf=/[#\?@]/g,Xf=/#/g;function $f(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Zf(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ed(e,t){Zf(e),t=rd(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function td(e,t){return Zf(e),t=rd(e,t),e.g.has(t)}function nd(e,t,n){ed(e,t),0<n.length&&(e.i=null,e.g.set(rd(e,t),Ac(n)),e.h+=n.length)}function rd(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(pc=$f.prototype).add=function(e,t){Zf(this),this.i=null,e=rd(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},pc.forEach=function(e,t){Zf(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},pc.oa=function(){Zf(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},pc.W=function(e){Zf(this);var t=[];if("string"===typeof e)td(this,e)&&(t=t.concat(this.g.get(rd(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},pc.set=function(e,t){return Zf(this),this.i=null,td(this,e=rd(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},pc.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},pc.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var id=N((function e(t,n){C(this,e),this.h=t,this.g=n}));function ad(e){this.l=e||sd,yc.PerformanceNavigationTiming?e=0<(e=yc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(yc.g&&yc.g.Ga&&yc.g.Ga()&&yc.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var od,sd=10;function ud(e){return!!e.h||!!e.g&&e.g.size>=e.j}function cd(e){return e.h?1:e.g?e.g.size:0}function ld(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function fd(e,t){e.g?e.g.add(t):e.h=t}function dd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function hd(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=A(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ac(e.i)}function pd(){}function vd(){this.g=new pd}function md(e,t,n){var r=n||"";try{Lf(e,(function(e,n){var i=e;wc(e)&&(i=Al(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function gd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function yd(e){this.l=e.ac||null,this.j=e.jb||!1}function bd(e,t){Cl.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=kd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ad.prototype.cancel=function(){if(this.i=hd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=A(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},pd.prototype.stringify=function(e){return yc.JSON.stringify(e,void 0)},pd.prototype.parse=function(e){return yc.JSON.parse(e,void 0)},Cc(yd,ff),yd.prototype.g=function(){return new bd(this.l,this.j)},yd.prototype.i=(od={},function(){return od}),Cc(bd,Cl);var kd=0;function wd(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function xd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,_d(e)}function _d(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(pc=bd.prototype).open=function(e,t){if(this.readyState!=kd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,_d(this)},pc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||yc).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},pc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xd(this)),this.readyState=kd},pc.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_d(this)),this.g&&(this.readyState=3,_d(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof yc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wd(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},pc.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?xd(this):_d(this),3==this.readyState&&wd(this)}},pc.Va=function(e){this.g&&(this.response=this.responseText=e,xd(this))},pc.Ua=function(e){this.g&&(this.response=e,xd(this))},pc.ga=function(){this.g&&xd(this)},pc.setRequestHeader=function(e,t){this.v.append(e,t)},pc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},pc.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(bd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Sd=yc.JSON.parse;function Ed(e){Cl.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Id,this.K=this.L=!1}Cc(Ed,Cl);var Id="",Td=/^https?$/i,Cd=["POST","PUT"];function Rd(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Nd(e),Od(e)}function Nd(e){e.D||(e.D=!0,Rl(e,"complete"),Rl(e,"error"))}function Ad(e){if(e.h&&"undefined"!=typeof gc&&(!e.C[1]||4!=Pd(e)||2!=e.aa()))if(e.v&&4==Pd(e))Gl(e.Ha,0,e);else if(Rl(e,"readystatechange"),4==Pd(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Mf)[1]||null;if(!a&&yc.self&&yc.self.location){var o=yc.self.location.protocol;a=o.substr(0,o.length-1)}i=!Td.test(a?a.toLowerCase():"")}t=i}if(t)Rl(e,"complete"),Rl(e,"success");else{e.m=6;try{var s=2<Pd(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",Nd(e)}}finally{Od(e)}}}function Od(e,t){if(e.g){Dd(e);var n=e.g,r=e.C[0]?bc:null;e.g=null,e.C=null,t||Rl(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Dd(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(yc.clearTimeout(e.A),e.A=null)}function Pd(e){return e.g?e.g.readyState:0}function Ld(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Id:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(kh){return null}}function Md(e){var t="";return cl(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function jd(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Md(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Bf(e,t,n))}function Ud(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Fd(e){this.Ca=0,this.i=[],this.j=new Xl,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ud("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ud("baseRetryDelayMs",5e3,e),this.bb=Ud("retryDelaySeedMs",1e4,e),this.$a=Ud("forwardChannelMaxRetries",2,e),this.ta=Ud("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new ad(e&&e.concurrentRequestLimit),this.Fa=new vd,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Vd(e){if(Bd(e),3==e.G){var t=e.U++,n=Uf(e.F);Bf(n,"SID",e.I),Bf(n,"RID",t),Bf(n,"TYPE","terminate"),Wd(e,n),(t=new bf(e,e.j,t,void 0)).K=2,t.v=qf(Uf(n)),n=!1,yc.navigator&&yc.navigator.sendBeacon&&(n=yc.navigator.sendBeacon(t.v.toString(),"")),!n&&yc.Image&&((new Image).src=t.v,n=!0),n||(t.g=rh(t.l,null),t.g.da(t.v)),t.F=Date.now(),Rf(t)}th(e)}function zd(e){e.g&&(Yd(e),e.g.cancel(),e.g=null)}function Bd(e){zd(e),e.u&&(yc.clearTimeout(e.u),e.u=null),Xd(e),e.h.cancel(),e.m&&("number"===typeof e.m&&yc.clearTimeout(e.m),e.m=null)}function qd(e){ud(e.h)||e.m||(e.m=!0,Ul(e.Ja,e),e.C=0)}function Gd(e,t){var n;n=t?t.m:e.U++;var r=Uf(e.F);Bf(r,"SID",e.I),Bf(r,"RID",n),Bf(r,"AID",e.T),Wd(e,r),e.o&&e.s&&jd(r,e.o,e.s),n=new bf(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Hd(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),fd(e.h,n),Sf(n,r,t)}function Wd(e,t){e.ia&&cl(e.ia,(function(e,n){Bf(t,n,e)})),e.l&&Lf({},(function(e,n){Bf(t,n,e)}))}function Hd(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Ic(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{md(l,o,"req"+c+"_")}catch(Nh){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Kd(e){e.g||e.u||(e.Z=1,Ul(e.Ia,e),e.A=0)}function Qd(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=uf(Ic(e.Ia,e),Zd(e,e.A)),e.A++,!0)}function Yd(e){null!=e.B&&(yc.clearTimeout(e.B),e.B=null)}function Jd(e){e.g=new bf(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Uf(e.sa);Bf(t,"RID","rpc"),Bf(t,"SID",e.I),Bf(t,"CI",e.L?"0":"1"),Bf(t,"AID",e.T),Bf(t,"TYPE","xmlhttp"),Wd(e,t),e.o&&e.s&&jd(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=qf(Uf(t)),n.s=null,n.P=!0,Ef(n,e)}function Xd(e){null!=e.v&&(yc.clearTimeout(e.v),e.v=null)}function $d(e,t){var n=null;if(e.g==t){Xd(e),Yd(e),e.g=null;var r=2}else{if(!ld(e.h,t))return;n=t.D,dd(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Rl(r=tf(),new sf(r,n)),qd(e)}else Kd(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(cd(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=uf(Ic(e.Ja,e,t),Zd(e,e.C)),e.C++,!0))}(e,t)||2==r&&Qd(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:eh(e,5);break;case 4:eh(e,10);break;case 3:eh(e,6);break;default:eh(e,2)}}function Zd(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function eh(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Ic(e.kb,e);n||(n=new jf("//www.google.com/images/cleardot.gif"),yc.location&&"http"==yc.location.protocol||Ff(n,"https"),qf(n)),function(e,t){var n=new Xl;if(yc.Image){var r=new Image;r.onload=Tc(gd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Tc(gd,n,r,"TestLoadImage: error",!1,t),r.onabort=Tc(gd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Tc(gd,n,r,"TestLoadImage: timeout",!1,t),yc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else of(2);e.G=0,e.l&&e.l.va(t),th(e),Bd(e)}function th(e){if(e.G=0,e.la=[],e.l){var t=hd(e.h);0==t.length&&0==e.i.length||(Oc(e.la,t),Oc(e.la,e.i),e.h.i.length=0,Ac(e.i),e.i.length=0),e.l.ua()}}function nh(e,t,n){var r=n instanceof jf?Uf(n):new jf(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Vf(r,r.m);else{var i=yc.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new jf(null,void 0);r&&Ff(a,r),t&&(a.g=t),i&&Vf(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Bf(r,n,t),Bf(r,"VER",e.ma),Wd(e,r),r}function rh(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Ed(new yd({jb:!0})):new Ed(e.ra)).Ka(e.H),t}function ih(){}function ah(){if(qc&&!(10<=Number(nl)))throw Error("Environmental error: no available transport.")}function oh(e,t){Cl.call(this),this.g=new Fd(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Lc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Lc(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ch(this)}function sh(e){mf.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function uh(){gf.call(this),this.status=1}function ch(e){this.g=e}(pc=Ed.prototype).Ka=function(e){this.L=e},pc.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pf.g(),this.C=this.u?df(this.u):df(pf),this.g.onreadystatechange=Ic(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Rd(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=A(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(h){o.e(h)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=yc.FormData&&e instanceof yc.FormData,!(0<=Nc(Cd,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=A(n);try{for(c.s();!(u=c.n()).done;){var l=E(u.value,2),f=l[0],d=l[1];this.g.setRequestHeader(f,d)}}catch(h){c.e(h)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Dd(this),0<this.B&&((this.K=function(e){return qc&&el()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ic(this.qa,this)):this.A=Gl(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Rd(this,s)}},pc.qa=function(){"undefined"!=typeof gc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rl(this,"timeout"),this.abort(8))},pc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Rl(this,"complete"),Rl(this,"abort"),Od(this))},pc.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Od(this,!0)),Ed.X.M.call(this)},pc.Ha=function(){this.s||(this.F||this.v||this.l?Ad(this):this.fb())},pc.fb=function(){Ad(this)},pc.aa=function(){try{return 2<Pd(this)?this.g.status:-1}catch(od){return-1}},pc.fa=function(){try{return this.g?this.g.responseText:""}catch(od){return""}},pc.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Sd(t)}},pc.Ea=function(){return this.m},pc.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(pc=Fd.prototype).ma=8,pc.G=1,pc.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new bf(this,this.j,e,void 0),n=this.s;if(this.S&&(n?dl(n=ll(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Hd(this,t,r),Bf(i=Uf(this.F),"RID",e),Bf(i,"CVER",22),this.D&&Bf(i,"X-HTTP-Session-Id",this.D),Wd(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Md(n)))+"&"+r:this.o&&jd(i,this.o,n)),fd(this.h,t),this.Ya&&Bf(i,"TYPE","init"),this.O?(Bf(i,"$req",r),Bf(i,"SID","null"),t.Z=!0,Sf(t,i,null)):Sf(t,i,r),this.G=2}}else 3==this.G&&(e?Gd(this,e):0==this.i.length||ud(this.h)||Gd(this))},pc.Ia=function(){if(this.u=null,Jd(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=uf(Ic(this.eb,this),e)}},pc.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,of(10),zd(this),Jd(this))},pc.cb=function(){null!=this.v&&(this.v=null,zd(this),Qd(this),of(19))},pc.kb=function(e){e?(this.j.info("Successfully pinged google.com"),of(2)):(this.j.info("Failed to ping google.com"),of(1))},(pc=ih.prototype).xa=function(){},pc.wa=function(){},pc.va=function(){},pc.ua=function(){},pc.Ra=function(){},ah.prototype.g=function(e,t){return new oh(e,t)},Cc(oh,Cl),oh.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;of(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=nh(e,null,e.V),qd(e)},oh.prototype.close=function(){Vd(this.g)},oh.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Al(e),e=n);t.i.push(new id(t.ab++,e)),3==t.G&&qd(t)},oh.prototype.M=function(){this.g.l=null,delete this.j,Vd(this.g),delete this.g,oh.X.M.call(this)},Cc(sh,mf),Cc(uh,gf),Cc(ch,ih),ch.prototype.xa=function(){Rl(this.g,"a")},ch.prototype.wa=function(e){Rl(this.g,new sh(e))},ch.prototype.va=function(e){Rl(this.g,new uh)},ch.prototype.ua=function(){Rl(this.g,"b")},ah.prototype.createWebChannel=ah.prototype.g,oh.prototype.send=oh.prototype.u,oh.prototype.open=oh.prototype.m,oh.prototype.close=oh.prototype.close,cf.NO_ERROR=0,cf.TIMEOUT=8,cf.HTTP_ERROR=6,lf.COMPLETE="complete",hf.EventType=vf,vf.OPEN="a",vf.CLOSE="b",vf.ERROR="c",vf.MESSAGE="d",Cl.prototype.listen=Cl.prototype.N,Ed.prototype.listenOnce=Ed.prototype.O,Ed.prototype.getLastError=Ed.prototype.Oa,Ed.prototype.getLastErrorCode=Ed.prototype.Ea,Ed.prototype.getStatus=Ed.prototype.aa,Ed.prototype.getResponseJson=Ed.prototype.Sa,Ed.prototype.getResponseText=Ed.prototype.fa,Ed.prototype.send=Ed.prototype.da,Ed.prototype.setWithCredentials=Ed.prototype.Ka;var lh=mc.createWebChannelTransport=function(){return new ah},fh=mc.getStatEventTarget=function(){return tf()},dh=mc.ErrorCode=cf,hh=mc.EventType=lf,ph=mc.Event=Zl,vh=mc.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},mh=mc.FetchXmlHttpFactory=yd,gh=mc.WebChannel=hf,yh=mc.XhrIo=Ed,bh="@firebase/firestore",kh=function(){function e(t){C(this,e),this.uid=t}return N(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();kh.UNAUTHENTICATED=new kh(null),kh.GOOGLE_CREDENTIALS=new kh("google-credentials-uid"),kh.FIRST_PARTY=new kh("first-party-uid"),kh.MOCK_USER=new kh("mock-user");var wh="9.19.0",xh=new Oe("@firebase/firestore");function _h(){return xh.logLevel}function Sh(e){if(xh.logLevel<=Ee.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Th);xh.debug.apply(xh,["Firestore (".concat(wh,"): ").concat(e)].concat(ye(i)))}}function Eh(e){if(xh.logLevel<=Ee.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Th);xh.error.apply(xh,["Firestore (".concat(wh,"): ").concat(e)].concat(ye(i)))}}function Ih(e){if(xh.logLevel<=Ee.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Th);xh.warn.apply(xh,["Firestore (".concat(wh,"): ").concat(e)].concat(ye(i)))}}function Th(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ch(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(wh,") INTERNAL ASSERTION FAILED: ")+e;throw Eh(t),new Error(t)}function Rh(e,t){e||Ch()}function Nh(e,t){return e}var Ah={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Oh=function(e){P(n,e);var t=j(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return N(n)}(re),Dh=N((function e(){var t=this;C(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ph=N((function e(t,n){C(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Lh=function(){function e(){C(this,e)}return N(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(kh.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Mh=function(){function e(t){C(this,e),this.token=t,this.changeListener=null}return N(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),jh=function(){function e(t){C(this,e),this.t=t,this.currentUser=kh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return N(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Dh;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Dh,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Sh("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Sh("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Dh)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Sh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Rh("string"==typeof n.accessToken),new Ph(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Rh(null===e||"string"==typeof e),new kh(e)}}]),e}(),Uh=function(){function e(t,n,r){C(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=kh.FIRST_PARTY,this.g=new Map}return N(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),Fh=function(){function e(t,n,r){C(this,e),this.h=t,this.l=n,this.m=r}return N(e,[{key:"getToken",value:function(){return Promise.resolve(new Uh(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(kh.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Vh=N((function e(t){C(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),zh=function(){function e(t){C(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return N(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Sh("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,Sh("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Sh("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):Sh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Rh("string"==typeof t.token),e.T=t.token,new Vh(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Bh(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var qh=function(){function e(){C(this,e)}return N(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Bh(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Gh(e,t){return e<t?-1:e>t?1:0}function Wh(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Hh(e){return e+"\0"}var Kh=function(){function e(t,n){if(C(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Oh(Ah.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oh(Ah.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Oh(Ah.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Oh(Ah.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return N(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Gh(this.nanoseconds,e.nanoseconds):Gh(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Qh=function(){function e(t){C(this,e),this.timestamp=t}return N(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Kh(0,0))}},{key:"max",value:function(){return new e(new Kh(253402300799,999999999))}}]),e}(),Yh=function(){function e(t,n,r){C(this,e),void 0===n?n=0:n>t.length&&Ch(),void 0===r?r=t.length-n:r>t.length-n&&Ch(),this.segments=t,this.offset=n,this.len=r}return N(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Jh=function(e){P(n,e);var t=j(n);function n(){return C(this,n),t.apply(this,arguments)}return N(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Oh(Ah.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,ye(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Yh),Xh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$h=function(e){P(n,e);var t=j(n);function n(){return C(this,n),t.apply(this,arguments)}return N(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Xh.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Oh(Ah.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Oh(Ah.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Oh(Ah.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Oh(Ah.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Yh),Zh=function(){function e(t){C(this,e),this.path=t}return N(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Jh.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Jh.fromString(t))}},{key:"fromName",value:function(t){return new e(Jh.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Jh.emptyPath())}},{key:"comparator",value:function(e,t){return Jh.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Jh(t.slice()))}}]),e}(),ep=N((function e(t,n,r,i){C(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function tp(e){return e.fields.find((function(e){return 2===e.kind}))}function np(e){return e.fields.filter((function(e){return 2!==e.kind}))}ep.UNKNOWN_ID=-1;var rp=N((function e(t,n){C(this,e),this.fieldPath=t,this.kind=n}));var ip=function(){function e(t,n){C(this,e),this.sequenceNumber=t,this.offset=n}return N(e,null,[{key:"empty",value:function(){return new e(0,sp.min())}}]),e}();function ap(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Qh.fromTimestamp(1e9===r?new Kh(n+1,0):new Kh(n,r));return new sp(i,Zh.empty(),t)}function op(e){return new sp(e.readTime,e.key,-1)}var sp=function(){function e(t,n,r){C(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return N(e,null,[{key:"min",value:function(){return new e(Qh.min(),Zh.empty(),-1)}},{key:"max",value:function(){return new e(Qh.max(),Zh.empty(),-1)}}]),e}();function up(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Zh.comparator(e.documentKey,t.documentKey))?n:Gh(e.largestBatchId,t.largestBatchId)}var cp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",lp=function(){function e(){C(this,e),this.onCommittedListeners=[]}return N(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function fp(e){return dp.apply(this,arguments)}function dp(){return dp=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Ah.FAILED_PRECONDITION&&t.message===cp){e.next=2;break}throw t;case 2:Sh("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),dp.apply(this,arguments)}var hp=function(){function e(t){var n=this;C(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return N(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ch(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=A(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),pp=function(){function e(t,n){var r=this;C(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.R=new Dh,this.transaction.oncomplete=function(){r.R.resolve()},this.transaction.onabort=function(){n.error?r.R.reject(new gp(t,n.error)):r.R.resolve()},this.transaction.onerror=function(e){var n=xp(e.target.error);r.R.reject(new gp(t,n))}}return N(e,[{key:"v",get:function(){return this.R.promise}},{key:"abort",value:function(e){e&&this.R.reject(e),this.aborted||(Sh("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new bp(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new gp(n,t)}}}]),e}(),vp=function(){function e(t,n,r){C(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(X())&&Eh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return N(e,[{key:"$",value:function(){var e=ke(me().mark((function e(t){var n=this;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Sh("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new gp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Oh(Ah.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Oh(Ah.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new gp(t,n))},i.onupgradeneeded=function(e){Sh("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.M(t,i.transaction,e.oldVersion,n.version).next((function(){Sh("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ke(me().mark((function e(t,n,r,i){var a,o,s,u,c=this;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=me().mark((function e(){var n,s,u,l;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=pp.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),hp.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.v;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,Sh("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Sh("SimpleDb","Removing database:",e),kp(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!ne())return!1;if(e.C())return!0;var t=X(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyBeGxpyW7-XKT4scH41JCzn2Tzb3s7sveY",REACT_APP_FIREBASE_AUTH_DOMAIN:"sentiment-6696b.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://sentiment-6696b-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"sentiment-6696b",REACT_APP_FIREBASE_STORAGE_BUCKET:"sentiment-6696b.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"929145383886",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-38C03L0RC1",REACT_APP_FIREBASE_APP_ID:"1:929145383886:web:4059c05a3f9aebca45199f"})||void 0===e?void 0:e.k)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),mp=function(){function e(t){C(this,e),this.L=t,this.q=!1,this.U=null}return N(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return kp(this.L.delete())}}]),e}(),gp=function(e){P(n,e);var t=j(n);function n(e,r){var i;return C(this,n),(i=t.call(this,Ah.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return N(n)}(Oh);function yp(e){return"IndexedDbTransactionError"===e.name}var bp=function(){function e(t){C(this,e),this.store=t}return N(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Sh("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Sh("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),kp(n)}},{key:"add",value:function(e){return Sh("SimpleDb","ADD",this.store.name,e,e),kp(this.store.add(e))}},{key:"get",value:function(e){var t=this;return kp(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Sh("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Sh("SimpleDb","DELETE",this.store.name,e),kp(this.store.delete(e))}},{key:"count",value:function(){return Sh("SimpleDb","COUNT",this.store.name),kp(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new hp((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new hp((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){Sh("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new hp((function(n,r){t.onerror=function(e){var t=xp(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new hp((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new mp(i),o=t(i.primaryKey,i.value,a);if(o instanceof hp){var s=o.catch((function(e){return a.done(),hp.reject(e)}));n.push(s)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return hp.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function kp(e){return new hp((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=xp(e.target.error);n(t)}}))}var wp=!1;function xp(e){var t=vp.S(X());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Oh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return wp||(wp=!0,setTimeout((function(){throw r}),0)),r}}return e}var _p=function(){function e(t,n){C(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return N(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;Sh("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Sh,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!yp(e.t4)){e.next=17;break}Sh("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,fp(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Sp=function(){function e(t,n){C(this,e),this.localStore=t,this.persistence=n}return N(e,[{key:"nt",value:function(){var e=ke(me().mark((function e(){var t,n=this,r=arguments;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return hp.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Sh("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return Sh("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=op(t);up(r,n)>0&&(n=r)})),new sp(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Ep=function(){function e(t,n){var r=this;C(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return N(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function Ip(e){return null==e}function Tp(e){return 0===e&&1/e==-1/0}function Cp(e){return"number"==typeof e&&Number.isInteger(e)&&!Tp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Rp(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ap(t)),t=Np(e.get(n),t);return Ap(t)}function Np(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Ap(e){return e+"\x01\x01"}function Op(e){var t=e.length;if(Rh(t>=2),2===t)return Rh("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Jh.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Ch(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Ch()}a=o+2}return new Jh(r)}Ep.ct=-1;var Dp=["userId","batchId"];function Pp(e,t){return[e,Rp(t)]}function Lp(e,t,n){return[e,Rp(t),n]}var Mp={},jp=["prefixPath","collectionGroup","readTime","documentId"],Up=["prefixPath","collectionGroup","documentId"],Fp=["collectionGroup","readTime","prefixPath","documentId"],Vp=["canonicalId","targetId"],zp=["targetId","path"],Bp=["path","targetId"],qp=["collectionId","parent"],Gp=["indexId","uid"],Wp=["uid","sequenceNumber"],Hp=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Kp=["indexId","uid","orderedDocumentKey"],Qp=["userId","collectionPath","documentId"],Yp=["userId","collectionPath","largestBatchId"],Jp=["userId","collectionGroup","largestBatchId"],Xp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),$p=[].concat(ye(Xp),["documentOverlays"]),Zp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ev=Zp,tv=[].concat(ev,["indexConfiguration","indexState","indexEntries"]),nv=function(e){P(n,e);var t=j(n);function n(e,r){var i;return C(this,n),(i=t.call(this)).at=e,i.currentSequenceNumber=r,i}return N(n)}(lp);function rv(e,t){var n=Nh(e);return vp.O(n.at,t)}function iv(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function av(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ov(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var sv=function(){function e(t,n){C(this,e),this.comparator=t,this.root=n||cv.EMPTY}return N(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,cv.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,cv.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new uv(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new uv(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new uv(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new uv(this.root,e,this.comparator,!0)}}]),e}(),uv=function(){function e(t,n,r,i){C(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return N(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),cv=function(){function e(t,n,r,i,a){C(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return N(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ch();if(this.right.isRed())throw Ch();var e=this.left.check();if(e!==this.right.check())throw Ch();return e+(this.isRed()?0:1)}}]),e}();cv.EMPTY=null,cv.RED=!0,cv.BLACK=!1,cv.EMPTY=new(function(){function e(){C(this,e),this.size=0}return N(e,[{key:"key",get:function(){throw Ch()}},{key:"value",get:function(){throw Ch()}},{key:"color",get:function(){throw Ch()}},{key:"left",get:function(){throw Ch()}},{key:"right",get:function(){throw Ch()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new cv(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var lv=function(){function e(t){C(this,e),this.comparator=t,this.data=new sv(this.comparator)}return N(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new fv(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new fv(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),fv=function(){function e(t){C(this,e),this.iter=t}return N(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function dv(e){return e.hasNext()?e.getNext():void 0}var hv=function(){function e(t){C(this,e),this.fields=t,t.sort($h.comparator)}return N(e,[{key:"unionWith",value:function(t){var n,r=new lv($h.comparator),i=A(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=A(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=A(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Wh(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),pv=function(e){P(n,e);var t=j(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return N(n)}(F(Error));var vv=function(e){function t(e){C(this,t),this.binaryString=e}return N(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Gh(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new pv("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();vv.EMPTY_BYTE_STRING=new vv("");var mv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gv(e){if(Rh(!!e),"string"==typeof e){var t=0,n=mv.exec(e);if(Rh(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:yv(e.seconds),nanos:yv(e.nanos)}}function yv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function bv(e){return"string"==typeof e?vv.fromBase64String(e):vv.fromUint8Array(e)}function kv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wv(e){var t=e.mapValue.fields.__previous_value__;return kv(t)?wv(t):t}function xv(e){var t=gv(e.mapValue.fields.__local_write_time__.timestampValue);return new Kh(t.seconds,t.nanos)}var _v=N((function e(t,n,r,i,a,o,s,u){C(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Sv=function(){function e(t,n){C(this,e),this.projectId=t,this.database=n||"(default)"}return N(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Ev={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Iv={nullValue:"NULL_VALUE"};function Tv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?kv(e)?4:zv(e)?9007199254740991:10:Ch()}function Cv(e,t){if(e===t)return!0;var n=Tv(e);if(n!==Tv(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xv(e).isEqual(xv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=gv(e.timestampValue),r=gv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return bv(e.bytesValue).isEqual(bv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return yv(e.geoPointValue.latitude)===yv(t.geoPointValue.latitude)&&yv(e.geoPointValue.longitude)===yv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return yv(e.integerValue)===yv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=yv(e.doubleValue),r=yv(t.doubleValue);return n===r?Tp(n)===Tp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Wh(e.arrayValue.values||[],t.arrayValue.values||[],Cv);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(iv(n)!==iv(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Cv(n[i],r[i])))return!1;return!0}(e,t);default:return Ch()}}function Rv(e,t){return void 0!==(e.values||[]).find((function(e){return Cv(e,t)}))}function Nv(e,t){if(e===t)return 0;var n=Tv(e),r=Tv(t);if(n!==r)return Gh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Gh(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=yv(e.integerValue||e.doubleValue),r=yv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Av(e.timestampValue,t.timestampValue);case 4:return Av(xv(e),xv(t));case 5:return Gh(e.stringValue,t.stringValue);case 6:return function(e,t){var n=bv(e),r=bv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Gh(n[i],r[i]);if(0!==a)return a}return Gh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Gh(yv(e.latitude),yv(t.latitude));return 0!==n?n:Gh(yv(e.longitude),yv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Nv(n[i],r[i]);if(a)return a}return Gh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ev.mapValue&&t===Ev.mapValue)return 0;if(e===Ev.mapValue)return 1;if(t===Ev.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Gh(r[o],a[o]);if(0!==s)return s;var u=Nv(n[r[o]],i[a[o]]);if(0!==u)return u}return Gh(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ch()}}function Av(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Gh(e,t);var n=gv(e),r=gv(t),i=Gh(n.seconds,r.seconds);return 0!==i?i:Gh(n.nanos,r.nanos)}function Ov(e){return Dv(e)}function Dv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=gv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?bv(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Zh.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=A(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Dv(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=A(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Dv(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Ch();var t,n}function Pv(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Lv(e){return!!e&&"integerValue"in e}function Mv(e){return!!e&&"arrayValue"in e}function jv(e){return!!e&&"nullValue"in e}function Uv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fv(e){return!!e&&"mapValue"in e}function Vv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return av(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Vv(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Vv(e.arrayValue.values[r]);return n}return Object.assign({},e)}function zv(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Bv(e){return"nullValue"in e?Iv:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Pv(Sv.empty(),Zh.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Ch()}function qv(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Pv(Sv.empty(),Zh.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ev:Ch()}function Gv(e,t){var n=Nv(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Wv(e,t){var n=Nv(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Hv=function(){function e(t){C(this,e),this.value=t}return N(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Fv(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vv(t)}},{key:"setAll",value:function(e){var t=this,n=$h.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Vv(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Fv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Cv(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Fv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){av(t,(function(t,n){return e[t]=n}));var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Vv(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Kv(e){var t=[];return av(e.fields,(function(e,n){var r=new $h([e]);if(Fv(n)){var i=Kv(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=A(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new hv(t)}var Qv=function(){function e(t,n,r,i,a,o,s){C(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return N(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Qh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Hv.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Hv.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Qh.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Qh.min(),Qh.min(),Qh.min(),Hv.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Qh.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Qh.min(),Qh.min(),Hv.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Qh.min(),Qh.min(),Hv.empty(),2)}}]),e}(),Yv=N((function e(t,n){C(this,e),this.position=t,this.inclusive=n}));function Jv(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Zh.comparator(Zh.fromName(o.referenceValue),n.key):Nv(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Xv(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Cv(e.position[n],t.position[n]))return!1;return!0}var $v=N((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";C(this,e),this.field=t,this.dir=n}));function Zv(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var em=N((function e(){C(this,e)})),tm=function(e){P(n,e);var t=j(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return N(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Nv(t,this.value)):null!==t&&Tv(this.value)===Tv(t)&&this.matchesComparison(Nv(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ch()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new fm(e,t,r):"array-contains"===t?new vm(e,r):"in"===t?new mm(e,r):"not-in"===t?new gm(e,r):"array-contains-any"===t?new ym(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new dm(e,n):new hm(e,n)}}]),n}(em),nm=function(e){P(n,e);var t=j(n);function n(e,r){var i;return C(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return N(n,[{key:"matches",value:function(e){return rm(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=A(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(em);function rm(e){return"and"===e.op}function im(e){return"or"===e.op}function am(e){return om(e)&&rm(e)}function om(e){var t,n=A(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof nm)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function sm(e){if(e instanceof tm)return e.field.canonicalString()+e.op.toString()+Ov(e.value);if(am(e))return e.filters.map((function(e){return sm(e)})).join(",");var t=e.filters.map((function(e){return sm(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function um(e,t){return e instanceof tm?function(e,t){return t instanceof tm&&e.op===t.op&&e.field.isEqual(t.field)&&Cv(e.value,t.value)}(e,t):e instanceof nm?function(e,t){return t instanceof nm&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&um(n,t.filters[r])}),!0)}(e,t):void Ch()}function cm(e,t){var n=e.filters.concat(t);return nm.create(n,e.op)}function lm(e){return e instanceof tm?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ov(e.value))}(e):e instanceof nm?function(e){return e.op.toString()+" {"+e.getFilters().map(lm).join(" ,")+"}"}(e):"Filter"}var fm=function(e){P(n,e);var t=j(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this,e,r,i)).key=Zh.fromName(i.referenceValue),a}return N(n,[{key:"matches",value:function(e){var t=Zh.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(tm),dm=function(e){P(n,e);var t=j(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e,"in",r)).keys=pm("in",r),i}return N(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(tm),hm=function(e){P(n,e);var t=j(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e,"not-in",r)).keys=pm("not-in",r),i}return N(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(tm);function pm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Zh.fromName(e.referenceValue)}))}var vm=function(e){P(n,e);var t=j(n);function n(e,r){return C(this,n),t.call(this,e,"array-contains",r)}return N(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Mv(t)&&Rv(t.arrayValue,this.value)}}]),n}(tm),mm=function(e){P(n,e);var t=j(n);function n(e,r){return C(this,n),t.call(this,e,"in",r)}return N(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Rv(this.value.arrayValue,t)}}]),n}(tm),gm=function(e){P(n,e);var t=j(n);function n(e,r){return C(this,n),t.call(this,e,"not-in",r)}return N(n,[{key:"matches",value:function(e){if(Rv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Rv(this.value.arrayValue,t)}}]),n}(tm),ym=function(e){P(n,e);var t=j(n);function n(e,r){return C(this,n),t.call(this,e,"array-contains-any",r)}return N(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Mv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Rv(t.value.arrayValue,e)}))}}]),n}(tm),bm=N((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;C(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function km(e){return new bm(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function wm(e){var t=Nh(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return sm(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ip(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ov(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ov(e)})).join(",")),t.ft=n}return t.ft}function xm(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Zv(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!um(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Xv(e.startAt,t.startAt)&&Xv(e.endAt,t.endAt)}function _m(e){return Zh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Sm(e,t){return e.filters.filter((function(e){return e instanceof tm&&e.field.isEqual(t)}))}function Em(e,t,n){var r,i=Iv,a=!0,o=A(Sm(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Iv,c=!0;switch(s.op){case"<":case"<=":u=Bv(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Iv}Gv({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Gv({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Im(e,t,n){var r,i=Ev,a=!0,o=A(Sm(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Ev,c=!0;switch(s.op){case">=":case">":u=qv(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=Ev}Wv({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Wv({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Tm=N((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;C(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this.wt=null,this.startAt,this.endAt}));function Cm(e,t,n,r,i,a,o,s){return new Tm(e,t,n,r,i,a,o,s)}function Rm(e){return new Tm(e)}function Nm(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Am(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Om(e){var t,n=A(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Dm(e){return null!==e.collectionGroup}function Pm(e){var t=Nh(e);if(null===t.dt){t.dt=[];var n=Om(t),r=Am(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new $v(n)),t.dt.push(new $v($h.keyField(),"asc"));else{var i,a=!1,o=A(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new $v($h.keyField(),u))}}}return t.dt}function Lm(e){var t=Nh(e);if(!t.wt)if("F"===t.limitType)t.wt=km(t.path,t.collectionGroup,Pm(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=A(Pm(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new $v(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Yv(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Yv(t.startAt.position,t.startAt.inclusive):null;t.wt=km(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.wt}function Mm(e,t){t.getFirstInequalityField(),Om(e);var n=e.filters.concat([t]);return new Tm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function jm(e,t,n){return new Tm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Um(e,t){return xm(Lm(e),Lm(t))&&e.limitType===t.limitType}function Fm(e){return"".concat(wm(Lm(e)),"|lt:").concat(e.limitType)}function Vm(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return lm(e)})).join(", "),"]")),Ip(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ov(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ov(e)})).join(",")),"Target(".concat(t,")")}(Lm(e)),"; limitType=").concat(e.limitType,")")}function zm(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Zh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=A(Pm(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=A(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Jv(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Pm(e),t))&&!(e.endAt&&!function(e,t,n){var r=Jv(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Pm(e),t))}(e,t)}function Bm(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function qm(e){return function(t,n){var r,i=!1,a=A(Pm(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Gm(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Gm(e,t,n){var r=e.field.isKeyField()?Zh.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Nv(r,i):Ch()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ch()}}var Wm=function(){function e(t,n){C(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return N(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=E(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){av(this.inner,(function(t,n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=E(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ov(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Hm=new sv(Zh.comparator);function Km(){return Hm}var Qm=new sv(Zh.comparator);function Ym(){for(var e=Qm,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Jm(e){var t=Qm;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Xm(){return Zm()}function $m(){return Zm()}function Zm(){return new Wm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var eg=new sv(Zh.comparator),tg=new lv(Zh.comparator);function ng(){for(var e=tg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var rg=new lv(Gh);function ig(){return rg}function ag(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tp(t)?"-0":t}}function og(e){return{integerValue:""+e}}function sg(e,t){return Cp(t)?og(t):ag(e,t)}var ug=N((function e(){C(this,e),this._=void 0}));function cg(e,t,n){return e instanceof dg?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof hg?pg(e,t):e instanceof vg?mg(e,t):function(e,t){var n=fg(e,t),r=yg(n)+yg(e._t);return Lv(n)&&Lv(e._t)?og(r):ag(e.serializer,r)}(e,t)}function lg(e,t,n){return e instanceof hg?pg(e,t):e instanceof vg?mg(e,t):n}function fg(e,t){return e instanceof gg?Lv(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var dg=function(e){P(n,e);var t=j(n);function n(){return C(this,n),t.apply(this,arguments)}return N(n)}(ug),hg=function(e){P(n,e);var t=j(n);function n(e){var r;return C(this,n),(r=t.call(this)).elements=e,r}return N(n)}(ug);function pg(e,t){var n,r=bg(t),i=A(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Cv(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var vg=function(e){P(n,e);var t=j(n);function n(e){var r;return C(this,n),(r=t.call(this)).elements=e,r}return N(n)}(ug);function mg(e,t){var n,r=bg(t),i=A(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Cv(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var gg=function(e){P(n,e);var t=j(n);function n(e,r){var i;return C(this,n),(i=t.call(this)).serializer=e,i._t=r,i}return N(n)}(ug);function yg(e){return yv(e.integerValue||e.doubleValue)}function bg(e){return Mv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var kg=N((function e(t,n){C(this,e),this.field=t,this.transform=n}));var wg=N((function e(t,n){C(this,e),this.version=t,this.transformResults=n})),xg=function(){function e(t,n){C(this,e),this.updateTime=t,this.exists=n}return N(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function _g(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Sg=N((function e(){C(this,e)}));function Eg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new jg(e.key,xg.none()):new Ng(e.key,e.data,xg.none());var n,r=e.data,i=Hv.empty(),a=new lv($h.comparator),o=A(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new Ag(e.key,i,new hv(a.toArray()),xg.none())}function Ig(e,t,n){e instanceof Ng?function(e,t,n){var r=e.value.clone(),i=Dg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ag?function(e,t,n){if(_g(e.precondition,t)){var r=Dg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Og(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Tg(e,t,n,r){return e instanceof Ng?function(e,t,n,r){if(!_g(e.precondition,t))return n;var i=e.value.clone(),a=Pg(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ag?function(e,t,n,r){if(!_g(e.precondition,t))return n;var i=Pg(e.fieldTransforms,r,t),a=t.data;return a.setAll(Og(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return _g(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Cg(e,t){var n,r=null,i=A(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=fg(a.transform,o||null);null!=s&&(null===r&&(r=Hv.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Rg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Wh(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof hg&&t instanceof hg||e instanceof vg&&t instanceof vg?Wh(e.elements,t.elements,Cv):e instanceof gg&&t instanceof gg?Cv(e._t,t._t):e instanceof dg&&t instanceof dg}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Ng=function(e){P(n,e);var t=j(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return C(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return N(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Sg),Ag=function(e){P(n,e);var t=j(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return C(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return N(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Sg);function Og(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Dg(e,t,n){var r=new Map;Rh(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,lg(o,s,n[i]))}return r}function Pg(e,t,n){var r,i=new Map,a=A(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,cg(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Lg,Mg,jg=function(e){P(n,e);var t=j(n);function n(e,r){var i;return C(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return N(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Sg),Ug=function(e){P(n,e);var t=j(n);function n(e,r){var i;return C(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return N(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Sg),Fg=function(){function e(t,n,r,i){C(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return N(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ig(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=A(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Tg(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=A(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Tg(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=$m();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=Eg(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Qh.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ng())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Wh(this.mutations,e.mutations,(function(e,t){return Rg(e,t)}))&&Wh(this.baseMutations,e.baseMutations,(function(e,t){return Rg(e,t)}))}}]),e}(),Vg=function(){function e(t,n,r,i){C(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return N(e,null,[{key:"from",value:function(t,n,r){Rh(t.mutations.length===r.length);for(var i=eg,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),zg=function(){function e(t,n){C(this,e),this.largestBatchId=t,this.mutation=n}return N(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Bg=N((function e(t){C(this,e),this.count=t}));function qg(e){switch(e){default:return Ch();case Ah.CANCELLED:case Ah.UNKNOWN:case Ah.DEADLINE_EXCEEDED:case Ah.RESOURCE_EXHAUSTED:case Ah.INTERNAL:case Ah.UNAVAILABLE:case Ah.UNAUTHENTICATED:return!1;case Ah.INVALID_ARGUMENT:case Ah.NOT_FOUND:case Ah.ALREADY_EXISTS:case Ah.PERMISSION_DENIED:case Ah.FAILED_PRECONDITION:case Ah.ABORTED:case Ah.OUT_OF_RANGE:case Ah.UNIMPLEMENTED:case Ah.DATA_LOSS:return!0}}function Gg(e){if(void 0===e)return Eh("GRPC error has no .code"),Ah.UNKNOWN;switch(e){case Lg.OK:return Ah.OK;case Lg.CANCELLED:return Ah.CANCELLED;case Lg.UNKNOWN:return Ah.UNKNOWN;case Lg.DEADLINE_EXCEEDED:return Ah.DEADLINE_EXCEEDED;case Lg.RESOURCE_EXHAUSTED:return Ah.RESOURCE_EXHAUSTED;case Lg.INTERNAL:return Ah.INTERNAL;case Lg.UNAVAILABLE:return Ah.UNAVAILABLE;case Lg.UNAUTHENTICATED:return Ah.UNAUTHENTICATED;case Lg.INVALID_ARGUMENT:return Ah.INVALID_ARGUMENT;case Lg.NOT_FOUND:return Ah.NOT_FOUND;case Lg.ALREADY_EXISTS:return Ah.ALREADY_EXISTS;case Lg.PERMISSION_DENIED:return Ah.PERMISSION_DENIED;case Lg.FAILED_PRECONDITION:return Ah.FAILED_PRECONDITION;case Lg.ABORTED:return Ah.ABORTED;case Lg.OUT_OF_RANGE:return Ah.OUT_OF_RANGE;case Lg.UNIMPLEMENTED:return Ah.UNIMPLEMENTED;case Lg.DATA_LOSS:return Ah.DATA_LOSS;default:return Ch()}}(Mg=Lg||(Lg={}))[Mg.OK=0]="OK",Mg[Mg.CANCELLED=1]="CANCELLED",Mg[Mg.UNKNOWN=2]="UNKNOWN",Mg[Mg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mg[Mg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mg[Mg.NOT_FOUND=5]="NOT_FOUND",Mg[Mg.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mg[Mg.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mg[Mg.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mg[Mg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mg[Mg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mg[Mg.ABORTED=10]="ABORTED",Mg[Mg.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mg[Mg.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mg[Mg.INTERNAL=13]="INTERNAL",Mg[Mg.UNAVAILABLE=14]="UNAVAILABLE",Mg[Mg.DATA_LOSS=15]="DATA_LOSS";var Wg=function(){function e(){C(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return N(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return Hg}},{key:"getOrCreateInstance",value:function(){return null===Hg&&(Hg=new e),Hg}}]),e}(),Hg=null,Kg=function(){function e(t,n,r,i,a){C(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return N(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Qg.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Qh.min(),i,ig(),Km(),ng())}}]),e}(),Qg=function(){function e(t,n,r,i,a){C(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return N(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,ng(),ng(),ng())}}]),e}(),Yg=N((function e(t,n,r,i){C(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),Jg=N((function e(t,n){C(this,e),this.targetId=t,this.Et=n})),Xg=N((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vv.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;C(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),$g=function(){function e(){C(this,e),this.At=0,this.Rt=ty(),this.vt=vv.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}return N(e,[{key:"current",get:function(){return this.bt}},{key:"resumeToken",get:function(){return this.vt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.Pt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}},{key:"Ct",value:function(){var e=ng(),t=ng(),n=ng();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ch()}})),new Qg(this.vt,this.bt,e,t,n)}},{key:"xt",value:function(){this.Pt=!1,this.Rt=ty()}},{key:"Nt",value:function(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"$t",value:function(){this.At-=1}},{key:"Mt",value:function(){this.Pt=!0,this.bt=!0}}]),e}(),Zg=function(){function e(t){C(this,e),this.Ft=t,this.Bt=new Map,this.Lt=Km(),this.qt=ey(),this.Ut=new lv(Gh)}return N(e,[{key:"Kt",value:function(e){var t,n=A(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(s){n.e(s)}finally{n.f()}var i,a=A(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"zt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.jt(n);switch(e.state){case 0:t.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||t.removeTarget(n);break;case 3:t.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:t.Wt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:Ch()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.Wt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t,n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){var a=i.target;if(_m(a))if(0===r){var o=new Zh(a.path);this.Qt(n,o,Qv.newNoDocument(o,Qh.min()))}else Rh(1===r);else{var s=this.Zt(n);s!==r&&(this.Ht(n),this.Ut=this.Ut.add(n),null===(t=Wg.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:s,existenceFilterCount:e.Et.count}))}}}},{key:"Xt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&_m(a.target)){var o=new Zh(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,Qv.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=ng();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Kg(e,n,this.Ut,this.Lt,r);return this.Lt=Km(),this.qt=ey(),this.Ut=new lv(Gh),i}},{key:"Gt",value:function(e,t){if(this.Wt(e)){var n=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.Wt(e)){var r=this.jt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Zt",value:function(e){var t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.jt(e).Ot()}},{key:"jt",value:function(e){var t=this.Bt.get(e);return t||(t=new $g,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new lv(Gh),this.qt=this.qt.insert(e,t)),t}},{key:"Wt",value:function(e){var t=null!==this.Yt(e);return t||Sh("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new $g),this.Ft.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}]),e}();function ey(){return new sv(Zh.comparator)}function ty(){return new sv(Zh.comparator)}var ny={asc:"ASCENDING",desc:"DESCENDING"},ry={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iy={and:"AND",or:"OR"},ay=N((function e(t,n){C(this,e),this.databaseId=t,this.useProto3Json=n}));function oy(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function sy(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function uy(e,t){return oy(e,t.toTimestamp())}function cy(e){return Rh(!!e),Qh.fromTimestamp(function(e){var t=gv(e);return new Kh(t.seconds,t.nanos)}(e))}function ly(e,t){return function(e){return new Jh(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function fy(e){var t=Jh.fromString(e);return Rh(Py(t)),t}function dy(e,t){return ly(e.databaseId,t.path)}function hy(e,t){var n=fy(t);if(n.get(1)!==e.databaseId.projectId)throw new Oh(Ah.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Oh(Ah.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Zh(gy(n))}function py(e,t){return ly(e.databaseId,t)}function vy(e){var t=fy(e);return 4===t.length?Jh.emptyPath():gy(t)}function my(e){return new Jh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function gy(e){return Rh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function yy(e,t,n){return{name:dy(e,t),fields:n.value.mapValue.fields}}function by(e,t,n){var r=hy(e,t.name),i=cy(t.updateTime),a=t.createTime?cy(t.createTime):Qh.min(),o=new Hv({mapValue:{fields:t.fields}}),s=Qv.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function ky(e,t){return"found"in t?function(e,t){Rh(!!t.found),t.found.name,t.found.updateTime;var n=hy(e,t.found.name),r=cy(t.found.updateTime),i=t.found.createTime?cy(t.found.createTime):Qh.min(),a=new Hv({mapValue:{fields:t.found.fields}});return Qv.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Rh(!!t.missing),Rh(!!t.readTime);var n=hy(e,t.missing),r=cy(t.readTime);return Qv.newNoDocument(n,r)}(e,t):Ch()}function wy(e,t){var n;if(t instanceof Ng)n={update:yy(e,t.key,t.value)};else if(t instanceof jg)n={delete:dy(e,t.key)};else if(t instanceof Ag)n={update:yy(e,t.key,t.data),updateMask:Dy(t.fieldMask)};else{if(!(t instanceof Ug))return Ch();n={verify:dy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof dg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof hg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof vg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof gg)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Ch()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:uy(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ch()}(e,t.precondition)),n}function xy(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?xg.updateTime(cy(e.updateTime)):void 0!==e.exists?xg.exists(e.exists):xg.none()}(t.currentDocument):xg.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Rh("REQUEST_TIME"===t.setToServerValue),n=new dg;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new hg(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new vg(i)}else"increment"in t?n=new gg(e,t.increment):Ch();var a=$h.fromServerFormat(t.fieldPath);return new kg(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=hy(e,t.update.name),a=new Hv({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new hv(t.map((function(e){return $h.fromServerFormat(e)})))}(t.updateMask);return new Ag(i,a,o,n,r)}return new Ng(i,a,n,r)}if(t.delete){var s=hy(e,t.delete);return new jg(s,n)}if(t.verify){var u=hy(e,t.verify);return new Ug(u,n)}return Ch()}function _y(e,t){return{documents:[py(e,t.path)]}}function Sy(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=py(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=py(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Oy(nm.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ny(e.field),direction:Ty(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.useProto3Json||Ip(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Ey(e){var t=vy(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Rh(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Iy(e);return t instanceof nm&&am(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new $v(Ay(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Ip(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Yv(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Yv(n,t)}(n.endAt)),Cm(t,i,s,o,u,"F",c,l)}function Iy(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ay(e.unaryFilter.field);return tm.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ay(e.unaryFilter.field);return tm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ay(e.unaryFilter.field);return tm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ay(e.unaryFilter.field);return tm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ch()}}(e):void 0!==e.fieldFilter?function(e){return tm.create(Ay(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ch()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return nm.create(e.compositeFilter.filters.map((function(e){return Iy(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ch()}}(e.compositeFilter.op))}(e):Ch()}function Ty(e){return ny[e]}function Cy(e){return ry[e]}function Ry(e){return iy[e]}function Ny(e){return{fieldPath:e.canonicalString()}}function Ay(e){return $h.fromServerFormat(e.fieldPath)}function Oy(e){return e instanceof tm?function(e){if("=="===e.op){if(Uv(e.value))return{unaryFilter:{field:Ny(e.field),op:"IS_NAN"}};if(jv(e.value))return{unaryFilter:{field:Ny(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Uv(e.value))return{unaryFilter:{field:Ny(e.field),op:"IS_NOT_NAN"}};if(jv(e.value))return{unaryFilter:{field:Ny(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ny(e.field),op:Cy(e.op),value:e.value}}}(e):e instanceof nm?function(e){var t=e.getFilters().map((function(e){return Oy(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Ry(e.op),filters:t}}}(e):Ch()}function Dy(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Py(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Ly=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Qh.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Qh.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:vv.EMPTY_BYTE_STRING;C(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return N(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),My=N((function e(t){C(this,e),this.se=t}));function jy(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Uy(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:dy(e,t.key),fields:t.data.value.mapValue.fields,updateTime:oy(e,t.version.toTimestamp()),createTime:oy(e,t.createTime.toTimestamp())}}(e.se,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Fy(t.version)};else{if(!t.isUnknownDocument())return Ch();r.unknownDocument={path:n.path.toArray(),version:Fy(t.version)}}return r}function Uy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Fy(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Vy(e){var t=new Kh(e.seconds,e.nanoseconds);return Qh.fromTimestamp(t)}function zy(e,t){for(var n=(t.baseMutations||[]).map((function(t){return xy(e.se,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return xy(e.se,t)})),s=Kh.fromMillis(t.localWriteTimeMs);return new Fg(t.batchId,s,n,o)}function By(e){var t,n,r=Vy(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Vy(e.lastLimboFreeSnapshotVersion):Qh.min();return void 0!==e.query.documents?(Rh(1===(n=e.query).documents.length),t=Lm(Rm(vy(n.documents[0])))):t=function(e){return Lm(Ey(e))}(e.query),new Ly(t,e.targetId,0,e.lastListenSequenceNumber,r,i,vv.fromBase64String(e.resumeToken))}function qy(e,t){var n,r=Fy(t.snapshotVersion),i=Fy(t.lastLimboFreeSnapshotVersion);n=_m(t.target)?_y(e.se,t.target):Sy(e.se,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:wm(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Gy(e){var t=Ey({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?jm(t,t.limit,"L"):t}function Wy(e,t){return new zg(t.largestBatchId,xy(e.se,t.overlayMutation))}function Hy(e,t){var n=t.path.lastSegment();return[e,Rp(t.path.popLast()),n]}function Ky(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Fy(r.readTime),documentKey:Rp(r.documentKey.path),largestBatchId:r.largestBatchId}}var Qy=function(){function e(){C(this,e)}return N(e,[{key:"getBundleMetadata",value:function(e,t){return Yy(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Vy(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Yy(e).put({bundleId:(n=t).id,createTime:Fy(cy(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Jy(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Gy(t.bundledQuery),readTime:Vy(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Jy(e).put(function(e){return{name:e.name,readTime:Fy(cy(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Yy(e){return rv(e,"bundles")}function Jy(e){return rv(e,"namedQueries")}var Xy=function(){function e(t,n){C(this,e),this.serializer=t,this.userId=n}return N(e,[{key:"getOverlay",value:function(e,t){var n=this;return $y(e).get(Hy(this.userId,t)).next((function(e){return e?Wy(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Xm();return hp.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new zg(t,a);i.push(r.re(e,o))})),hp.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Rp(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push($y(e).J("collectionPathOverlayIndex",i))})),hp.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Xm(),a=Rp(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return $y(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=A(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Wy(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Xm(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return $y(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=Wy(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"re",value:function(e,t){return $y(e).put(function(e,t,n){var r=E(Hy(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:wy(e.se,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"ie",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function $y(e){return rv(e,"documentOverlays")}var Zy=function(){function e(){C(this,e)}return N(e,[{key:"oe",value:function(e,t){this.ue(e,t),t.ce()}},{key:"ue",value:function(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(yv(e.integerValue));else if("doubleValue"in e){var n=yv(e.doubleValue);isNaN(n)?this.ae(t,13):(this.ae(t,15),Tp(n)?t.he(0):t.he(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ae(t,20),"string"==typeof r?t.le(r):(t.le("".concat(r.seconds||"")),t.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(bv(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ae(t,45),t.he(i.latitude||0),t.he(i.longitude||0)}else"mapValue"in e?zv(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):Ch()}},{key:"fe",value:function(e,t){this.ae(t,25),this.ye(e,t)}},{key:"ye",value:function(e,t){t.le(e)}},{key:"me",value:function(e,t){var n=e.fields||{};this.ae(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.fe(a,t),this.ue(n[a],t)}}},{key:"ge",value:function(e,t){var n=e.values||[];this.ae(t,50);var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ue(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ae(t,37),Zh.fromName(e).path.forEach((function(e){n.ae(t,60),n.ye(e,t)}))}},{key:"ae",value:function(e,t){e.he(t)}},{key:"de",value:function(e){e.he(2)}}]),e}();function eb(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function tb(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=eb(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Zy.pe=new Zy;var nb=function(){function e(){C(this,e),this.buffer=new Uint8Array(1024),this.position=0}return N(e,[{key:"Ie",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Te(n.value),n=t.next();this.Ee()}},{key:"Ae",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Re(n.value),n=t.next();this.ve()}},{key:"be",value:function(e){var t,n=A(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Te(i);else if(i<2048)this.Te(960|i>>>6),this.Te(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Te(480|i>>>12),this.Te(128|63&i>>>6),this.Te(128|63&i);else{var a=r.codePointAt(0);this.Te(240|a>>>18),this.Te(128|63&a>>>12),this.Te(128|63&a>>>6),this.Te(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ee()}},{key:"Pe",value:function(e){var t,n=A(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{var a=r.codePointAt(0);this.Re(240|a>>>18),this.Re(128|63&a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"Ve",value:function(e){var t=this.Se(e),n=tb(t);this.De(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ce",value:function(e){var t=this.Se(e),n=tb(t);this.De(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"xe",value:function(){this.Ne(255),this.Ne(255)}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Se",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Te",value:function(e){var t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}},{key:"Re",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}},{key:"Ee",value:function(){this.Ne(0),this.Ne(1)}},{key:"ve",value:function(){this.Oe(0),this.Oe(1)}},{key:"Ne",value:function(e){this.De(1),this.buffer[this.position++]=e}},{key:"Oe",value:function(e){this.De(1),this.buffer[this.position++]=~e}},{key:"De",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),rb=function(){function e(t){C(this,e),this.Me=t}return N(e,[{key:"we",value:function(e){this.Me.Ie(e)}},{key:"le",value:function(e){this.Me.be(e)}},{key:"he",value:function(e){this.Me.Ve(e)}},{key:"ce",value:function(){this.Me.xe()}}]),e}(),ib=function(){function e(t){C(this,e),this.Me=t}return N(e,[{key:"we",value:function(e){this.Me.Ae(e)}},{key:"le",value:function(e){this.Me.Pe(e)}},{key:"he",value:function(e){this.Me.Ce(e)}},{key:"ce",value:function(){this.Me.ke()}}]),e}(),ab=function(){function e(){C(this,e),this.Me=new nb,this.Fe=new rb(this.Me),this.Be=new ib(this.Me)}return N(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Le",value:function(e){return 0===e?this.Fe:this.Be}},{key:"$e",value:function(){return this.Me.$e()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),ob=function(){function e(t,n,r,i){C(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return N(e,[{key:"qe",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function sb(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=ub(e.arrayValue,t.arrayValue))?n:0!==(n=ub(e.directionalValue,t.directionalValue))?n:Zh.comparator(e.documentKey,t.documentKey)}function ub(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var cb=function(){function e(t){C(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.Ke=[];var n,r=A(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ge=i:this.Ke.push(i)}}catch(a){r.e(a)}finally{r.f()}}return N(e,[{key:"Qe",value:function(e){Rh(e.collectionGroup===this.collectionId);var t=tp(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=np(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ge){var a=n[r];if(!this.je(this.Ge,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=A(this.Ke);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function lb(e){var t,n;if(Rh(e instanceof tm||e instanceof nm),e instanceof tm){if(e instanceof mm){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return tm.create(e.field,"==",t)})))||[];return nm.create(r,"or")}return e}var i=e.filters.map((function(e){return lb(e)}));return nm.create(i,e.op)}function fb(e){if(0===e.getFilters().length)return[];var t=vb(lb(e));return Rh(pb(t)),db(t)||hb(t)?[t]:t.getFilters()}function db(e){return e instanceof tm}function hb(e){return e instanceof nm&&am(e)}function pb(e){return db(e)||hb(e)||function(e){if(e instanceof nm&&im(e)){var t,n=A(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!db(r)&&!hb(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function vb(e){if(Rh(e instanceof tm||e instanceof nm),e instanceof tm)return e;if(1===e.filters.length)return vb(e.filters[0]);var t=e.filters.map((function(e){return vb(e)})),n=nm.create(t,e.op);return pb(n=yb(n))?n:(Rh(n instanceof nm),Rh(rm(n)),Rh(n.filters.length>1),n.filters.reduce((function(e,t){return mb(e,t)})))}function mb(e,t){var n;return Rh(e instanceof tm||e instanceof nm),Rh(t instanceof tm||t instanceof nm),n=e instanceof tm?t instanceof tm?function(e,t){return nm.create([e,t],"and")}(e,t):gb(e,t):t instanceof tm?gb(t,e):function(e,t){if(Rh(e.filters.length>0&&t.filters.length>0),rm(e)&&rm(t))return cm(e,t.getFilters());var n=im(e)?e:t,r=im(e)?t:e,i=n.filters.map((function(e){return mb(e,r)}));return nm.create(i,"or")}(e,t),yb(n)}function gb(e,t){if(rm(t))return cm(t,e.getFilters());var n=t.filters.map((function(t){return mb(e,t)}));return nm.create(n,"or")}function yb(e){if(Rh(e instanceof tm||e instanceof nm),e instanceof tm)return e;var t=e.getFilters();if(1===t.length)return yb(t[0]);if(om(e))return e;var n=t.map((function(e){return yb(e)})),r=[];return n.forEach((function(t){t instanceof tm?r.push(t):t instanceof nm&&(t.op===e.op?r.push.apply(r,ye(t.filters)):r.push(t))})),1===r.length?r[0]:nm.create(r,e.op)}var bb=function(){function e(){C(this,e),this.He=new kb}return N(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.He.add(t),hp.resolve()}},{key:"getCollectionParents",value:function(e,t){return hp.resolve(this.He.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return hp.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return hp.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return hp.resolve(null)}},{key:"getIndexType",value:function(e,t){return hp.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return hp.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return hp.resolve(null)}},{key:"getMinOffset",value:function(e,t){return hp.resolve(sp.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return hp.resolve(sp.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return hp.resolve()}},{key:"updateIndexEntries",value:function(e,t){return hp.resolve()}}]),e}(),kb=function(){function e(){C(this,e),this.index={}}return N(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new lv(Jh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new lv(Jh.comparator)).toArray()}}]),e}(),wb=new Uint8Array(0),xb=function(){function e(t,n){C(this,e),this.user=t,this.databaseId=n,this.Je=new kb,this.Ye=new Wm((function(e){return wm(e)}),(function(e,t){return xm(e,t)})),this.uid=t.uid||""}return N(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Je.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Je.add(t)}));var a={collectionId:r,parent:Rp(i)};return _b(e).put(a)}return hp.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Hh(t),""],!1,!0);return _b(e).j(r).next((function(e){var r,i=A(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Op(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Eb(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Ib(e);return a.next((function(e){o.put(Ky(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Eb(e),r=Ib(e),i=Sb(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Sb(e),i=!0,a=new Map;return hp.forEach(this.Ze(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=ng(),o=[];return hp.forEach(a,(function(i,a){var s;Sh("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(wm(t)));var u=function(e,t){var n=tp(t);if(void 0===n)return null;var r,i=A(Sm(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=A(np(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=A(Sm(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=A(np(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Em(e,o.fieldPath,e.startAt):Im(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Yv(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=A(np(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Im(e,o.fieldPath,e.endAt):Em(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Yv(r,i)}(a,i),d=n.tn(i,a,l),h=n.tn(i,a,f),p=n.en(i,a,c),v=n.nn(i.indexId,u,d,l.inclusive,h,f.inclusive,p);return hp.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Zh.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return hp.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:fb(nm.create(e.filters,"and")).map((function(t){return km(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Ye.set(e,t),t)}},{key:"nn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.sn(t[d/c]):wb,f=s.rn(e,u,n[d%c],r),h=s.on(e,u,i[d%c],a),p=o.map((function(t){return s.rn(e,u,t,!0)}));l.push.apply(l,ye(s.createRange(f,h,p)))},d=0;d<u;++d)f();return l}},{key:"rn",value:function(e,t,n,r){var i=new ob(e,Zh.empty(),t,n);return r?i:i.qe()}},{key:"on",value:function(e,t,n,r){var i=new ob(e,Zh.empty(),t,n);return r?i.qe():i}},{key:"Xe",value:function(e,t){var n=new cb(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=A(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Qe(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return hp.forEach(i,(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new lv($h.comparator),r=!1,i=A(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=A(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=A(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"un",value:function(e,t){var n,r=new ab,i=A(np(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Le(a.kind);Zy.pe.oe(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.$e()}},{key:"sn",value:function(e){var t=new ab;return Zy.pe.oe(e,t.Le(0)),t.$e()}},{key:"cn",value:function(e,t){var n=new ab;return Zy.pe.oe(Pv(this.databaseId,t),n.Le(function(e){var t=np(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"en",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new ab);var i,a=0,o=A(np(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=A(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.an(t,u.fieldPath)&&Mv(c))r=this.hn(r,u,c);else{var d=f.Le(u.kind);Zy.pe.oe(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this.ln(r)}},{key:"tn",value:function(e,t,n){return this.en(e,t,n.position)}},{key:"ln",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"hn",value:function(e,t,n){var r,i=ye(e),a=[],o=A(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=A(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new ab;f.seed(l.$e()),Zy.pe.oe(u,f.Le(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"an",value:function(e,t){return!!e.filters.find((function(e){return e instanceof tm&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Eb(e),i=Ib(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return hp.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ip(t.sequenceNumber,new sp(Vy(t.readTime),new Zh(Op(t.documentKey)),t.largestBatchId)):ip.empty(),r=e.fields.map((function(e){var t=E(e,2),n=t[0],r=t[1];return new rp($h.fromServerFormat(n),r)}));return new ep(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Gh(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Eb(e),a=Ib(e);return this.fn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return hp.forEach(t,(function(t){return a.put(Ky(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return hp.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?hp.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),hp.forEach(a,(function(r){return n.dn(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?hp.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"mn",value:function(e,t,n,r){return Sb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.cn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"gn",value:function(e,t,n,r){return Sb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.cn(n,t.key),t.key.path.toArray()])}},{key:"dn",value:function(e,t,n){var r=Sb(e),i=new lv(sb);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.cn(n,t)])},(function(e,r){i=i.add(new ob(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new lv(sb),r=this.un(t,e);if(null==r)return n;var i=tp(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Mv(a)){var o,s=A(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new ob(t.indexId,e.key,this.sn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new ob(t.indexId,e.key,wb,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;Sh("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=dv(a),u=dv(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=dv(o)):l?(i(s),s=dv(a)):(s=dv(a),u=dv(o))}}(r,i,sb,(function(r){o.push(a.mn(e,t,n,r))}),(function(r){o.push(a.gn(e,t,n,r))})),hp.waitFor(o)}},{key:"fn",value:function(e){var t=1;return Ib(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return sb(e,t)})).filter((function(e,t,n){return!t||0!==sb(e,n[t-1])}));var r=[];r.push(e);var i,a=A(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=sb(o,e),u=sb(o,t);if(0===s)r[0]=e.qe();else if(s>0&&u<0)r.push(o),r.push(o.qe());else if(u>0)break}}catch(h){a.e(h)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.yn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,wb,[]],d=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,wb,[]];c.push(IDBKeyRange.bound(f,d))}return c}},{key:"yn",value:function(e,t){return sb(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Tb)}},{key:"getMinOffset",value:function(e,t){var n=this;return hp.mapArray(this.Ze(t),(function(t){return n.Xe(e,t).next((function(e){return e||Ch()}))})).next(Tb)}}]),e}();function _b(e){return rv(e,"collectionParents")}function Sb(e){return rv(e,"indexEntries")}function Eb(e){return rv(e,"indexConfiguration")}function Ib(e){return rv(e,"indexState")}function Tb(e){Rh(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;up(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new sp(t.readTime,t.documentKey,n)}var Cb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rb=function(){function e(t,n,r){C(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return N(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Nb(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Rh(1===s)})));var c,l=[],f=A(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=Lp(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return hp.waitFor(a).next((function(){return l}))}function Ab(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ch();t=e.noDocument}return JSON.stringify(t).length}Rb.DEFAULT_COLLECTION_PERCENTILE=10,Rb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rb.DEFAULT=new Rb(41943040,Rb.DEFAULT_COLLECTION_PERCENTILE,Rb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rb.DISABLED=new Rb(-1,0,0);var Ob=function(){function e(t,n,r,i){C(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.pn={}}return N(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pb(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Lb(e),o=Pb(e);return o.add({}).next((function(s){Rh("number"==typeof s);var u,c=new Fg(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return wy(e.se,t)})),i=n.mutations.map((function(t){return wy(e.se,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],d=new lv((function(e,t){return Gh(e.canonicalString(),t.canonicalString())})),h=A(r);try{for(h.s();!(u=h.n()).done;){var p=u.value,v=Lp(i.userId,p.key.path,s);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Mp))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.pn[s]=c.keys()})),hp.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Pb(e).get(t).next((function(e){return e?(Rh(e.userId===n.userId),zy(n.serializer,e)):null}))}},{key:"In",value:function(e,t){var n=this;return this.pn[t]?hp.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.pn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Pb(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Rh(t.batchId>=r),a=zy(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Pb(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pb(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return zy(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Pp(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Lb(e).Z({range:i},(function(r,i,o){var s=E(r,3),u=s[0],c=s[1],l=s[2],f=Op(c);if(u===n.userId&&t.path.isEqual(f))return Pb(e).get(l).next((function(e){if(!e)throw Ch();Rh(e.userId===n.userId),a.push(zy(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new lv(Gh),i=[];return t.forEach((function(t){var a=Pp(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=Lb(e).Z({range:o},(function(e,i,a){var o=E(e,3),s=o[0],u=o[1],c=o[2],l=Op(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),hp.waitFor(i).next((function(){return n.Tn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Pp(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new lv(Gh);return Lb(e).Z({range:o},(function(e,t,a){var o=E(e,3),u=o[0],c=o[1],l=o[2],f=Op(c);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.Tn(e,s)}))}},{key:"Tn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Pb(e).get(t).next((function(e){if(null===e)throw Ch();Rh(e.userId===n.userId),r.push(zy(n.serializer,e))})))})),hp.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Nb(e.at,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.En(t.batchId)})),hp.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"En",value:function(e){delete this.pn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return hp.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Lb(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Op(e[1]);i.push(a)}else r.done()})).next((function(){Rh(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Db(e,this.userId,t)}},{key:"An",value:function(e){var t=this;return Mb(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ie",value:function(t,n,r,i){return Rh(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Db(e,t,n){var r=Pp(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Lb(e).Z({range:a,Y:!0},(function(e,n,r){var a=E(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function Pb(e){return rv(e,"mutations")}function Lb(e){return rv(e,"documentMutations")}function Mb(e){return rv(e,"mutationQueues")}var jb=function(){function e(t){C(this,e),this.Rn=t}return N(e,[{key:"next",value:function(){return this.Rn+=2,this.Rn}}],[{key:"vn",value:function(){return new e(0)}},{key:"bn",value:function(){return new e(-1)}}]),e}(),Ub=function(){function e(t,n){C(this,e),this.referenceDelegate=t,this.serializer=n}return N(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Pn(e).next((function(n){var r=new jb(n.highestTargetId);return n.highestTargetId=r.next(),t.Vn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Pn(e).next((function(e){return Qh.fromTimestamp(new Kh(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Vn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Sn(e,t).next((function(){return n.Pn(e).next((function(r){return r.targetCount+=1,n.Dn(t,r),n.Vn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Sn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Fb(e).delete(t.targetId)})).next((function(){return n.Pn(e)})).next((function(t){return Rh(t.targetCount>0),t.targetCount-=1,n.Vn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Fb(e).Z((function(o,s){var u=By(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return hp.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Fb(e).Z((function(e,n){var r=By(n);t(r)}))}},{key:"Pn",value:function(e){return Vb(e).get("targetGlobalKey").next((function(e){return Rh(null!==e),e}))}},{key:"Vn",value:function(e,t){return Vb(e).put("targetGlobalKey",t)}},{key:"Sn",value:function(e,t){return Fb(e).put(qy(this.serializer,t))}},{key:"Dn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=wm(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Fb(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=By(n);xm(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=zb(e);return t.forEach((function(t){var o=Rp(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),hp.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=zb(e);return hp.forEach(t,(function(t){var a=Rp(t.path);return hp.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=zb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=zb(e),i=ng();return r.Z({range:n,Y:!0},(function(e,t,n){var r=Op(e[1]),a=new Zh(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Rp(t.path),r=IDBKeyRange.bound([n],[Hh(n)],!1,!0),i=0;return zb(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=E(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return Fb(e).get(t).next((function(e){return e?By(e):null}))}}]),e}();function Fb(e){return rv(e,"targets")}function Vb(e){return rv(e,"targetGlobal")}function zb(e){return rv(e,"targetDocuments")}function Bb(e,t){var n=E(e,2),r=n[0],i=n[1],a=E(t,2),o=a[0],s=a[1],u=Gh(r,o);return 0===u?Gh(i,s):u}var qb=function(){function e(t){C(this,e),this.Cn=t,this.buffer=new lv(Bb),this.xn=0}return N(e,[{key:"Nn",value:function(){return++this.xn}},{key:"kn",value:function(e){var t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Bb(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Gb=function(){function e(t,n,r){C(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}return N(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}},{key:"stop",value:function(){this.On&&(this.On.cancel(),this.On=null)}},{key:"started",get:function(){return null!==this.On}},{key:"$n",value:function(e){var t=this;Sh("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.On=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!yp(e.t0)){e.next=12;break}Sh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,fp(e.t0);case 14:return e.next=16,t.$n(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Wb=function(){function e(t,n){C(this,e),this.Mn=t,this.params=n}return N(e,[{key:"calculateTargetCount",value:function(e,t){return this.Mn.Fn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return hp.resolve(Ep.ct);var r=new qb(t);return this.Mn.forEachTarget(e,(function(e){return r.kn(e.sequenceNumber)})).next((function(){return n.Mn.Bn(e,(function(e){return r.kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Mn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Mn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Sh("LruGarbageCollector","Garbage collection skipped; disabled"),hp.resolve(Cb)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Sh("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Cb):n.Ln(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Mn.getCacheSize(e)}},{key:"Ln",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Sh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),_h()<=Ee.DEBUG&&Sh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),hp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Hb=function(){function e(t,n){C(this,e),this.db=t,this.garbageCollector=function(e,t){return new Wb(e,t)}(this,n)}return N(e,[{key:"Fn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Bn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Bn",value:function(e,t){return this.Un(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Kb(e,n)}},{key:"removeReference",value:function(e,t,n){return Kb(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Kb(e,t)}},{key:"Kn",value:function(e,t){return function(e,t){var n=!1;return Mb(e).X((function(r){return Db(e,r,t).next((function(e){return e&&(n=!0),hp.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Un(e,(function(o,s){if(s<=t){var u=n.Kn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Qh.min()),zb(e).delete([0,Rp(o.path)])}))}));i.push(u)}})).next((function(){return hp.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Kb(e,t)}},{key:"Un",value:function(e,t){var n,r=zb(e),i=Ep.ct;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=E(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==Ep.ct&&t(new Zh(Op(n)),i),i=u,n=s):i=Ep.ct})).next((function(){i!==Ep.ct&&t(new Zh(Op(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Kb(e,t){return zb(e).put(function(e,t){return{targetId:0,path:Rp(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Qb=function(){function e(){C(this,e),this.changes=new Wm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return N(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Qv.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?hp.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Yb=function(){function e(t){C(this,e),this.serializer=t}return N(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Zb(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Zb(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Uy(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Gn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Qv.newInvalidDocument(t);return Zb(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ek(t))},(function(e,i){r=n.Qn(t,i)})).next((function(){return r}))}},{key:"zn",value:function(e,t){var n=this,r={size:0,document:Qv.newInvalidDocument(t)};return Zb(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ek(t))},(function(e,i){r={document:n.Qn(t,i),size:Ab(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Km();return this.jn(e,t,(function(e,t){var i=n.Qn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r=Km(),i=new sv(Zh.comparator);return this.jn(e,t,(function(e,t){var a=n.Qn(e,t);r=r.insert(e,a),i=i.insert(e,Ab(t))})).next((function(){return{documents:r,Hn:i}}))}},{key:"jn",value:function(e,t,n){if(t.isEmpty())return hp.resolve();var r=new lv(nk);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(ek(r.first()),ek(r.last())),a=r.getIterator(),o=a.getNext();return Zb(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Zh.fromSegments([].concat(ye(t.prefixPath),[t.collectionGroup,t.documentId]));o&&nk(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(ek(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),Uy(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zb(e).j(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=Km(),o=A(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.Qn(Zh.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(zm(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Km(),o=tk(t,n),s=tk(t,sp.max());return Zb(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.Qn(Zh.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Xb(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return $b(e).get("remoteDocumentGlobalKey").next((function(e){return Rh(!!e),e}))}},{key:"Gn",value:function(e,t){return $b(e).put("remoteDocumentGlobalKey",t)}},{key:"Qn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=by(e.se,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Zh.fromSegments(t.noDocument.path),i=Vy(t.noDocument.readTime);n=Qv.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ch();var a=Zh.fromSegments(t.unknownDocument.path),o=Vy(t.unknownDocument.version);n=Qv.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Kh(e[0],e[1]);return Qh.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Qh.min()))return n}return Qv.newInvalidDocument(e)}}]),e}();function Jb(e){return new Yb(e)}var Xb=function(e){P(n,e);var t=j(n);function n(e,r){var i;return C(this,n),(i=t.call(this)).Jn=e,i.trackRemovals=r,i.Yn=new Wm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return N(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new lv((function(e,t){return Gh(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Yn.get(a);if(n.push(t.Jn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=jy(t.Jn.serializer,o);i=i.add(a.path.popLast());var c=Ab(u);r+=c-s.size,n.push(t.Jn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=jy(t.Jn.serializer,o.convertToNoDocument(Qh.min()));n.push(t.Jn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Jn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Jn.updateMetadata(e,r)),hp.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Jn.zn(e,t).next((function(e){return n.Yn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Jn.Wn(e,t).next((function(e){var t=e.documents;return e.Hn.forEach((function(e,r){n.Yn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Qb);function $b(e){return rv(e,"remoteDocumentGlobal")}function Zb(e){return rv(e,"remoteDocumentsV14")}function ek(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function tk(e,t){var n=t.documentKey.path.toArray();return[e,Uy(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function nk(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Gh(n[a],r[a]))return i;return(i=Gh(n.length,r.length))||((i=Gh(n[n.length-2],r[r.length-2]))||Gh(n[n.length-1],r[r.length-1]))}var rk=N((function e(t,n){C(this,e),this.overlayedDocument=t,this.mutatedFields=n})),ik=function(){function e(t,n,r,i){C(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return N(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Tg(r.mutation,e,hv.empty(),Kh.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,ng()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ng(),i=Xm();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Ym();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Xm();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,ng())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Km(),a=Zm(),o=Zm();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Ag)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Tg(o.mutation,t,o.mutation.getFieldMask(),Kh.now())):a.set(t.key,hv.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new rk(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Zm(),i=new sv((function(e,t){return e-t})),a=ng();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=A(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||hv.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||ng()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=$m();c.forEach((function(e){if(!a.has(e)){var n=Eg(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return hp.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Zh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Dm(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):hp.resolve(Xm()),s=-1,u=a;return o.next((function(t){return hp.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?hp.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,ng())})).next((function(e){return{batchId:s,changes:Jm(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Zh(t)).next((function(e){var t=Ym();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Ym();return this.indexManager.getCollectionParents(e,i).next((function(o){return hp.forEach(o,(function(o){var s=function(e,t){return new Tm(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Qv.newInvalidDocument(r)))}));var n=Ym();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Tg(a.mutation,i,hv.empty(),Kh.now()),zm(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),ak=function(){function e(t){C(this,e),this.serializer=t,this.Zn=new Map,this.Xn=new Map}return N(e,[{key:"getBundleMetadata",value:function(e,t){return hp.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:cy(n.createTime)}),hp.resolve()}},{key:"getNamedQuery",value:function(e,t){return hp.resolve(this.Xn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:Gy(e.bundledQuery),readTime:cy(e.readTime)}}(t)),hp.resolve()}}]),e}(),ok=function(){function e(){C(this,e),this.overlays=new sv(Zh.comparator),this.ts=new Map}return N(e,[{key:"getOverlay",value:function(e,t){return hp.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Xm();return hp.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.re(e,t,i)})),hp.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ts.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ts.delete(n)),hp.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Xm(),i=t.length+1,a=new Zh(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return hp.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new sv((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Xm(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Xm(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return hp.resolve(u)}},{key:"re",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ts.get(r.largestBatchId).delete(n.key);this.ts.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new zg(t,n));var a=this.ts.get(t);void 0===a&&(a=ng(),this.ts.set(t,a)),this.ts.set(t,a.add(n.key))}}]),e}(),sk=function(){function e(){C(this,e),this.es=new lv(uk.ns),this.ss=new lv(uk.rs)}return N(e,[{key:"isEmpty",value:function(){return this.es.isEmpty()}},{key:"addReference",value:function(e,t){var n=new uk(e,t);this.es=this.es.add(n),this.ss=this.ss.add(n)}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.us(new uk(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"hs",value:function(e){var t=this,n=new Zh(new Jh([])),r=new uk(n,e),i=new uk(n,e+1),a=[];return this.ss.forEachInRange([r,i],(function(e){t.us(e),a.push(e.key)})),a}},{key:"ls",value:function(){var e=this;this.es.forEach((function(t){return e.us(t)}))}},{key:"us",value:function(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}},{key:"fs",value:function(e){var t=new Zh(new Jh([])),n=new uk(t,e),r=new uk(t,e+1),i=ng();return this.ss.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new uk(e,0),n=this.es.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),uk=function(){function e(t,n){C(this,e),this.key=t,this.ds=n}return N(e,null,[{key:"ns",value:function(e,t){return Zh.comparator(e.key,t.key)||Gh(e.ds,t.ds)}},{key:"rs",value:function(e,t){return Gh(e.ds,t.ds)||Zh.comparator(e.key,t.key)}}]),e}(),ck=function(){function e(t,n){C(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new lv(uk.ns)}return N(e,[{key:"checkEmpty",value:function(e){return hp.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Fg(i,t,n,r);this.mutationQueue.push(a);var o,s=A(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this._s=this._s.add(new uk(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return hp.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return hp.resolve(this.gs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ys(n),i=r<0?0:r;return hp.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return hp.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return hp.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new uk(t,0),i=new uk(t,Number.POSITIVE_INFINITY),a=[];return this._s.forEachInRange([r,i],(function(e){var t=n.gs(e.ds);a.push(t)})),hp.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new lv(Gh);return t.forEach((function(e){var t=new uk(e,0),i=new uk(e,Number.POSITIVE_INFINITY);n._s.forEachInRange([t,i],(function(e){r=r.add(e.ds)}))})),hp.resolve(this.ps(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Zh.isDocumentKey(i)||(i=i.child(""));var a=new uk(new Zh(i),0),o=new lv(Gh);return this._s.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ds)),!0)}),a),hp.resolve(this.ps(o))}},{key:"ps",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.gs(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Rh(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();var r=this._s;return hp.forEach(t.mutations,(function(i){var a=new uk(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n._s=r}))}},{key:"En",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new uk(t,0),r=this._s.firstAfterOrEqual(n);return hp.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,hp.resolve()}},{key:"Is",value:function(e,t){return this.ys(e)}},{key:"ys",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"gs",value:function(e){var t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),lk=function(){function e(t){C(this,e),this.Ts=t,this.docs=new sv(Zh.comparator),this.size=0}return N(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ts(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return hp.resolve(n?n.document.mutableCopy():Qv.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Km();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Qv.newInvalidDocument(e))})),hp.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Km(),a=t.path,o=new Zh(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||up(op(l),n)<=0||(r.has(l.key)||zm(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return hp.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Ch()}},{key:"Es",value:function(e,t){return hp.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new fk(this)}},{key:"getSize",value:function(e){return hp.resolve(this.size)}}]),e}(),fk=function(e){P(n,e);var t=j(n);function n(e){var r;return C(this,n),(r=t.call(this)).Jn=e,r}return N(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Jn.addEntry(e,i)):t.Jn.removeEntry(r)})),hp.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Jn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Jn.getEntries(e,t)}}]),n}(Qb),dk=function(){function e(t){C(this,e),this.persistence=t,this.As=new Wm((function(e){return wm(e)}),xm),this.lastRemoteSnapshotVersion=Qh.min(),this.highestTargetId=0,this.Rs=0,this.vs=new sk,this.targetCount=0,this.bs=jb.vn()}return N(e,[{key:"forEachTarget",value:function(e,t){return this.As.forEach((function(e,n){return t(n)})),hp.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return hp.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return hp.resolve(this.Rs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),hp.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Rs&&(this.Rs=t),hp.resolve()}},{key:"Sn",value:function(e){this.As.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new jb(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Sn(t),this.targetCount+=1,hp.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Sn(t),hp.resolve()}},{key:"removeTargetData",value:function(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,hp.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.As.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.As.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),hp.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return hp.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.As.get(t)||null;return hp.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.vs.os(t,n),hp.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.vs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),hp.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.vs.hs(t),hp.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.vs.fs(t);return hp.resolve(n)}},{key:"containsKey",value:function(e,t){return hp.resolve(this.vs.containsKey(t))}}]),e}(),hk=function(){function e(t,n){var r=this;C(this,e),this.Ps={},this.overlays={},this.Vs=new Ep(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new dk(this),this.indexManager=new bb,this.remoteDocumentCache=new lk((function(e){return r.referenceDelegate.Cs(e)})),this.serializer=new My(n),this.xs=new ak(this.serializer)}return N(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ss=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ss}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new ok,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ps[e.toKey()];return n||(n=new ck(t,this.referenceDelegate),this.Ps[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ds}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.xs}},{key:"runTransaction",value:function(e,t,n){var r=this;Sh("MemoryPersistence","Starting transaction:",e);var i=new pk(this.Vs.next());return this.referenceDelegate.Ns(),n(i).next((function(e){return r.referenceDelegate.ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return hp.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),pk=function(e){P(n,e);var t=j(n);function n(e){var r;return C(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return N(n)}(lp),vk=function(){function e(t){C(this,e),this.persistence=t,this.$s=new sk,this.Ms=null}return N(e,[{key:"Bs",get:function(){if(this.Ms)return this.Ms;throw Ch()}},{key:"addReference",value:function(e,t,n){return this.$s.addReference(n,t),this.Bs.delete(n.toString()),hp.resolve()}},{key:"removeReference",value:function(e,t,n){return this.$s.removeReference(n,t),this.Bs.add(n.toString()),hp.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Bs.add(t.toString()),hp.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.$s.hs(t.targetId).forEach((function(e){return n.Bs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Bs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ns",value:function(){this.Ms=new Set}},{key:"ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hp.forEach(this.Bs,(function(r){var i=Zh.fromPath(r);return t.Ls(e,i).next((function(e){e||n.removeEntry(i,Qh.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ls(e,t).next((function(e){e?n.Bs.delete(t.toString()):n.Bs.add(t.toString())}))}},{key:"Cs",value:function(e){return 0}},{key:"Ls",value:function(e,t){var n=this;return hp.or([function(){return hp.resolve(n.$s.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Fs",value:function(t){return new e(t)}}]),e}(),mk=function(){function e(t){C(this,e),this.serializer=t}return N(e,[{key:"M",value:function(e,t,n,r){var i=this,a=new pp("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Dp,{unique:!0}),e.createObjectStore("documentMutations")}(e),gk(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=hp.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),gk(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Qh.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Dp,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return hp.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Us(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Ks(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Gs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Qs(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Qp});t.createIndex("collectionPathOverlayIndex",Yp,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Jp,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:jp});t.createIndex("documentKeyIndex",Up),t.createIndex("collectionGroupIndex",Fp)}(e)})).next((function(){return i.zs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.js(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Gp}).createIndex("sequenceNumberIndex",Wp,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Hp}).createIndex("documentKeyIndex",Kp,{unique:!1})}(e)}))),o}},{key:"Us",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Ab(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return hp.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return hp.forEach(r,(function(r){Rh(r.userId===n.userId);var i=zy(t.serializer,r);return Nb(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Ks",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Jh(n),o=function(e){return[0,Rp(e)]}(a);r.push(t.get(o).next((function(n){return n?hp.resolve():function(n){return t.put({targetId:0,path:Rp(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return hp.waitFor(r)}))}))}},{key:"Gs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:qp});var n=t.store("collectionParents"),r=new kb,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Rp(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new Jh(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=E(e,3),r=(n[0],n[1]),a=(n[2],Op(r));return i(a.popLast())}))}))}},{key:"Qs",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=By(r),a=qy(t.serializer,i);return n.put(a)}))}},{key:"zs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Zh(Jh.fromString(i.document.name).popFirst(5)):i.noDocument?Zh.fromSegments(i.noDocument.path):i.unknownDocument?Zh.fromSegments(i.unknownDocument.path):Ch()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return hp.waitFor(r)}))}},{key:"js",value:function(e,t){var n=this,r=t.store("mutations"),i=Jb(this.serializer),a=new hk(vk.Fs,this.serializer.se);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:ng();zy(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),hp.forEach(r,(function(e,r){var o=new kh(r),s=Xy.ie(n.serializer,o),u=a.getIndexManager(o),c=Ob.ie(o,n.serializer,u,a.referenceDelegate);return new ik(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new nv(t,Ep.ct),e).next()}))}))}}]),e}();function gk(e){e.createObjectStore("targetDocuments",{keyPath:zp}).createIndex("documentTargetsIndex",Bp,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Vp,{unique:!0}),e.createObjectStore("targetGlobal")}var yk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",bk=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(C(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ws=a,this.window=o,this.document=s,this.Hs=c,this.Js=l,this.Ys=f,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=function(e){return Promise.resolve()},!e.D())throw new Oh(Ah.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hb(this,i),this.si=n+"main",this.serializer=new My(u),this.ii=new vp(this.si,this.Ys,new mk(this.serializer)),this.Ds=new Ub(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Jb(this.serializer),this.xs=new Qy,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===l&&Eh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return N(e,[{key:"start",value:function(){var e=this;return this.oi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Oh(Ah.FAILED_PRECONDITION,yk);return e.ui(),e.ci(),e.ai(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ds.getHighestSequenceNumber(t)}))})).then((function(t){e.Vs=new Ep(t,e.Hs)})).then((function(){e.Ss=!0})).catch((function(t){return e.ii&&e.ii.close(),Promise.reject(t)}))}},{key:"hi",value:function(e){var t=this;return this.ni=function(){var n=ke(me().mark((function n(r){return me().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ii.B(function(){var t=ke(me().mark((function t(n){return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget(ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.oi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"oi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return wk(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.li(t).next((function(t){t||(e.isPrimary=!1,e.Ws.enqueueRetryable((function(){return e.ni(!1)})))}))})).next((function(){return e.fi(t)})).next((function(n){return e.isPrimary&&!n?e.di(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(yp(t))return Sh("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Sh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Ws.enqueueRetryable((function(){return e.ni(t)})),e.isPrimary=t}))}},{key:"li",value:function(e){var t=this;return kk(e).get("owner").next((function(e){return hp.resolve(t._i(e))}))}},{key:"mi",value:function(e){return wk(e).delete(this.clientId)}},{key:"gi",value:function(){var e=ke(me().mark((function e(){var t,n,r,i,a=this;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.yi(this.ei,18e5)){e.next=6;break}return this.ei=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=rv(e,"clientMetadata");return t.j().next((function(e){var n=a.pi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return hp.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ri){n=A(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ri.removeItem(this.Ii(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ai",value:function(){var e=this;this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.oi().then((function(){return e.gi()})).then((function(){return e.ai()}))}))}},{key:"_i",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"fi",value:function(e){var t=this;return this.Js?hp.resolve(!0):kk(e).get("owner").next((function(n){if(null!==n&&t.yi(n.leaseTimestampMs,5e3)&&!t.Ti(n.ownerId)){if(t._i(n)&&t.networkEnabled)return!0;if(!t._i(n)){if(!n.allowTabSynchronization)throw new Oh(Ah.FAILED_PRECONDITION,yk);return!1}}return!(!t.networkEnabled||!t.inForeground)||wk(e).j().next((function(e){return void 0===t.pi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Sh("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ke(me().mark((function e(){var t=this;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ss=!1,this.Ei(),this.ti&&(this.ti.cancel(),this.ti=null),this.Ai(),this.Ri(),e.next=7,this.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new nv(e,Ep.ct);return t.di(n).next((function(){return t.mi(n)}))}));case 7:this.ii.close(),this.vi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(e,t){var n=this;return e.filter((function(e){return n.yi(e.updateTimeMs,t)&&!n.Ti(e.clientId)}))}},{key:"bi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return wk(t).j().next((function(t){return e.pi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ss}},{key:"getMutationQueue",value:function(e,t){return Ob.ie(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Ds}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new xb(e,this.serializer.se.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Xy.ie(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.xs}},{key:"runTransaction",value:function(e,t,n){var r=this;Sh("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.Ys)?tv:14===i?ev:13===i?Zp:12===i?$p:11===i?Xp:void Ch();return this.ii.runTransaction(e,o,s,(function(i){return a=new nv(i,r.Vs?r.Vs.next():Ep.ct),"readwrite-primary"===t?r.li(a).next((function(e){return!!e||r.fi(a)})).next((function(t){if(!t)throw Eh("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Ws.enqueueRetryable((function(){return r.ni(!1)})),new Oh(Ah.FAILED_PRECONDITION,cp);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Pi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Pi",value:function(e){var t=this;return kk(e).get("owner").next((function(e){if(null!==e&&t.yi(e.leaseTimestampMs,5e3)&&!t.Ti(e.ownerId)&&!t._i(e)&&!(t.Js||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Oh(Ah.FAILED_PRECONDITION,yk)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return kk(e).put("owner",t)}},{key:"di",value:function(e){var t=this,n=kk(e);return n.get("owner").next((function(e){return t._i(e)?(Sh("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):hp.resolve()}))}},{key:"yi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Eh("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ui",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=function(){e.Ws.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.oi()}))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ai",value:function(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}},{key:"ci",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ei();var e=/(?:Version|Mobile)\/1[456]/;!$()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.Ws.enterRestrictedMode(!0),t.Ws.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"Ri",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ti",value:function(e){var t;try{var n=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return Sh("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Eh("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ei",value:function(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(Cc){Eh("Failed to set zombie client id.",Cc)}}},{key:"vi",value:function(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch(Cc){}}},{key:"Ii",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return vp.D()}}]),e}();function kk(e){return rv(e,"owner")}function wk(e){return rv(e,"clientMetadata")}function xk(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var _k=function(){function e(t,n,r,i){C(this,e),this.targetId=t,this.fromCache=n,this.Vi=r,this.Si=i}return N(e,null,[{key:"Di",value:function(t,n){var r,i=ng(),a=ng(),o=A(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Sk=function(){function e(){C(this,e),this.Ci=!1}return N(e,[{key:"initialize",value:function(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ni(e,t).next((function(a){return a||i.ki(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"Ni",value:function(e,t){var n=this;if(Nm(t))return hp.resolve(null);var r=Lm(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=jm(t,null,"F"),r=Lm(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=ng.apply(void 0,ye(i));return n.xi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.$i(t,i);return n.Mi(t,o,a,r.readTime)?n.Ni(e,jm(t,null,"F")):n.Fi(e,o,t,r)}))}))})))}))}},{key:"ki",value:function(e,t,n,r){var i=this;return Nm(t)||r.isEqual(Qh.min())?this.Oi(e,t):this.xi.getDocuments(e,n).next((function(a){var o=i.$i(t,a);return i.Mi(t,o,n,r)?i.Oi(e,t):(_h()<=Ee.DEBUG&&Sh("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vm(t)),i.Fi(e,o,t,ap(r,-1)))}))}},{key:"$i",value:function(e,t){var n=new lv(qm(e));return t.forEach((function(t,r){zm(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return _h()<=Ee.DEBUG&&Sh("QueryEngine","Using full collection scan to execute query:",Vm(t)),this.xi.getDocumentsMatchingQuery(e,t,sp.min())}},{key:"Fi",value:function(e,t,n,r){return this.xi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Ek=function(){function e(t,n,r,i){C(this,e),this.persistence=t,this.Bi=n,this.serializer=i,this.Li=new sv(Gh),this.qi=new Wm((function(e){return wm(e)}),xm),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(r)}return N(e,[{key:"Gi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ik(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Li)}))}}]),e}();function Ik(e,t,n,r){return new Ek(e,t,n,r)}function Tk(e,t){return Ck.apply(this,arguments)}function Ck(){return Ck=ke(me().mark((function e(t,n){var r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nh(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Gi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=ng(),u=A(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=A(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;s=s.add(d.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var h,p=A(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,g=A(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{Qi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Ck.apply(this,arguments)}function Rk(e,t){var n=Nh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ki.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=hp.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Rh(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=ng(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Nk(e){var t=Nh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ds.getLastRemoteSnapshotVersion(e)}))}function Ak(e,t){var n=Nh(e),r=t.snapshotVersion,i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Ds.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Ds.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(vv.EMPTY_BYTE_STRING,Qh.min()).withLastLimboFreeSnapshotVersion(Qh.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Ds.updateTargetData(e,c))}}));var s=Km(),u=ng();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Ok(e,a,t.documentUpdates).next((function(e){s=e.zi,u=e.ji}))),!r.isEqual(Qh.min())){var c=n.Ds.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ds.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return hp.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Li=i,e}))}function Ok(e,t,n){var r=ng(),i=ng();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Km();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Qh.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Sh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{zi:r,ji:i}}))}function Dk(e,t){var n=Nh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Pk(e,t){var n=Nh(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ds.getTargetData(e,t).next((function(i){return i?(r=i,hp.resolve(r)):n.Ds.allocateTargetId(e).next((function(i){return r=new Ly(t,i,0,e.currentSequenceNumber),n.Ds.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Li.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Li=n.Li.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function Lk(e,t,n){return Mk.apply(this,arguments)}function Mk(){return Mk=ke(me().mark((function e(t,n,r){var i,a,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Nh(t),a=i.Li.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),yp(e.t1)){e.next=12;break}throw e.t1;case 12:Sh("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Li=i.Li.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Mk.apply(this,arguments)}function jk(e,t,n){var r=Nh(e),i=Qh.min(),a=ng();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Nh(e),i=r.qi.get(n);return void 0!==i?hp.resolve(r.Li.get(i)):r.Ds.getTargetData(t,n)}(r,e,Lm(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Bi.getDocumentsMatchingQuery(e,t,n?i:Qh.min(),n?a:ng())})).next((function(e){return Vk(r,Bm(t),e),{documents:e,Wi:a}}))}))}function Uk(e,t){var n=Nh(e),r=Nh(n.Ds),i=n.Li.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function Fk(e,t){var n=Nh(e),r=n.Ui.get(t)||Qh.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ki.getAllFromCollectionGroup(e,t,ap(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Vk(n,t,e),e}))}function Vk(e,t,n){var r=e.Ui.get(t)||Qh.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ui.set(t,r)}function zk(e,t,n,r){return Bk.apply(this,arguments)}function Bk(){return Bk=ke(me().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,d,h,p;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Nh(t),o=ng(),s=Km(),u=A(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Hi(l.metadata.name),l.document&&(o=o.add(f)),(d=n.Ji(l)).setReadTime(n.Yi(l.metadata.readTime)),s=s.insert(f,d)}catch(v){u.e(v)}finally{u.f()}return h=a.Ki.newChangeBuffer({trackRemovals:!0}),e.next=7,Pk(a,function(e){return Lm(Rm(Jh.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Ok(e,h,s).next((function(t){return h.apply(e),t})).next((function(t){return a.Ds.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Ds.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.zi,t.ji)})).next((function(){return t.zi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Bk.apply(this,arguments)}function qk(e,t){return Gk.apply(this,arguments)}function Gk(){return Gk=ke(me().mark((function e(t,n){var r,i,a,o=arguments;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:ng(),e.next=3,Pk(t,Lm(Gy(n.bundledQuery)));case 3:return i=e.sent,a=Nh(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=cy(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.xs.saveNamedQuery(e,n);var o=i.withResumeToken(vv.EMPTY_BYTE_STRING,t);return a.Li=a.Li.insert(o.targetId,o),a.Ds.updateTargetData(e,o).next((function(){return a.Ds.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Ds.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.xs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Gk.apply(this,arguments)}function Wk(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Hk(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Kk(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Qk=function(){function e(t,n,r,i){C(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return N(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Oh(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Eh("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Yk=function(){function e(t,n,r){C(this,e),this.targetId=t,this.state=n,this.error=r}return N(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Oh(i.error.code,i.error.message))),a?new e(t,i.state,r):(Eh("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Jk=function(){function e(t,n){C(this,e),this.clientId=t,this.activeTargetIds=n}return N(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=ig(),o=0;i&&o<r.activeTargetIds.length;++o)i=Cp(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Eh("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Xk=function(){function e(t,n){C(this,e),this.clientId=t,this.onlineState=n}return N(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Eh("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),$k=function(){function e(){C(this,e),this.activeTargetIds=ig()}return N(e,[{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Zk=function(){function e(t,n,r,i,a){C(this,e),this.window=t,this.Ws=n,this.persistenceKey=r,this.nr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new sv(Gh),this.started=!1,this.ur=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.cr=Wk(this.persistenceKey,this.nr),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.rr=this.rr.insert(this.nr,new $k),this.hr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.lr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.dr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this._r=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}return N(e,[{key:"start",value:function(){var e=ke(me().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,d=this;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.bi();case 2:t=e.sent,n=A(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.nr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Wk(this.persistenceKey,i)))&&(o=Jk.Zi(i,a))&&(this.rr=this.rr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.mr(),(s=this.storage.getItem(this.wr))&&(u=this.gr(s))&&this.yr(u),c=A(this.ur);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ir(f)}catch(h){c.e(h)}finally{c.f()}this.ur=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.pr(this.rr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.rr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ir(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ir(e,t,n),this.Tr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Kk(this.persistenceKey,e));if(n){var r=Yk.Zi(e,n);r&&(t=r.state)}}return this.Er.tr(e),this.mr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Er.er(e),this.mr()}},{key:"isLocalQueryTarget",value:function(e){return this.Er.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Kk(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Ar(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Tr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Rr(e)}},{key:"notifyBundleLoaded",value:function(e){this.vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Sh("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Sh("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Sh("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ir",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Sh("SharedClientState","EVENT",n.key,n.newValue),n.key===this.cr)return void Eh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable(ke(me().mark((function e(){var r,i,a,o,s,u,c;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.hr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.br(n.key),e.abrupt("return",t.Pr(r,null));case 6:if(!(i=t.Vr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Pr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.lr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Sr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Dr(a));case 16:e.next=41;break;case 18:if(!t.dr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Cr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Nr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.gr(n.newValue))){e.next=30;break}return e.abrupt("return",t.yr(s));case 30:e.next=41;break;case 32:if(n.key!==t.ar){e.next=37;break}u=function(e){var t=Ep.ct;if(null!=e)try{var n=JSON.parse(e);Rh("number"==typeof n),t=n}catch(e){Eh("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==Ep.ct&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t._r){e.next=41;break}return c=t.kr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Or(e)})));case 41:e.next=44;break;case 43:t.ur.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Er",get:function(){return this.rr.get(this.nr)}},{key:"mr",value:function(){this.setItem(this.cr,this.Er.Xi())}},{key:"Ir",value:function(e,t,n){var r=new Qk(this.currentUser,e,t,n),i=Hk(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Xi())}},{key:"Tr",value:function(e){var t=Hk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Rr",value:function(e){var t={clientId:this.nr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Ar",value:function(e,t,n){var r=Kk(this.persistenceKey,e),i=new Yk(e,t,n);this.setItem(r,i.Xi())}},{key:"vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}},{key:"br",value:function(e){var t=this.hr.exec(e);return t?t[1]:null}},{key:"Vr",value:function(e,t){var n=this.br(e);return Jk.Zi(n,t)}},{key:"Sr",value:function(e,t){var n=this.lr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Qk.Zi(new kh(i),r,t)}},{key:"Cr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]);return Yk.Zi(r,t)}},{key:"gr",value:function(e){return Xk.Zi(e)}},{key:"kr",value:function(e){return JSON.parse(e)}},{key:"Dr",value:function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:Sh("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Nr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"Pr",value:function(e,t){var n=this,r=t?this.rr.insert(e,t):this.rr.remove(e),i=this.pr(this.rr),a=this.pr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Fr(o,s).then((function(){n.rr=r}))}},{key:"yr",value:function(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"pr",value:function(e){var t=ig();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),ew=function(){function e(){C(this,e),this.Br=new $k,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return N(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Br.tr(e),this.Lr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Lr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Br.er(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Lr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Br.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Br=new $k,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),tw=function(){function e(){C(this,e)}return N(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),nw=function(){function e(){var t=this;C(this,e),this.Ur=function(){return t.Kr()},this.Gr=function(){return t.Qr()},this.zr=[],this.jr()}return N(e,[{key:"qr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}},{key:"Kr",value:function(){Sh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=A(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Qr",value:function(){Sh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=A(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),rw=null;function iw(){return null===rw?rw=268435456+Math.round(2147483648*Math.random()):rw++,"0x"+rw.toString(16)}var aw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},ow=function(){function e(t){C(this,e),this.Wr=t.Wr,this.Hr=t.Hr}return N(e,[{key:"Jr",value:function(e){this.Yr=e}},{key:"Zr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.eo=e}},{key:"close",value:function(){this.Hr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"no",value:function(){this.Yr()}},{key:"so",value:function(e){this.Xr(e)}},{key:"io",value:function(e){this.eo(e)}}]),e}(),sw="WebChannelConnection",uw=function(e){P(n,e);var t=j(n);function n(e){var r;return C(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return N(n,[{key:"lo",value:function(e,t,n,r){var i=iw();return new Promise((function(a,o){var s=new yh;s.setWithCredentials(!0),s.listenOnce(hh.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case dh.NO_ERROR:var t=s.getResponseJson();Sh(sw,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case dh.TIMEOUT:Sh(sw,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Oh(Ah.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:var n=s.getStatus();if(Sh(sw,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ah).indexOf(t)>=0?t:Ah.UNKNOWN}(u.status);o(new Oh(c,u.message))}else o(new Oh(Ah.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Oh(Ah.UNAVAILABLE,"Connection failed."));break;default:Ch()}}finally{Sh(sw,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);Sh(sw,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=iw(),i=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=lh(),o=fh(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new mh({})),this.ho(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var u=i.join("");Sh(sw,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),s);var c=a.createWebChannel(u,s),l=!1,f=!1,d=new ow({Wr:function(t){f?Sh(sw,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(Sh(sw,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),Sh(sw,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Hr:function(){return c.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(c,gh.EventType.OPEN,(function(){f||Sh(sw,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),h(c,gh.EventType.CLOSE,(function(){f||(f=!0,Sh(sw,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.so())})),h(c,gh.EventType.ERROR,(function(t){f||(f=!0,Ih(sw,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.so(new Oh(Ah.UNAVAILABLE,"The operation could not be completed")))})),h(c,gh.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];Rh(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Sh(sw,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=Lg[e];if(void 0!==t)return Gg(t)}(s),l=o.message;void 0===u&&(u=Ah.INTERNAL,l="Unknown error status: "+s+" with message "+o.message),f=!0,d.so(new Oh(u,l)),c.close()}else Sh(sw,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.io(i)}})),h(o,ph.STAT_EVENT,(function(t){t.stat===vh.PROXY?Sh(sw,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===vh.NOPROXY&&Sh(sw,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.no()}),0),d}}]),n}(function(){function e(t){C(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.ro=n+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return N(e,[{key:"uo",get:function(){return!1}},{key:"co",value:function(e,t,n,r,i){var a=iw(),o=this.ao(e,t);Sh("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.ho(s,r,i),this.lo(e,o,s,n).then((function(t){return Sh("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Ih("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+wh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=aw[e];return"".concat(this.ro,"/v1/").concat(t,":").concat(n)}}]),e}());function cw(){return"undefined"!=typeof window?window:null}function lw(){return"undefined"!=typeof document?document:null}function fw(e){return new ay(e,!0)}var dw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;C(this,e),this.Ws=t,this.timerId=n,this._o=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return N(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Sh("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}},{key:"vo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),hw=function(){function e(t,n,r,i,a,o,s,u){C(this,e),this.Ws=t,this.bo=r,this.Po=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new dw(t,n)}return N(e,[{key:"xo",value:function(){return 1===this.state||5===this.state||this.No()}},{key:"No",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.ko()}},{key:"stop",value:function(){var e=ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.xo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.Co.reset()}},{key:"$o",value:function(){var e=this;this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,(function(){return e.Mo()})))}},{key:"Fo",value:function(e){this.Bo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.No()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"close",value:function(){var e=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,4!==t?this.Co.reset():n&&n.code===Ah.RESOURCE_EXHAUSTED?(Eh(n.toString()),Eh("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===Ah.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=E(t,2),i=r[0],a=r[1];e.Vo===n&&e.Ko(i,a)}),(function(n){t((function(){var t=new Oh(Ah.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Go(t)}))}))}},{key:"Ko",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr((function(){r((function(){return n.state=2,n.Do=n.Ws.enqueueAfterDelay(n.Po,1e4,(function(){return n.No()&&(n.state=3),Promise.resolve()})),n.listener.Jr()}))})),this.stream.Zr((function(e){r((function(){return n.Go(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"ko",value:function(){var e=this;this.state=5,this.Co.Ao(ke(me().mark((function t(){return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Go",value:function(e){return Sh("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Ws.enqueueAndForget((function(){return t.Vo===e?n():(Sh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),pw=function(e){P(n,e);var t=j(n);function n(e,r,i,a,o,s){var u;return C(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return N(n,[{key:"Qo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Co.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ch()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Rh(void 0===t||"string"==typeof t),vv.fromBase64String(t||"")):(Rh(void 0===t||t instanceof Uint8Array),vv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Ah.UNKNOWN:Gg(e.code);return new Oh(t,e.message||"")}(o);n=new Xg(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=hy(e,u.document.name),l=cy(u.document.updateTime),f=u.document.createTime?cy(u.document.createTime):Qh.min(),d=new Hv({mapValue:{fields:u.document.fields}}),h=Qv.newFoundDocument(c,l,f,d),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Yg(p,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=hy(e,m.document),y=m.readTime?cy(m.readTime):Qh.min(),b=Qv.newNoDocument(g,y),k=m.removedTargetIds||[];n=new Yg([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=hy(e,w.document),_=w.removedTargetIds||[];n=new Yg([],_,x,null)}else{if(!("filter"in t))return Ch();t.filter;var S=t.filter;S.targetId;var E=S.count||0,I=new Bg(E),T=S.targetId;n=new Jg(T,I)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Qh.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Qh.min():t.readTime?cy(t.readTime):Qh.min()}(e);return this.listener.zo(t,n)}},{key:"jo",value:function(e){var t={};t.database=my(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=_m(r)?{documents:_y(e,r)}:{query:Sy(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=sy(e,t.resumeToken):t.snapshotVersion.compareTo(Qh.min())>0&&(n.readTime=oy(e,t.snapshotVersion.toTimestamp())),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ch()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=my(this.serializer),t.removeTarget=e,this.Fo(t)}}]),n}(hw),vw=function(e){P(n,e);var t=j(n);function n(e,r,i,a,o,s){var u;return C(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.Ho=!1,u}return N(n,[{key:"Jo",get:function(){return this.Ho}},{key:"start",value:function(){this.Ho=!1,this.lastStreamToken=void 0,Yt(L(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Ho&&this.Yo([])}},{key:"Qo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Rh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();var t=function(e,t){return e&&e.length>0?(Rh(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?cy(e.updateTime):cy(t);return n.isEqual(Qh.min())&&(n=cy(t)),new wg(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=cy(e.commitTime);return this.listener.Zo(n,t)}return Rh(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}},{key:"tu",value:function(){var e={};e.database=my(this.serializer),this.Fo(e)}},{key:"Yo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return wy(t.serializer,e)}))};this.Fo(n)}}]),n}(hw),mw=function(e){P(n,e);var t=j(n);function n(e,r,i,a){var o;return C(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.eu=!1,o}return N(n,[{key:"nu",value:function(){if(this.eu)throw new Oh(Ah.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=E(i,2),o=a[0],s=a[1];return r.connection.co(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ah.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Oh(Ah.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=E(a,2),s=o[0],u=o[1];return i.connection.fo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ah.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Oh(Ah.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.eu=!0}}]),n}(function(){return N((function e(){C(this,e)}))}());var gw=function(){function e(t,n){C(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}return N(e,[{key:"ou",value:function(){var e=this;0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.iu=null,e.cu("Backend didn't respond within 10 seconds."),e.uu("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.uu("Offline")))}},{key:"set",value:function(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}},{key:"uu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"cu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ru?(Eh(t),this.ru=!1):Sh("OnlineStateTracker",t)}},{key:"hu",value:function(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}]),e}(),yw=N((function e(t,n,r,i,a){var o=this;C(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=a,this._u.qr((function(e){r.enqueueAndForget(ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Rw(o),!e.t0){e.next=5;break}return Sh("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ke(me().mark((function e(t){var n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Nh(t)).du.add(4),e.next=4,ww(n);case 4:return n.mu.set("Unknown"),n.du.delete(4),e.next=8,bw(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.mu=new gw(r,i)}));function bw(e){return kw.apply(this,arguments)}function kw(){return kw=ke(me().mark((function e(t){var n,r,i;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Rw(t)){e.next=18;break}n=A(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),kw.apply(this,arguments)}function ww(e){return xw.apply(this,arguments)}function xw(){return xw=ke(me().mark((function e(t){var n,r,i;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=A(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),xw.apply(this,arguments)}function _w(e,t){var n=Nh(e);n.fu.has(t.targetId)||(n.fu.set(t.targetId,t),Cw(n)?Tw(n):ix(n).No()&&Ew(n,t))}function Sw(e,t){var n=Nh(e),r=ix(n);n.fu.delete(t),r.No()&&Iw(n,t),0===n.fu.size&&(r.No()?r.$o():Rw(n)&&n.mu.set("Unknown"))}function Ew(e,t){e.gu.Ot(t.targetId),ix(e).jo(t)}function Iw(e,t){e.gu.Ot(t),ix(e).Wo(t)}function Tw(e){e.gu=new Zg({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.fu.get(t)||null}}),ix(e).start(),e.mu.ou()}function Cw(e){return Rw(e)&&!ix(e).xo()&&e.fu.size>0}function Rw(e){return 0===Nh(e).du.size}function Nw(e){e.gu=void 0}function Aw(e){return Ow.apply(this,arguments)}function Ow(){return Ow=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.fu.forEach((function(e,n){Ew(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Ow.apply(this,arguments)}function Dw(e,t){return Pw.apply(this,arguments)}function Pw(){return Pw=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Nw(t),Cw(t)?(t.mu.au(n),Tw(t)):t.mu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Pw.apply(this,arguments)}function Lw(e,t,n){return Mw.apply(this,arguments)}function Mw(){return Mw=ke(me().mark((function e(t,n,r){var i;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mu.set("Online"),!(n instanceof Xg&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ke(me().mark((function e(t,n){var r,i,a,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=A(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.fu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.fu.delete(o),t.gu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Sh("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,jw(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Yg?t.gu.Kt(n):n instanceof Jg?t.gu.Jt(n):t.gu.zt(n),r.isEqual(Qh.min())){e.next=29;break}return e.prev=14,e.next=17,Nk(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.gu.Xt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.fu.get(r);i&&e.fu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.fu.get(t);if(n){e.fu.set(t,n.withResumeToken(vv.EMPTY_BYTE_STRING,n.snapshotVersion)),Iw(e,t);var r=new Ly(n.target,t,1,n.sequenceNumber);Ew(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Sh("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,jw(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Mw.apply(this,arguments)}function jw(e,t,n){return Uw.apply(this,arguments)}function Uw(){return Uw=ke(me().mark((function e(t,n,r){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yp(n)){e.next=2;break}throw n;case 2:return t.du.add(1),e.next=5,ww(t);case 5:t.mu.set("Offline"),r||(r=function(){return Nk(t.localStore)}),t.asyncQueue.enqueueRetryable(ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sh("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.du.delete(1),e.next=6,bw(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Uw.apply(this,arguments)}function Fw(e,t){return t().catch((function(n){return jw(e,n,t)}))}function Vw(e){return zw.apply(this,arguments)}function zw(){return zw=ke(me().mark((function e(t){var n,r,i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Nh(t),r=ax(n),i=n.lu.length>0?n.lu[n.lu.length-1].batchId:-1;case 2:if(!Bw(n)){e.next=19;break}return e.prev=3,e.next=6,Dk(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.lu.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,qw(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,jw(n,e.t0);case 17:e.next=2;break;case 19:Gw(n)&&Ww(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),zw.apply(this,arguments)}function Bw(e){return Rw(e)&&e.lu.length<10}function qw(e,t){e.lu.push(t);var n=ax(e);n.No()&&n.Jo&&n.Yo(t.mutations)}function Gw(e){return Rw(e)&&!ax(e).xo()&&e.lu.length>0}function Ww(e){ax(e).start()}function Hw(e){return Kw.apply(this,arguments)}function Kw(){return Kw=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ax(t).tu();case 1:case"end":return e.stop()}}),e)}))),Kw.apply(this,arguments)}function Qw(e){return Yw.apply(this,arguments)}function Yw(){return Yw=ke(me().mark((function e(t){var n,r,i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ax(t),r=A(t.lu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Yo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Yw.apply(this,arguments)}function Jw(e,t,n){return Xw.apply(this,arguments)}function Xw(){return Xw=ke(me().mark((function e(t,n,r){var i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.lu.shift(),a=Vg.from(i,n,r),e.next=3,Fw(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Vw(t);case 5:case"end":return e.stop()}}),e)}))),Xw.apply(this,arguments)}function $w(e,t){return Zw.apply(this,arguments)}function Zw(){return Zw=ke(me().mark((function e(t,n){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&ax(t).Jo,!e.t0){e.next=4;break}return e.next=4,function(){var e=ke(me().mark((function e(t,n){var r,i;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!qg(i=n.code)||i===Ah.ABORTED){e.next=7;break}return r=t.lu.shift(),ax(t).Oo(),e.next=5,Fw(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Vw(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Gw(t)&&Ww(t);case 5:case"end":return e.stop()}}),e)}))),Zw.apply(this,arguments)}function ex(e,t){return tx.apply(this,arguments)}function tx(){return tx=ke(me().mark((function e(t,n){var r,i;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Nh(t)).asyncQueue.verifyOperationInProgress(),Sh("RemoteStore","RemoteStore received new credentials"),i=Rw(r),r.du.add(3),e.next=6,ww(r);case 6:return i&&r.mu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.du.delete(3),e.next=12,bw(r);case 12:case"end":return e.stop()}}),e)}))),tx.apply(this,arguments)}function nx(e,t){return rx.apply(this,arguments)}function rx(){return rx=ke(me().mark((function e(t,n){var r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nh(t),!n){e.next=7;break}return r.du.delete(2),e.next=5,bw(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.du.add(2),e.next=12,ww(r);case 12:r.mu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),rx.apply(this,arguments)}function ix(e){return e.yu||(e.yu=function(e,t,n){var r=Nh(e);return r.nu(),new pw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:Aw.bind(null,e),Zr:Dw.bind(null,e),zo:Lw.bind(null,e)}),e.wu.push(function(){var t=ke(me().mark((function t(n){return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.yu.Oo(),Cw(e)?Tw(e):e.mu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.yu.stop();case 6:Nw(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}function ax(e){return e.pu||(e.pu=function(e,t,n){var r=Nh(e);return r.nu(),new vw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:Hw.bind(null,e),Zr:$w.bind(null,e),Xo:Qw.bind(null,e),Zo:Jw.bind(null,e)}),e.wu.push(function(){var t=ke(me().mark((function t(n){return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.pu.Oo(),t.next=4,Vw(e);case 4:t.next=9;break;case 6:return t.next=8,e.pu.stop();case 8:e.lu.length>0&&(Sh("RemoteStore","Stopping write stream with ".concat(e.lu.length," pending writes")),e.lu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}var ox=function(){function e(t,n,r,i,a){C(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Dh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return N(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oh(Ah.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function sx(e,t){if(Eh("AsyncQueue","".concat(t,": ").concat(e)),yp(e))return new Oh(Ah.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var ux=function(){function e(t){C(this,e),this.comparator=t?function(e,n){return t(e,n)||Zh.comparator(e.key,n.key)}:function(e,t){return Zh.comparator(e.key,t.key)},this.keyedMap=Ym(),this.sortedSet=new sv(this.comparator)}return N(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),cx=function(){function e(){C(this,e),this.Iu=new sv(Zh.comparator)}return N(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Iu.get(t);n?0!==e.type&&3===n.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==n.type?this.Iu=this.Iu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Iu=this.Iu.remove(t):1===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):Ch():this.Iu=this.Iu.insert(t,e)}},{key:"Tu",value:function(){var e=[];return this.Iu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),lx=function(){function e(t,n,r,i,a,o,s,u,c){C(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return N(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,ux.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),fx=N((function e(){C(this,e),this.Eu=void 0,this.listeners=[]})),dx=N((function e(){C(this,e),this.queries=new Wm((function(e){return Fm(e)}),Um),this.onlineState="Unknown",this.Au=new Set}));function hx(e,t){return px.apply(this,arguments)}function px(){return px=ke(me().mark((function e(t,n){var r,i,a,o,s;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nh(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new fx),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Eu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=sx(e.t0,"Initialization of query '".concat(Vm(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Ru(r.onlineState),o.Eu&&n.vu(o.Eu)&&bx(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),px.apply(this,arguments)}function vx(e,t){return mx.apply(this,arguments)}function mx(){return mx=ke(me().mark((function e(t,n){var r,i,a,o,s;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nh(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),mx.apply(this,arguments)}function gx(e,t){var n,r=Nh(e),i=!1,a=A(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=A(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Eu=o}}}catch(f){a.e(f)}finally{a.f()}i&&bx(r)}function yx(e,t,n){var r=Nh(e),i=r.queries.get(t);if(i){var a,o=A(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function bx(e){e.Au.forEach((function(e){e.next()}))}var kx=function(){function e(t,n,r){C(this,e),this.query=t,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return N(e,[{key:"vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=A(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new lx(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),a=!0):this.Du(e,this.onlineState)&&(this.Cu(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.bu.error(e)}},{key:"Ru",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}},{key:"Du",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.xu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Su",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Cu",value:function(e){e=lx.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}]),e}(),wx=function(){function e(t,n){C(this,e),this.Nu=t,this.byteLength=n}return N(e,[{key:"ku",value:function(){return"metadata"in this.Nu}}]),e}(),xx=function(){function e(t){C(this,e),this.serializer=t}return N(e,[{key:"Hi",value:function(e){return hy(this.serializer,e)}},{key:"Ji",value:function(e){return e.metadata.exists?by(this.serializer,e.document,!1):Qv.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}},{key:"Yi",value:function(e){return cy(e)}}]),e}(),_x=function(){function e(t,n,r){C(this,e),this.Ou=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Sx(t)}return N(e,[{key:"$u",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;var n=Jh.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Mu",value:function(e){var t,n=new Map,r=new xx(this.serializer),i=A(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Hi(a.metadata.name),u=A(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||ng()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ke(me().mark((function e(){var t,n,r,i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zk(this.localStore,new xx(this.serializer),this.documents,this.Ou.id);case 2:t=e.sent,n=this.Mu(this.documents),r=A(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,qk(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Fu:this.collectionGroups,Bu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Sx(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Ex=N((function e(t){C(this,e),this.key=t})),Ix=N((function e(t){C(this,e),this.key=t})),Tx=function(){function e(t,n){C(this,e),this.query=t,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=ng(),this.mutatedKeys=ng(),this.Ku=qm(t),this.Gu=new ux(this.Ku)}return N(e,[{key:"Qu",get:function(){return this.Lu}},{key:"zu",value:function(e,t){var n=this,r=t?t.ju:new cx,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=zm(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.Wu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ku(f,u)>0||c&&n.Ku(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,ju:r,Mi:s,mutatedKeys:a}}},{key:"Wu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.ju.Tu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ch()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],s=0===this.Uu.size&&this.current?1:0,u=s!==this.qu;return this.qu=s,0!==a.length||u?{snapshot:new lx(this.query,e.Gu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}},{key:"Ru",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new cx,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}},{key:"Zu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.Uu;this.Uu=ng(),this.Gu.forEach((function(t){e.Zu(t.key)&&(e.Uu=e.Uu.add(t.key))}));var n=[];return t.forEach((function(t){e.Uu.has(t)||n.push(new Ix(t))})),this.Uu.forEach((function(e){t.has(e)||n.push(new Ex(e))})),n}},{key:"Xu",value:function(e){this.Lu=e.Wi,this.Uu=ng();var t=this.zu(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return lx.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),Cx=N((function e(t,n,r){C(this,e),this.query=t,this.targetId=n,this.view=r})),Rx=N((function e(t){C(this,e),this.key=t,this.ec=!1})),Nx=function(){function e(t,n,r,i,a,o){C(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Wm((function(e){return Fm(e)}),Um),this.ic=new Map,this.rc=new Set,this.oc=new sv(Zh.comparator),this.uc=new Map,this.cc=new sk,this.ac={},this.hc=new Map,this.lc=jb.bn(),this.onlineState="Unknown",this.fc=void 0}return N(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function Ax(e,t){return Ox.apply(this,arguments)}function Ox(){return Ox=ke(me().mark((function e(t,n){var r,i,a,o,s,u;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=S_(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,Pk(r.localStore,Lm(n));case 8:return s=e.sent,r.isPrimaryClient&&_w(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,Dx(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Ox.apply(this,arguments)}function Dx(e,t,n,r,i){return Px.apply(this,arguments)}function Px(){return Px=ke(me().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=ke(me().mark((function e(t,n,r,i){var a,o,s;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.zu(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,jk(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.zu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(e_(t,n.targetId,s.Yu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,jk(t.localStore,n,!0);case 3:return o=e.sent,s=new Tx(n,o.Wi),u=s.zu(o.documents),c=Qg.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),e_(t,r,l.Yu),f=new Cx(n,r,s),e.abrupt("return",(t.sc.set(n,f),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Px.apply(this,arguments)}function Lx(e,t){return Mx.apply(this,arguments)}function Mx(){return Mx=ke(me().mark((function e(t,n){var r,i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nh(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!Um(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Lk(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Sw(r.remoteStore,i.targetId),$x(r,i.targetId)})).catch(fp);case 9:e.next=14;break;case 11:return $x(r,i.targetId),e.next=14,Lk(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Mx.apply(this,arguments)}function jx(e,t,n){return Ux.apply(this,arguments)}function Ux(){return Ux=ke(me().mark((function e(t,n,r){var i,a,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=E_(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Nh(e),a=Kh.now(),o=t.reduce((function(e,t){return e.add(t.key)}),ng());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Km(),u=ng();return i.Ki.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=A(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Cg(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new Ag(c.key,l,Kv(l.value.mapValue),xg.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Jm(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new sv(Gh)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,r_(i,a.changes);case 9:return e.next=11,Vw(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=sx(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Ux.apply(this,arguments)}function Fx(e,t){return Vx.apply(this,arguments)}function Vx(){return Vx=ke(me().mark((function e(t,n){var r,i;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nh(t),e.prev=1,e.next=4,Ak(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(Rh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?Rh(n.ec):e.removedDocuments.size>0&&(Rh(n.ec),n.ec=!1))})),e.next=8,r_(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,fp(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Vx.apply(this,arguments)}function zx(e,t,n){var r=Nh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.Ru(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Nh(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=A(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Ru(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&bx(n)}(r.eventManager,t),i.length&&r.nc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Bx(e,t,n){return qx.apply(this,arguments)}function qx(){return qx=ke(me().mark((function e(t,n,r){var i,a,o,s,u,c;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Nh(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new sv(Zh.comparator)).insert(o,Qv.newNoDocument(o,Qh.min())),u=ng().add(o),c=new Kg(Qh.min(),new Map,new lv(Gh),s,u),e.next=9,Fx(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),n_(i),e.next=16;break;case 14:return e.next=16,Lk(i.localStore,n,!1).then((function(){return $x(i,n,r)})).catch(fp);case 16:case"end":return e.stop()}}),e)}))),qx.apply(this,arguments)}function Gx(e,t){return Wx.apply(this,arguments)}function Wx(){return Wx=ke(me().mark((function e(t,n){var r,i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nh(t),i=n.batch.batchId,e.prev=1,e.next=4,Rk(r.localStore,n);case 4:return a=e.sent,Xx(r,i,null),Jx(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,r_(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,fp(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Wx.apply(this,arguments)}function Hx(e,t,n){return Kx.apply(this,arguments)}function Kx(){return Kx=ke(me().mark((function e(t,n,r){var i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nh(t),e.prev=1,e.next=4,function(e,t){var n=Nh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Rh(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Xx(i,n,r),Jx(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,r_(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,fp(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Kx.apply(this,arguments)}function Qx(e,t){return Yx.apply(this,arguments)}function Yx(){return Yx=ke(me().mark((function e(t,n){var r,i,a,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rw((r=Nh(t)).remoteStore)||Sh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Nh(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.hc.get(i)||[]).push(n),r.hc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=sx(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Yx.apply(this,arguments)}function Jx(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function Xx(e,t,n){var r=Nh(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function $x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=A(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.hs(t).forEach((function(t){e.cc.containsKey(t)||Zx(e,t)}))}function Zx(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(Sw(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),n_(e))}function e_(e,t,n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Ex?(e.cc.addReference(a.key,t),t_(e,a)):a instanceof Ix?(Sh("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||Zx(e,a.key)):Ch()}}catch(o){i.e(o)}finally{i.f()}}function t_(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(Sh("SyncEngine","New document in limbo: "+n),e.rc.add(r),n_(e))}function n_(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new Zh(Jh.fromString(t)),r=e.lc.next();e.uc.set(r,new Rx(n)),e.oc=e.oc.insert(n,r),_w(e.remoteStore,new Ly(Lm(Rm(n.path)),r,2,Ep.ct))}}function r_(e,t,n){return i_.apply(this,arguments)}function i_(){return i_=ke(me().mark((function e(t,n,r){var i,a,o,s;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Nh(t),a=[],o=[],s=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){s.push(i.dc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=_k.Di(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.nc.zo(a),e.next=9,function(){var e=ke(me().mark((function e(t,n){var r,i,a,o,s,u,c,l;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nh(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return hp.forEach(n,(function(t){return hp.forEach(t.Vi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return hp.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),yp(e.t0)){e.next=10;break}throw e.t0;case 10:Sh("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=A(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Li.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Li=r.Li.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),i_.apply(this,arguments)}function a_(e,t){return o_.apply(this,arguments)}function o_(){return o_=ke(me().mark((function e(t,n){var r,i;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Nh(t)).currentUser.isEqual(n)){e.next=11;break}return Sh("SyncEngine","User change. New user:",n.toKey()),e.next=5,Tk(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new Oh(Ah.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,r_(r,i.Qi);case 11:case"end":return e.stop()}}),e)}))),o_.apply(this,arguments)}function s_(e,t){var n=Nh(e),r=n.uc.get(t);if(r&&r.ec)return ng().add(r.key);var i=ng(),a=n.ic.get(t);if(!a)return i;var o,s=A(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.sc.get(u);i=i.unionWith(c.view.Qu)}}catch(l){s.e(l)}finally{s.f()}return i}function u_(e,t){return c_.apply(this,arguments)}function c_(){return c_=ke(me().mark((function e(t,n){var r,i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nh(t),e.next=3,jk(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Xu(i),e.abrupt("return",(r.isPrimaryClient&&e_(r,n.targetId,a.Yu),a));case 6:case"end":return e.stop()}}),e)}))),c_.apply(this,arguments)}function l_(e,t){return f_.apply(this,arguments)}function f_(){return f_=ke(me().mark((function e(t,n){var r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nh(t),e.abrupt("return",Fk(r.localStore,n).then((function(e){return r_(r,e)})));case 2:case"end":return e.stop()}}),e)}))),f_.apply(this,arguments)}function d_(e,t,n,r){return h_.apply(this,arguments)}function h_(){return h_=ke(me().mark((function e(t,n,r,i){var a,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Nh(t),e.next=3,function(e,t){var n=Nh(e),r=Nh(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.In(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):hp.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Vw(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Xx(a,n,i||null),Jx(a,n),function(e,t){Nh(Nh(e).mutationQueue).En(t)}(a.localStore,n)):Ch();case 11:return e.next=13,r_(a,o);case 13:e.next=16;break;case 15:Sh("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),h_.apply(this,arguments)}function p_(e,t){return v_.apply(this,arguments)}function v_(){return v_=ke(me().mark((function e(t,n){var r,i,a,o,s,u,c,l;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S_(r=Nh(t)),E_(r),!0!==n||!0===r.fc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,m_(r,i.toArray());case 5:return a=e.sent,r.fc=!0,e.next=9,nx(r.remoteStore,!0);case 9:o=A(a);try{for(o.s();!(s=o.n()).done;)u=s.value,_w(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.fc){e.next=25;break}return c=[],l=Promise.resolve(),r.ic.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return $x(r,t),Lk(r.localStore,t,!0)})),Sw(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,m_(r,c);case 21:return function(e){var t=Nh(e);t.uc.forEach((function(e,n){Sw(t.remoteStore,n)})),t.cc.ls(),t.uc=new Map,t.oc=new sv(Zh.comparator)}(r),r.fc=!1,e.next=25,nx(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),v_.apply(this,arguments)}function m_(e,t,n){return g_.apply(this,arguments)}function g_(){return g_=ke(me().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d,h,p,v,m,g;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Nh(t),a=[],o=[],s=A(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.ic.get(c))||0===f.length){e.next=34;break}return e.next=11,Pk(i.localStore,Lm(f[0]));case 11:l=e.sent,d=A(f),e.prev=13,d.s();case 15:if((h=d.n()).done){e.next=24;break}return p=h.value,v=i.sc.get(p),e.next=20,u_(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Uk(i.localStore,c);case 36:return g=e.sent,e.next=39,Pk(i.localStore,g);case 39:return l=e.sent,e.next=42,Dx(i,y_(g),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.nc.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),g_.apply(this,arguments)}function y_(e){return Cm(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function b_(e){var t=Nh(e);return Nh(Nh(t.localStore).persistence).bi()}function k_(e,t,n,r){return w_.apply(this,arguments)}function w_(){return w_=ke(me().mark((function e(t,n,r,i){var a,o,s,u;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Nh(t)).fc){e.next=3;break}return e.abrupt("return",void Sh("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ic.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Fk(a.localStore,Bm(o[0]));case 10:return s=e.sent,u=Kg.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,vv.EMPTY_BYTE_STRING),e.next=14,r_(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,Lk(a.localStore,n,!0);case 17:return $x(a,n,i),e.abrupt("break",20);case 19:Ch();case 20:case"end":return e.stop()}}),e)}))),w_.apply(this,arguments)}function x_(e,t,n){return __.apply(this,arguments)}function __(){return __=ke(me().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=S_(t)).fc){e.next=45;break}a=A(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.ic.has(s)){e.next=10;break}return Sh("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Uk(i.localStore,s);case 12:return u=e.sent,e.next=15,Pk(i.localStore,u);case 15:return c=e.sent,e.next=18,Dx(i,y_(u),c.targetId,!1,c.resumeToken);case 18:_w(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=A(r),e.prev=30,d=me().mark((function e(){var t;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ic.has(t),!e.t0){e.next=5;break}return e.next=5,Lk(i.localStore,t,!1).then((function(){Sw(i.remoteStore,t),$x(i,t)})).catch(fp);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),__.apply(this,arguments)}function S_(e){var t=Nh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Fx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=s_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Bx.bind(null,t),t.nc.zo=gx.bind(null,t.eventManager),t.nc.wc=yx.bind(null,t.eventManager),t}function E_(e){var t=Nh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Gx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Hx.bind(null,t),t}function I_(e,t,n){var r=Nh(e);(function(){var e=ke(me().mark((function e(t,n,r){var i,a,o,s,u;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Nh(e),r=cy(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.xs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Sx(i)),a=new _x(i,t.localStore,n.serializer),e.next=15,n._c();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.$u(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n._c();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,r_(t,u.Bu,void 0);case 31:return e.next=33,function(e,t){var n=Nh(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.xs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Fu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Ih("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var T_=function(){function e(){C(this,e),this.synchronizeTabs=!1}return N(e,[{key:"initialize",value:function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=fw(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Ik(this.persistence,new Sk,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new hk(vk.Fs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new ew}},{key:"terminate",value:function(){var e=ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),C_=function(e){P(n,e);var t=j(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this)).mc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return N(n,[{key:"initialize",value:function(){var e=ke(me().mark((function e(t){var r=this;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yt(L(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.mc.initialize(this,t);case 4:return e.next=6,E_(this.mc.syncEngine);case 6:return e.next=8,Vw(this.mc.remoteStore);case 8:return e.next=10,this.persistence.hi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return Ik(this.persistence,new Sk,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Gb(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Sp(t,this.persistence);return new _p(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=xk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Rb.withCacheSize(this.cacheSizeBytes):Rb.DEFAULT;return new bk(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,cw(),lw(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new ew}}]),n}(T_),R_=function(e){P(n,e);var t=j(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e,r,!1)).mc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return N(n,[{key:"initialize",value:function(){var e=ke(me().mark((function e(t){var r,i=this;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yt(L(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.mc.syncEngine,e.t0=this.sharedClientState instanceof Zk,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:d_.bind(null,r),Mr:k_.bind(null,r),Fr:x_.bind(null,r),bi:b_.bind(null,r),Or:l_.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.hi(function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p_(i.mc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=cw();if(!Zk.D(t))throw new Oh(Ah.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=xk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Zk(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(C_),N_=function(){function e(){C(this,e)}return N(e,[{key:"initialize",value:function(){var e=ke(me().mark((function e(t,n){var r=this;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return zx(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=a_.bind(null,this.syncEngine),e.next=12,nx(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new dx}},{key:"createDatastore",value:function(e){var t,n=fw(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new uw(t));return function(e,t,n,r){return new mw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return zx(o.syncEngine,e,0)},a=nw.D()?new nw:new tw,new yw(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Nx(e,t,n,r,i,a);return o&&(s.fc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ke(me().mark((function e(t){var n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nh(t),Sh("RemoteStore","RemoteStore shutting down."),n.du.add(5),e.next=5,ww(n);case 5:n._u.shutdown(),n.mu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function A_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ke(me().mark((function r(){var i;return me().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var O_=function(){function e(t){C(this,e),this.observer=t,this.muted=!1}return N(e,[{key:"next",value:function(e){this.observer.next&&this.gc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.gc(this.observer.error,e):Eh("Uncaught Error in snapshot listener:",e.toString())}},{key:"yc",value:function(){this.muted=!0}},{key:"gc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),D_=function(){function e(t,n){var r=this;C(this,e),this.Ic=t,this.serializer=n,this.metadata=new Dh,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then((function(e){e&&e.ku()?r.metadata.resolve(e.Nu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Nu))))}),(function(e){return r.metadata.reject(e)}))}return N(e,[{key:"close",value:function(){return this.Ic.cancel()}},{key:"getMetadata",value:function(){var e=ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_c",value:function(){var e=ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ec());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ec",value:function(){var e=ke(me().mark((function e(){var t,n,r,i;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ac();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Tc.decode(t),r=Number(n),isNaN(r)&&this.Rc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new wx(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ac",value:function(){var e=ke(me().mark((function e(){var t,n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.bc()<0)){e.next=7;break}return e.next=3,this.Pc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.bc())<0&&this.Rc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=ke(me().mark((function e(t){var n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Pc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Rc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Tc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Rc",value:function(e){throw this.Ic.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Pc",value:function(){var e=ke(me().mark((function e(){var t,n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ic.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),P_=function(){function e(t){C(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return N(e,[{key:"lookup",value:function(){var e=ke(me().mark((function e(t){var n,r=this;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Oh(Ah.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ke(me().mark((function e(t,n){var r,i,a,o,s,u;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nh(t),i=my(r.serializer)+"/documents",a={documents:n.map((function(e){return dy(r.serializer,e)}))},e.next=5,r.fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=ky(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Rh(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new jg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ke(me().mark((function e(){var t,n=this;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Zh.fromPath(t);n.mutations.push(new Ug(r,n.precondition(r)))})),e.next=7,function(){var e=ke(me().mark((function e(t,n){var r,i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nh(t),i=my(r.serializer)+"/documents",a={writes:n.map((function(e){return wy(r.serializer,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ch();t=Qh.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Oh(Ah.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Qh.min())?xg.exists(!1):xg.updateTime(t):xg.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Qh.min()))throw new Oh(Ah.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xg.updateTime(t)}return xg.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),L_=function(){function e(t,n,r,i,a){C(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Vc=r.maxAttempts,this.Co=new dw(this.asyncQueue,"transaction_retry")}return N(e,[{key:"run",value:function(){this.Vc-=1,this.Sc()}},{key:"Sc",value:function(){var e=this;this.Co.Ao(ke(me().mark((function t(){var n,r;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new P_(e.datastore),(r=e.Dc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Cc(t)}))}))})).catch((function(t){e.Cc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Dc",value:function(e){try{var t=this.updateFunction(e);return!Ip(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Cc",value:function(e){var t=this;this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Sc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"xc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!qg(t)}return!1}}]),e}(),M_=function(){function e(t,n,r,i){var a=this;C(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kh.UNAUTHENTICATED,this.clientId=qh.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sh("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Sh("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return N(e,[{key:"getConfiguration",value:function(){var e=ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Oh(Ah.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Dh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ke(me().mark((function n(){var r;return me().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=sx(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function j_(e,t){return U_.apply(this,arguments)}function U_(){return U_=ke(me().mark((function e(t,n){var r,i;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Sh("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Tk(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),U_.apply(this,arguments)}function F_(e,t){return V_.apply(this,arguments)}function V_(){return V_=ke(me().mark((function e(t,n){var r,i;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,B_(t);case 3:return r=e.sent,Sh("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return ex(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return ex(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),V_.apply(this,arguments)}function z_(e){return"FirebaseError"===e.name?e.code===Ah.FAILED_PRECONDITION||e.code===Ah.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function B_(e){return q_.apply(this,arguments)}function q_(){return q_=ke(me().mark((function e(t){var n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Sh("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,j_(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),z_(n=e.t0)){e.next=13;break}throw n;case 13:return Ih("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,j_(t,new T_);case 16:e.next=21;break;case 18:return Sh("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,j_(t,new T_);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),q_.apply(this,arguments)}function G_(e){return W_.apply(this,arguments)}function W_(){return W_=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Sh("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,F_(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Sh("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,F_(t,new N_);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),W_.apply(this,arguments)}function H_(e){return B_(e).then((function(e){return e.persistence}))}function K_(e){return B_(e).then((function(e){return e.localStore}))}function Q_(e){return G_(e).then((function(e){return e.remoteStore}))}function Y_(e){return G_(e).then((function(e){return e.syncEngine}))}function J_(e){return G_(e).then((function(e){return e.datastore}))}function X_(e){return $_.apply(this,arguments)}function $_(){return $_=ke(me().mark((function e(t){var n,r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G_(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Ax.bind(null,n.syncEngine),r.onUnlisten=Lx.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),$_.apply(this,arguments)}function Z_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Dh;return e.asyncQueue.enqueueAndForget(ke(me().mark((function i(){return me().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new O_({next:function(a){t.enqueueAndForget((function(){return vx(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Oh(Ah.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Oh(Ah.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new kx(Rm(n.path),a,{includeMetadataChanges:!0,xu:!0});return hx(e,o)},i.next=3,X_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function eS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Dh;return e.asyncQueue.enqueueAndForget(ke(me().mark((function i(){return me().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new O_({next:function(n){t.enqueueAndForget((function(){return vx(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Oh(Ah.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new kx(n,a,{includeMetadataChanges:!0,xu:!0});return hx(e,o)},i.next=3,X_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var tS=new Map;function nS(e,t,n){if(!n)throw new Oh(Ah.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function rS(e,t,n,r){if(!0===t&&!0===r)throw new Oh(Ah.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function iS(e){if(!Zh.isDocumentKey(e))throw new Oh(Ah.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function aS(e){if(Zh.isDocumentKey(e))throw new Oh(Ah.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function oS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ch()}function sS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Oh(Ah.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=oS(e);throw new Oh(Ah.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function uS(e,t){if(t<=0)throw new Oh(Ah.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var cS=function(){function e(t){var n;if(C(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Oh(Ah.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Oh(Ah.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,rS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return N(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),lS=function(){function e(t,n,r,i){C(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cS({}),this._settingsFrozen=!1}return N(e,[{key:"app",get:function(){if(!this._app)throw new Oh(Ah.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Oh(Ah.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cS(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Lh;switch(e.type){case"firstParty":return new Fh(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Oh(Ah.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=tS.get(e);t&&(Sh("ComponentProvider","Removing Datastore"),tS.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function fS(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=sS(e,lS))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Ih("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=kh.MOCK_USER;else{o=J(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Oh(Ah.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new kh(u)}e._authCredentials=new Mh(new Ph(o,s))}}var dS=function(){function e(t,n,r){C(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return N(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new pS(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),hS=function(){function e(t,n,r){C(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return N(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),pS=function(e){P(n,e);var t=j(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this,e,r,Rm(i)))._path=i,a.type="collection",a}return N(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new dS(this.firestore,null,new Zh(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(hS);function vS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ve(e),nS("collection","path",t),e instanceof lS){var a=Jh.fromString.apply(Jh,[t].concat(r));return aS(a),new pS(e,null,a)}if(!(e instanceof dS||e instanceof pS))throw new Oh(Ah.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Jh.fromString.apply(Jh,[t].concat(r)));return aS(o),new pS(e.firestore,null,o)}function mS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ve(e),1===arguments.length&&(t=qh.A()),nS("doc","path",t),e instanceof lS){var a=Jh.fromString.apply(Jh,[t].concat(r));return iS(a),new dS(e,null,new Zh(a))}if(!(e instanceof dS||e instanceof pS))throw new Oh(Ah.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Jh.fromString.apply(Jh,[t].concat(r)));return iS(o),new dS(e.firestore,e instanceof pS?e.converter:null,new Zh(o))}function gS(e,t){return e=ve(e),t=ve(t),(e instanceof dS||e instanceof pS)&&(t instanceof dS||t instanceof pS)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function yS(e,t){return e=ve(e),t=ve(t),e instanceof hS&&t instanceof hS&&e.firestore===t.firestore&&Um(e._query,t._query)&&e.converter===t.converter}var bS=function(){function e(){var t=this;C(this,e),this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new dw(this,"async_queue_retry"),this.qc=function(){var e=lw();e&&Sh("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Co.vo()};var n=lw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qc)}return N(e,[{key:"isShuttingDown",get:function(){return this.Oc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Uc(),this.Kc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;var t=lw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Uc(),this.Oc)return new Promise((function(){}));var n=new Dh;return this.Kc((function(){return t.Oc&&t.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.kc.push(e),t.Gc()}))}},{key:"Gc",value:function(){var e=ke(me().mark((function e(){var t=this;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.kc.length){e.next=14;break}return e.prev=1,e.next=4,this.kc[0]();case 4:this.kc.shift(),this.Co.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),yp(e.t0)){e.next=12;break}throw e.t0;case 12:Sh("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.kc.length>0&&this.Co.Ao((function(){return t.Gc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(e){var t=this,n=this.Nc.then((function(){return t.Fc=!0,e().catch((function(e){t.Mc=e,t.Fc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Eh("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Fc=!1,e}))}));return this.Nc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);var i=ox.createAndSchedule(this,e,t,n,(function(e){return r.Qc(e)}));return this.$c.push(i),i}},{key:"Uc",value:function(){this.Mc&&Ch()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=ke(me().mark((function e(){var t;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Nc,e.next=3,t;case 3:if(t!==this.Nc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"jc",value:function(e){var t,n=A(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Wc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=A(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Hc",value:function(e){this.Lc.push(e)}},{key:"Qc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function kS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=A(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var wS=function(){function e(){C(this,e),this._progressObserver={},this._taskCompletionResolver=new Dh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return N(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),xS=function(e){P(n,e);var t=j(n);function n(e,r,i,a){var o;return C(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new bS,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return N(n,[{key:"_terminate",value:function(){return this._firestoreClient||SS(this),this._firestoreClient.terminate()}}]),n}(lS);function _S(e){return e._firestoreClient||SS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function SS(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new _v(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new M_(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function ES(e,t,n){var r=new Dh;return e.asyncQueue.enqueue(ke(me().mark((function i(){var a;return me().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,j_(e,n);case 3:return i.next=5,F_(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),z_(a=i.t0)){i.next=13;break}throw a;case 13:Ih("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function IS(e){return function(e){return e.asyncQueue.enqueue(ke(me().mark((function t(){var n,r;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H_(e);case 2:return n=t.sent,t.next=5,Q_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Nh(e);return t.du.delete(0),bw(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(_S(e=sS(e,xS)))}function TS(e){return function(e){return e.asyncQueue.enqueue(ke(me().mark((function t(){var n,r;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H_(e);case 2:return n=t.sent,t.next=5,Q_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ke(me().mark((function e(t){var n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Nh(t)).du.add(0),e.next=4,ww(n);case 4:n.mu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(_S(e=sS(e,xS)))}function CS(e,t){var n=_S(e=sS(e,xS)),r=new wS;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new D_(e,t)}(function(e,t){if(e instanceof Uint8Array)return A_(e,t);if(e instanceof ArrayBuffer)return A_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,fw(t));e.asyncQueue.enqueueAndForget(ke(me().mark((function t(){return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=I_,t.next=3,Y_(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function RS(e,t){return function(e,t){return e.asyncQueue.enqueue(ke(me().mark((function n(){return me().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Nh(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.xs.getNamedQuery(e,t)}))},n.next=3,K_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(_S(e=sS(e,xS)),t).then((function(t){return t?new hS(e,null,t.query):null}))}function NS(e){if(e._initialized||e._terminated)throw new Oh(Ah.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var AS=function(){function e(t){C(this,e),this._byteString=t}return N(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(vv.fromBase64String(t))}catch(t){throw new Oh(Ah.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(vv.fromUint8Array(t))}}]),e}(),OS=function(){function e(){C(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Oh(Ah.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $h(n)}return N(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var DS=N((function e(t){C(this,e),this._methodName=t})),PS=function(){function e(t,n){if(C(this,e),!isFinite(t)||t<-90||t>90)throw new Oh(Ah.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Oh(Ah.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return N(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Gh(this._lat,e._lat)||Gh(this._long,e._long)}}]),e}(),LS=/^__.*__$/,MS=function(){function e(t,n,r){C(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return N(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Ag(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ng(e,this.data,t,this.fieldTransforms)}}]),e}(),jS=function(){function e(t,n,r){C(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return N(e,[{key:"toMutation",value:function(e,t){return new Ag(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function US(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ch()}}var FS=function(){function e(t,n,r,i,a,o){C(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Jc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return N(e,[{key:"path",get:function(){return this.settings.path}},{key:"Yc",get:function(){return this.settings.Yc}},{key:"Zc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Xc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.ea(e),r}},{key:"na",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.Jc(),r}},{key:"sa",value:function(e){return this.Zc({path:void 0,ta:!0})}},{key:"ia",value:function(e){return aE(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Jc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ea(this.path.get(e))}},{key:"ea",value:function(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(US(this.Yc)&&LS.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}]),e}(),VS=function(){function e(t,n,r){C(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||fw(t)}return N(e,[{key:"ua",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new FS({Yc:e,methodName:t,oa:n,path:$h.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function zS(e){var t=e._freezeSettings(),n=fw(e._databaseId);return new VS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function BS(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ua(a.merge||a.mergeFields?2:0,t,n,i);tE("Data must be an object, but it was:",o,r);var s,u,c=ZS(r,o);if(a.merge)s=new hv(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=A(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=nE(t,l.value,n);if(!o.contains(h))throw new Oh(Ah.INVALID_ARGUMENT,"Field '".concat(h,"' is specified in your field mask but missing from your input data."));oE(f,h)||f.push(h)}}catch(p){d.e(p)}finally{d.f()}s=new hv(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new MS(new Hv(c),s,u)}var qS=function(e){P(n,e);var t=j(n);function n(){return C(this,n),t.apply(this,arguments)}return N(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Yc)throw 1===e.Yc?e.ia("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ia("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(DS);function GS(e,t,n){return new FS({Yc:3,oa:t.settings.oa,methodName:e._methodName,ta:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var WS=function(e){P(n,e);var t=j(n);function n(){return C(this,n),t.apply(this,arguments)}return N(n,[{key:"_toFieldTransform",value:function(e){return new kg(e.path,new dg)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(DS),HS=function(e){P(n,e);var t=j(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e)).ca=r,i}return N(n,[{key:"_toFieldTransform",value:function(e){var t=GS(this,e,!0),n=this.ca.map((function(e){return $S(e,t)})),r=new hg(n);return new kg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(DS),KS=function(e){P(n,e);var t=j(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e)).ca=r,i}return N(n,[{key:"_toFieldTransform",value:function(e){var t=GS(this,e,!0),n=this.ca.map((function(e){return $S(e,t)})),r=new vg(n);return new kg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(DS),QS=function(e){P(n,e);var t=j(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e)).aa=r,i}return N(n,[{key:"_toFieldTransform",value:function(e){var t=new gg(e.serializer,sg(e.serializer,this.aa));return new kg(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(DS);function YS(e,t,n,r){var i=e.ua(1,t,n);tE("Data must be an object, but it was:",i,r);var a=[],o=Hv.empty();av(r,(function(e,r){var s=iE(t,e,n);r=ve(r);var u=i.na(s);if(r instanceof qS)a.push(s);else{var c=$S(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new hv(a);return new jS(o,s,i.fieldTransforms)}function JS(e,t,n,r,i,a){var o=e.ua(1,t,n),s=[nE(t,r,n)],u=[i];if(a.length%2!=0)throw new Oh(Ah.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(nE(t,a[c])),u.push(a[c+1]);for(var l=[],f=Hv.empty(),d=s.length-1;d>=0;--d)if(!oE(l,s[d])){var h=s[d],p=u[d];p=ve(p);var v=o.na(h);if(p instanceof qS)l.push(h);else{var m=$S(p,v);null!=m&&(l.push(h),f.set(h,m))}}var g=new hv(l);return new jS(f,g,o.fieldTransforms)}function XS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return $S(n,e.ua(r?4:3,t))}function $S(e,t){if(eE(e=ve(e)))return tE("Unsupported field value:",t,e),ZS(e,t);if(e instanceof DS)return function(e,t){if(!US(t.Yc))throw t.ia("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ia("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ta&&4!==t.Yc)throw t.ia("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=A(e);try{for(a.s();!(n=a.n()).done;){var o=$S(n.value,t.sa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ve(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return sg(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Kh.fromDate(e);return{timestampValue:oy(t.serializer,n)}}if(e instanceof Kh){var r=new Kh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:oy(t.serializer,r)}}if(e instanceof PS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof AS)return{bytesValue:sy(t.serializer,e._byteString)};if(e instanceof dS){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ia("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:ly(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ia("Unsupported field value: ".concat(oS(e)))}(e,t)}function ZS(e,t){var n={};return ov(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):av(e,(function(e,r){var i=$S(r,t.Xc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function eE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Kh||e instanceof PS||e instanceof AS||e instanceof dS||e instanceof DS)}function tE(e,t,n){if(!eE(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=oS(n);throw"an object"===r?t.ia(e+" a custom object"):t.ia(e+" "+r)}}function nE(e,t,n){if((t=ve(t))instanceof OS)return t._internalPath;if("string"==typeof t)return iE(e,t);throw aE("Field path arguments must be of type string or ",e,!1,void 0,n)}var rE=new RegExp("[~\\*/\\[\\]]");function iE(e,t,n){if(t.search(rE)>=0)throw aE("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return U(OS,ye(t.split(".")))._internalPath}catch(r){throw aE("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function aE(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Oh(Ah.INVALID_ARGUMENT,s+e+u)}function oE(e,t){return e.some((function(e){return e.isEqual(t)}))}var sE=function(){function e(t,n,r,i,a){C(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return N(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new dS(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new uE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(cE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),uE=function(e){P(n,e);var t=j(n);function n(){return C(this,n),t.apply(this,arguments)}return N(n,[{key:"data",value:function(){return Yt(L(n.prototype),"data",this).call(this)}}]),n}(sE);function cE(e,t){return"string"==typeof t?iE(e,t):t instanceof OS?t._internalPath:t._delegate._internalPath}function lE(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Oh(Ah.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var fE=N((function e(){C(this,e)})),dE=function(e){P(n,e);var t=j(n);function n(){return C(this,n),t.apply(this,arguments)}return N(n)}(fE);function hE(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof fE&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof vE})).length,n=e.filter((function(e){return e instanceof pE})).length;if(t>1||t>0&&n>0)throw new Oh(Ah.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=A(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var pE=function(e){P(n,e);var t=j(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return N(n,[{key:"_apply",value:function(e){var t=this._parse(e);return TE(e._query,t),new hS(e.firestore,e.converter,Mm(e._query,t))}},{key:"_parse",value:function(e){var t=zS(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Oh(Ah.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){IE(o,a);var u,c=[],l=A(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(EE(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=EE(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||IE(o,a),s=XS(n,"where",o,"in"===a||"not-in"===a);return tm.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(dE);var vE=function(e){P(n,e);var t=j(n);function n(e,r){var i;return C(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return N(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:nm.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=A(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;TE(r,a),r=Mm(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new hS(e.firestore,e.converter,Mm(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(fE);var mE=function(e){P(n,e);var t=j(n);function n(e,r){var i;return C(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return N(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Oh(Ah.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Oh(Ah.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new $v(t,n);return function(e,t){if(null===Am(e)){var n=Om(e);null!==n&&CE(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new hS(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Tm(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(dE);var gE=function(e){P(n,e);var t=j(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return N(n,[{key:"_apply",value:function(e){return new hS(e.firestore,e.converter,jm(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(dE);var yE=function(e){P(n,e);var t=j(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return N(n,[{key:"_apply",value:function(e){var t=SE(e,this.type,this._docOrFields,this._inclusive);return new hS(e.firestore,e.converter,function(e,t){return new Tm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(dE);function bE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yE._create("startAt",t,!0)}function kE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yE._create("startAfter",t,!1)}var wE=function(e){P(n,e);var t=j(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return N(n,[{key:"_apply",value:function(e){var t=SE(e,this.type,this._docOrFields,this._inclusive);return new hS(e.firestore,e.converter,function(e,t){return new Tm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(dE);function xE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wE._create("endBefore",t,!1)}function _E(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wE._create("endAt",t,!0)}function SE(e,t,n,r){if(n[0]=ve(n[0]),n[0]instanceof sE)return function(e,t,n,r,i){if(!r)throw new Oh(Ah.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=A(Pm(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Pv(t,r.key));else{var c=r.data.field(u.field);if(kv(c))throw new Oh(Ah.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Oh(Ah.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Yv(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=zS(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Oh(Ah.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Oh(Ah.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Dm(e)&&-1!==c.indexOf("/"))throw new Oh(Ah.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Jh.fromString(c));if(!Zh.isDocumentKey(l))throw new Oh(Ah.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Zh(l);s.push(Pv(t,f))}else{var d=XS(n,r,c);s.push(d)}}return new Yv(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function EE(e,t,n){if("string"==typeof(n=ve(n))){if(""===n)throw new Oh(Ah.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dm(t)&&-1!==n.indexOf("/"))throw new Oh(Ah.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Jh.fromString(n));if(!Zh.isDocumentKey(r))throw new Oh(Ah.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Pv(e,new Zh(r))}if(n instanceof dS)return Pv(e,n._key);throw new Oh(Ah.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(oS(n),"."))}function IE(e,t){if(!Array.isArray(e)||0===e.length)throw new Oh(Ah.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function TE(e,t){if(t.isInequality()){var n=Om(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Oh(Ah.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Am(e);null!==i&&CE(e,r,i)}var a=function(e,t){var n,r=A(e);try{for(r.s();!(n=r.n()).done;){var i,a=A(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Oh(Ah.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Oh(Ah.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function CE(e,t,n){if(!n.isEqual(t))throw new Oh(Ah.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var RE=function(){function e(){C(this,e)}return N(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Tv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ch()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return av(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new PS(yv(e.latitude),yv(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=wv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xv(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=gv(e);return new Kh(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Jh.fromString(e);Rh(Py(n));var r=new Sv(n.get(1),n.get(3)),i=new Zh(n.popFirst(5));return r.isEqual(t)||Eh("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function NE(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var AE=function(e){P(n,e);var t=j(n);function n(e){var r;return C(this,n),(r=t.call(this)).firestore=e,r}return N(n,[{key:"convertBytes",value:function(e){return new AS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new dS(this.firestore,null,t)}}]),n}(RE);var OE=function(){function e(t,n){C(this,e),this.hasPendingWrites=t,this.fromCache=n}return N(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),DE=function(e){P(n,e);var t=j(n);function n(e,r,i,a,o,s){var u;return C(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return N(n,[{key:"exists",value:function(){return Yt(L(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new PE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(cE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(sE),PE=function(e){P(n,e);var t=j(n);function n(){return C(this,n),t.apply(this,arguments)}return N(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Yt(L(n.prototype),"data",this).call(this,e)}}]),n}(DE),LE=function(){function e(t,n,r,i){C(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new OE(i.hasPendingWrites,i.fromCache),this.query=r}return N(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new PE(n._firestore,n._userDataWriter,r.key,r,new OE(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Oh(Ah.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new PE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new OE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new PE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new OE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ME(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function ME(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ch()}}function jE(e,t){return e instanceof DE&&t instanceof DE?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof LE&&t instanceof LE&&e._firestore===t._firestore&&yS(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var UE=function(e){P(n,e);var t=j(n);function n(e){var r;return C(this,n),(r=t.call(this)).firestore=e,r}return N(n,[{key:"convertBytes",value:function(e){return new AS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new dS(this.firestore,null,t)}}]),n}(RE);function FE(e){e=sS(e,dS);var t=sS(e.firestore,xS),n=_S(t),r=new UE(t);return function(e,t){var n=new Dh;return e.asyncQueue.enqueueAndForget(ke(me().mark((function r(){return me().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ke(me().mark((function e(t,n,r){var i,a;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Nh(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Oh(Ah.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=sx(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,K_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new DE(t,r,e._key,n,new OE(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function VE(e){e=sS(e,hS);var t=sS(e.firestore,xS),n=_S(t),r=new UE(t);return function(e,t){var n=new Dh;return e.asyncQueue.enqueueAndForget(ke(me().mark((function r(){return me().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ke(me().mark((function e(t,n,r){var i,a,o,s,u;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jk(t,n,!0);case 3:i=e.sent,a=new Tx(n,i.Wi),o=a.zu(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=sx(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,K_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new LE(t,r,e,n)}))}function zE(e,t,n){e=sS(e,dS);var r=sS(e.firestore,xS),i=NE(e.converter,t,n);return WE(r,[BS(zS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,xg.none())])}function BE(e,t,n){e=sS(e,dS);for(var r=sS(e.firestore,xS),i=zS(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return WE(r,[("string"==typeof(t=ve(t))||t instanceof OS?JS(i,"updateDoc",e._key,t,n,o):YS(i,"updateDoc",e._key,t)).toMutation(e._key,xg.exists(!0))])}function qE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ve(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||kS(n[u])||(s=n[u],u++);var c,l,f,d={includeMetadataChanges:s.includeMetadataChanges};if(kS(n[u])){var h=n[u];n[u]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[u+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[u+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof dS)l=sS(e.firestore,xS),f=Rm(e._key.path),c={next:function(t){n[u]&&n[u](HE(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=sS(e,hS);l=sS(p.firestore,xS),f=p._query;var v=new UE(l);c={next:function(e){n[u]&&n[u](new LE(l,v,p,e))},error:n[u+1],complete:n[u+2]},lE(e._query)}return function(e,t,n,r){var i=new O_(r),a=new kx(t,i,n);return e.asyncQueue.enqueueAndForget(ke(me().mark((function t(){return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=hx,t.next=3,X_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.yc(),e.asyncQueue.enqueueAndForget(ke(me().mark((function t(){return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=vx,t.next=3,X_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(_S(l),f,d,c)}function GE(e,t){return function(e,t){var n=new O_(t);return e.asyncQueue.enqueueAndForget(ke(me().mark((function t(){return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Nh(e).Au.add(t),t.next()},t.next=3,X_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.yc(),e.asyncQueue.enqueueAndForget(ke(me().mark((function t(){return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Nh(e).Au.delete(t)},t.next=3,X_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(_S(e=sS(e,xS)),kS(t)?t:{next:t})}function WE(e,t){return function(e,t){var n=new Dh;return e.asyncQueue.enqueueAndForget(ke(me().mark((function r(){return me().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=jx,r.next=3,Y_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(_S(e),t)}function HE(e,t,n){var r=n.docs.get(t._key),i=new UE(e);return new DE(e,i,t._key,r,new OE(n.hasPendingWrites,n.fromCache),t.converter)}var KE={maxAttempts:5},QE=function(){function e(t,n){C(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=zS(t)}return N(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=YE(e,this._firestore),i=NE(r.converter,t,n),a=BS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,xg.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=YE(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=ve(t))||t instanceof OS?JS(this._dataReader,"WriteBatch.update",i._key,t,n,o):YS(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,xg.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=YE(e,this._firestore);return this._mutations=this._mutations.concat(new jg(t._key,xg.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Oh(Ah.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function YE(e,t){if((e=ve(e)).firestore!==t)throw new Oh(Ah.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var JE=function(e){P(n,e);var t=j(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e,r))._firestore=e,i}return N(n,[{key:"get",value:function(e){var t=this,r=YE(e,this._firestore),i=new UE(this._firestore);return Yt(L(n.prototype),"get",this).call(this,e).then((function(e){return new DE(t._firestore,i,r._key,e._document,new OE(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){C(this,e),this._firestore=t,this._transaction=n,this._dataReader=zS(t)}return N(e,[{key:"get",value:function(e){var t=this,n=YE(e,this._firestore),r=new AE(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Ch();var i=e[0];if(i.isFoundDocument())return new sE(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new sE(t._firestore,r,n._key,null,n.converter);throw Ch()}))}},{key:"set",value:function(e,t,n){var r=YE(e,this._firestore),i=NE(r.converter,t,n),a=BS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=YE(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=ve(t))||t instanceof OS?JS(this._dataReader,"Transaction.update",i._key,t,n,o):YS(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=YE(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function XE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new HS("arrayUnion",t)}function $E(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new KS("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){wh=e}(vt),ut(new we("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new xS(new jh(e.getProvider("auth-internal")),new zh(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Oh(Ah.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sv(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),wt(bh,"3.10.0",e),wt(bh,"3.10.0","esm2017")}();function ZE(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Oh("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function eI(){if("undefined"===typeof Uint8Array)throw new Oh("unimplemented","Uint8Arrays are not available in this environment.")}function tI(){if("undefined"==typeof atob)throw new Oh("unimplemented","Blobs are unavailable in Firestore in this environment.")}var nI=function(){function e(t){C(this,e),this._delegate=t}return N(e,[{key:"toBase64",value:function(){return tI(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return eI(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return tI(),new e(AS.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return eI(),new e(AS.fromUint8Array(t))}}]),e}();function rI(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=A(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var iI=function(){function e(){C(this,e)}return N(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){NS(e=sS(e,xS));var n=_S(e);if(n._uninitializedComponentsProvider)throw new Oh(Ah.FAILED_PRECONDITION,"SDK cache is already specified.");Ih("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new N_;return ES(n,i,new C_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){NS(e=sS(e,xS));var t=_S(e);if(t._uninitializedComponentsProvider)throw new Oh(Ah.FAILED_PRECONDITION,"SDK cache is already specified.");Ih("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new N_;return ES(t,r,new R_(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Oh(Ah.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Dh;return e._queue.enqueueAndForgetEvenWhileRestricted(ke(me().mark((function n(){return me().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ke(me().mark((function e(t){var n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vp.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,vp.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(xk(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),aI=function(){function e(t,n,r){var i=this;C(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Sv||(this._appCompat=t)}return N(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ih("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};fS(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return IS(this._delegate)}},{key:"disableNetwork",value:function(){return TS(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&rS("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Dh;return e.asyncQueue.enqueueAndForget(ke(me().mark((function n(){return me().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Qx,n.next=3,Y_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(_S(e=sS(e,xS)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return GE(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Oh("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new bI(this,vS(this._delegate,e))}catch(t){throw fI(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new lI(this,mS(this._delegate,e))}catch(t){throw fI(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new mI(this,function(e,t){if(e=sS(e,lS),nS("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Oh(Ah.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new hS(e,null,function(e){return new Tm(Jh.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw fI(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=sS(e,xS);var r=Object.assign(Object.assign({},KE),n);return function(e){if(e.maxAttempts<1)throw new Oh(Ah.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Dh;return e.asyncQueue.enqueueAndForget(ke(me().mark((function i(){var a;return me().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,J_(e);case 2:a=i.sent,new L_(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(_S(e),(function(n){return t(new JE(e,n))}),r)}(this._delegate,(function(n){return e(new sI(t,n))}))}},{key:"batch",value:function(){var e=this;return _S(this._delegate),new uI(new QE(this._delegate,(function(t){return WE(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return CS(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return RS(this._delegate,e).then((function(e){return e?new mI(t,e):null}))}}]),e}(),oI=function(e){P(n,e);var t=j(n);function n(e){var r;return C(this,n),(r=t.call(this)).firestore=e,r}return N(n,[{key:"convertBytes",value:function(e){return new nI(new AS(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return lI.forKey(t,this.firestore,null)}}]),n}(RE);var sI=function(){function e(t,n){C(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new oI(t)}return N(e,[{key:"get",value:function(e){var t=this,n=kI(e);return this._delegate.get(n).then((function(e){return new pI(t._firestore,new DE(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=kI(e);return n?(ZE("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=kI(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=kI(e);return this._delegate.delete(t),this}}]),e}(),uI=function(){function e(t){C(this,e),this._delegate=t}return N(e,[{key:"set",value:function(e,t,n){var r=kI(e);return n?(ZE("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=kI(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=kI(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),cI=function(){function e(t,n,r){C(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return N(e,[{key:"fromFirestore",value:function(e,t){var n=new PE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vI(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new oI(t),n),i.set(n,a)),a}}]),e}();cI.INSTANCES=new WeakMap;var lI=function(){function e(t,n){C(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new oI(t)}return N(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new bI(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new bI(this.firestore,vS(this._delegate,e))}catch(t){throw fI(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ve(e))instanceof dS&&gS(this._delegate,e)}},{key:"set",value:function(e,t){t=ZE("DocumentReference.set",t);try{return t?zE(this._delegate,e,t):zE(this._delegate,e)}catch(n){throw fI(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?BE(this._delegate,e):BE.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw fI(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return WE(sS(e.firestore,xS),[new jg(e._key,xg.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=dI(n),a=hI(n,(function(t){return new pI(e.firestore,new DE(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return qE(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?FE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=sS(e,dS);var t=sS(e.firestore,xS);return Z_(_S(t),e._key,{source:"server"}).then((function(n){return HE(t,e,n)}))}(this._delegate):function(e){e=sS(e,dS);var t=sS(e.firestore,xS);return Z_(_S(t),e._key).then((function(n){return HE(t,e,n)}))}(this._delegate),t.then((function(e){return new pI(n.firestore,new DE(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(cI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Oh("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new dS(n._delegate,r,new Zh(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new dS(n._delegate,r,t))}}]),e}();function fI(e,t,n){return e.message=e.message.replace(t,n),e}function dI(e){var t,n=A(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!rI(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function hI(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=rI(e[0])?e[0]:rI(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var pI=function(){function e(t,n){C(this,e),this._firestore=t,this._delegate=n}return N(e,[{key:"ref",get:function(){return new lI(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return jE(this._delegate,e._delegate)}}]),e}(),vI=function(e){P(n,e);var t=j(n);function n(){return C(this,n),t.apply(this,arguments)}return N(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Ch()}(void 0!==t),t}}]),n}(pI),mI=function(){function e(t,n){C(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new oI(t)}return N(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,hE(this._delegate,function(e,t,n){var r=t,i=cE("where",e);return pE._create(i,r,n)}(t,n,r)))}catch(i){throw fI(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,hE(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=cE("orderBy",e);return mE._create(n,t)}(t,n)))}catch(r){throw fI(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,hE(this._delegate,function(e){return uS("limit",e),gE._create("limit",e,"F")}(t)))}catch(n){throw fI(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,hE(this._delegate,function(e){return uS("limitToLast",e),gE._create("limitToLast",e,"L")}(t)))}catch(n){throw fI(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,hE(this._delegate,bE.apply(void 0,arguments)))}catch(t){throw fI(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,hE(this._delegate,kE.apply(void 0,arguments)))}catch(t){throw fI(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,hE(this._delegate,xE.apply(void 0,arguments)))}catch(t){throw fI(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,hE(this._delegate,_E.apply(void 0,arguments)))}catch(t){throw fI(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return yS(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?VE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=sS(e,hS);var t=sS(e.firestore,xS),n=_S(t),r=new UE(t);return eS(n,e._query,{source:"server"}).then((function(n){return new LE(t,r,e,n)}))}(this._delegate):function(e){e=sS(e,hS);var t=sS(e.firestore,xS),n=_S(t),r=new UE(t);return lE(e._query),eS(n,e._query).then((function(n){return new LE(t,r,e,n)}))}(this._delegate),t.then((function(e){return new yI(n.firestore,new LE(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=dI(n),a=hI(n,(function(t){return new yI(e.firestore,new LE(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return qE(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(cI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),gI=function(){function e(t,n){C(this,e),this._firestore=t,this._delegate=n}return N(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new vI(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),yI=function(){function e(t,n){C(this,e),this._firestore=t,this._delegate=n}return N(e,[{key:"query",get:function(){return new mI(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new vI(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new gI(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new vI(n._firestore,r))}))}},{key:"isEqual",value:function(e){return jE(this._delegate,e._delegate)}}]),e}(),bI=function(e){P(n,e);var t=j(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return N(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new lI(this.firestore,e):null}},{key:"doc",value:function(e){try{return new lI(this.firestore,void 0===e?mS(this._delegate):mS(this._delegate,e))}catch(t){throw fI(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=sS(e.firestore,xS),r=mS(e),i=NE(e.converter,t);return WE(n,[BS(zS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,xg.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new lI(t.firestore,e)}))}},{key:"isEqual",value:function(e){return gS(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(cI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(mI);function kI(e){return sS(e,dS)}var wI=function(){function e(){C(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=U(OS,n)}return N(e,[{key:"isEqual",value:function(e){return(e=ve(e))instanceof OS&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e($h.keyField().canonicalString())}}]),e}(),xI=function(){function e(t){C(this,e),this._delegate=t}return N(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new WS("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new qS("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=XE.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=$E.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new QS("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),_I={Firestore:aI,GeoPoint:PS,Timestamp:Kh,Blob:nI,Transaction:sI,WriteBatch:uI,DocumentReference:lI,DocumentSnapshot:pI,Query:mI,QueryDocumentSnapshot:vI,QuerySnapshot:yI,CollectionReference:bI,FieldPath:wI,FieldValue:xI,setLogLevel:function(e){!function(e){xh.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new we("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},_I)))}(e,(function(e,t){return new aI(e,t,new iI)})),e.registerVersion("@firebase/firestore-compat","0.3.6")}(Kt);var SI,EI="firebasestorage.googleapis.com",II="storageBucket",TI=function(e){P(n,e);var t=j(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return C(this,n),(i=t.call(this,CI(e),"Firebase Storage: ".concat(r," (").concat(CI(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(O(i),n.prototype),i}return N(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return CI(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(re);function CI(e){return"storage/"+e}function RI(){return new TI(SI.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function NI(){return new TI(SI.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function AI(){return new TI(SI.CANCELED,"User canceled the upload/download.")}function OI(){return new TI(SI.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function DI(e){return new TI(SI.INVALID_ARGUMENT,e)}function PI(){return new TI(SI.APP_DELETED,"The Firebase app was deleted.")}function LI(e){return new TI(SI.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function MI(e,t){return new TI(SI.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function jI(e){throw new TI(SI.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(SI||(SI={}));var UI,FI=function(){function e(t,n){C(this,e),this.bucket=t,this.path_=n}return N(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new TI(SI.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===EI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var d=f[l.indices.bucket],h=f[l.indices.path];h||(h=""),r=new e(d,h),l.postModify(r);break}}if(null==r)throw function(e){return new TI(SI.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),VI=function(){function e(t){C(this,e),this.promise_=Promise.reject(t)}return N(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function zI(e){return"string"===typeof e||e instanceof String}function BI(e){return qI()&&e instanceof Blob}function qI(){return"undefined"!==typeof Blob&&!$()}function GI(e,t,n,r){if(r<t)throw DI("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw DI("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function WI(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function HI(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function KI(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(UI||(UI={}));var QI=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var d=this,h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];C(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return N(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=RI();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?PI():AI());else i(NI())}};this.canceled_?t(0,new YI(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(h,u())}),t)}function d(){a&&clearTimeout(a)}function h(e){if(c)d();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return d(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,d(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new YI(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===UI.NO_ERROR,a=r.getStatus();if(!n||KI(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===UI.ABORT;t(!1,new YI(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new YI(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),YI=N((function e(t,n,r){C(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function JI(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function XI(){for(var e=JI(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(qI())return new Blob(n);throw new TI(SI.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function $I(e){if("undefined"===typeof atob)throw t="base-64",new TI(SI.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var ZI={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},eT=N((function e(t,n){C(this,e),this.data=t,this.contentType=n||null}));function tT(e,t){switch(e){case ZI.RAW:return new eT(nT(t));case ZI.BASE64:case ZI.BASE64URL:return new eT(rT(e,t));case ZI.DATA_URL:return new eT(function(e){var t=new iT(e);return t.base64?rT(ZI.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw MI(ZI.DATA_URL,"Malformed data URL.")}return nT(t)}(t.rest)}(t),new iT(t).contentType)}throw RI()}function nT(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function rT(e,t){switch(e){case ZI.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw MI(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case ZI.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw MI(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=$I(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw MI(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var iT=N((function e(t){C(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw MI(ZI.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){var n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var aT=function(){function e(t,n){C(this,e);var r=0,i="";BI(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return N(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(BI(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(qI()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(XI.apply(null,i))}var a=n.map((function(e){return zI(e)?tT(ZI.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function oT(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function sT(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function uT(e,t){return t}var cT=N((function e(t,n,r,i){C(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||uT})),lT=null;function fT(){if(lT)return lT;var e=[];e.push(new cT("bucket")),e.push(new cT("generation")),e.push(new cT("metageneration")),e.push(new cT("name","fullPath",!0));var t=new cT("name");t.xform=function(e,t){return function(e){return!zI(e)||e.length<2?e:sT(e)}(t)},e.push(t);var n=new cT("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new cT("timeCreated")),e.push(new cT("updated")),e.push(new cT("md5Hash",null,!0)),e.push(new cT("cacheControl",null,!0)),e.push(new cT("contentDisposition",null,!0)),e.push(new cT("contentEncoding",null,!0)),e.push(new cT("contentLanguage",null,!0)),e.push(new cT("contentType",null,!0)),e.push(new cT("metadata","customMetadata",!0)),lT=e}function dT(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new FI(n,r);return t._makeStorageReference(i)}})}(r,e),r}function hT(e,t,n){var r=oT(t);return null===r?null:dT(e,r,n)}function pT(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var vT="prefixes",mT="items";function gT(e,t,n){var r=oT(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[vT]){var i,a=A(n[vT]);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new FI(t,o));r.prefixes.push(s)}}catch(d){a.e(d)}finally{a.f()}}if(n[mT]){var u,c=A(n[mT]);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new FI(t,l.name));r.items.push(f)}}catch(d){c.e(d)}finally{c.f()}}return r}(e,t,r)}var yT=N((function e(t,n,r,i){C(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function bT(e){if(!e)throw RI()}function kT(e,t){return function(n,r){var i=hT(e,r,t);return bT(null!==i),i}}function wT(e,t){return function(n,r){var i=hT(e,r,t);return bT(null!==i),function(e,t,n,r){var i=oT(t);if(null===i)return null;if(!zI(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return WI("/b/"+o(i)+"/o/"+o(a),n,r)+HI({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function xT(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new TI(SI.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new TI(SI.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new TI(SI.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new TI(SI.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function _T(e){var t=xT(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new TI(SI.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function ST(e,t,n){var r=WI(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new yT(r,"GET",kT(e,n),i);return a.errorHandler=_T(t),a}function ET(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=WI(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new yT(o,"GET",function(e,t){return function(n,r){var i=gT(e,t,r);return bT(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=xT(t),u}function IT(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function TT(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=IT(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+pT(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=aT.getBlob(c,r,l);if(null===f)throw OI();var d={name:u.fullPath},h=WI(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new yT(h,"POST",kT(e,n),p);return v.urlParams=d,v.headers=o,v.body=f.uploadData(),v.errorHandler=xT(t),v}var CT=N((function e(t,n,r,i){C(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function RT(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){bT(!1)}return bT(!!n&&-1!==(t||["active"]).indexOf(n)),n}var NT=262144;function AT(e,t,n,r,i,a,o,s){var u=new CT(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new TI(SI.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,d=f+l,h={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,d);if(null===p)throw OI();var v=t.maxUploadRetryTime,m=new yT(n,"POST",(function(e,n){var i,o=RT(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?kT(t,a)(e,n):null,new CT(s,c,"final"===o,i)}),v);return m.headers=h,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=xT(e),m}var OT={STATE_CHANGED:"state_changed"},DT={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function PT(e){switch(e){case"running":case"pausing":case"canceling":return DT.RUNNING;case"paused":return DT.PAUSED;case"success":return DT.SUCCESS;case"canceled":return DT.CANCELED;default:return DT.ERROR}}var LT=N((function e(t,n,r){C(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function MT(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var jT=null,UT=function(){function e(){var t=this;C(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=UI.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=UI.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=UI.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return N(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw jI("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw jI("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw jI("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw jI("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw jI("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),FT=function(e){P(n,e);var t=j(n);function n(){return C(this,n),t.apply(this,arguments)}return N(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(UT);function VT(){return jT?jT():new FT}var zT=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;C(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=fT(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(SI.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(KI(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=NI()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(SI.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return N(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=E(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=IT(t,r,i),s={name:o.fullPath},u=WI(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=pT(o,n),f=e.maxUploadRetryTime,d=new yT(u,"POST",(function(e){var t;RT(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){bT(!1)}return bT(zI(t)),t}),f);return d.urlParams=s,d.headers=c,d.body=l,d.errorHandler=xT(t),d}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,VT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new yT(n,"POST",(function(e){var t=RT(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){bT(!1)}n||bT(!1);var i=Number(n);return bT(!isNaN(i)),new CT(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=xT(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,VT,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=NT*this._chunkMultiplier,n=new CT(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=AT(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,VT,i,a,!1);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(NT*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=ST(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,VT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=TT(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,VT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=AI(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=PT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new LT(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(PT(this._state)){case DT.SUCCESS:MT(this._resolve.bind(null,this.snapshot))();break;case DT.CANCELED:case DT.ERROR:MT(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(PT(this._state)){case DT.RUNNING:case DT.PAUSED:e.next&&MT(e.next.bind(e,this.snapshot))();break;case DT.SUCCESS:e.complete&&MT(e.complete.bind(e))();break;case DT.CANCELED:case DT.ERROR:default:e.error&&MT(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),BT=function(){function e(t,n){C(this,e),this._service=t,this._location=n instanceof FI?n:FI.makeFromUrl(n,t.host)}return N(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new FI(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return sT(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new FI(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw LI(e)}}]),e}();function qT(e,t,n){return GT.apply(this,arguments)}function GT(){return(GT=ke(me().mark((function e(t,n,r){var i,a,o,s;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,WT(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,ye(s.prefixes)),(a=n.items).push.apply(a,ye(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,qT(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WT(e,t){null!=t&&"number"===typeof t.maxResults&&GI("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=ET(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,VT)}function HT(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=WI(t.fullServerUrl(),e.host,e._protocol),a=pT(n,r),o=e.maxOperationRetryTime,s=new yT(i,"PATCH",kT(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=_T(t),s}(e.storage,e._location,t,fT());return e.storage.makeRequestWithTokens(n,VT)}function KT(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=WI(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new yT(r,"GET",wT(e,n),i);return a.errorHandler=_T(t),a}(e.storage,e._location,fT());return e.storage.makeRequestWithTokens(t,VT).then((function(e){if(null===e)throw new TI(SI.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function QT(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=WI(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new yT(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=_T(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,VT)}function YT(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new FI(e._location.bucket,n);return new BT(e.storage,r)}function JT(e,t){if(e instanceof ZT){var n=e;if(null==n._bucket)throw new TI(SI.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+II+"' property when initializing the app?");var r=new BT(n,n._bucket);return null!=t?JT(r,t):r}return void 0!==t?YT(e,t):e}function XT(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof ZT)return new BT(e,t);throw DI("To use ref(service, url), the first argument must be a Storage instance.")}return JT(e,t)}function $T(e,t){var n=null===t||void 0===t?void 0:t[II];return null==n?null:FI.makeFromBucketSpec(n,e)}var ZT=function(){function e(t,n,r,i,a){C(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=EI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?FI.makeFromBucketSpec(i,this._host):$T(this._host,this.app.options)}return N(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=FI.makeFromBucketSpec(this._url,e):this._bucket=$T(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){GI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){GI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=ke(me().mark((function e(){var t,n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ke(me().mark((function e(){var t,n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new BT(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new VI(PI());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=HI(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new QI(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=ke(me().mark((function e(t,n){var r,i,a,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=E(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),eC="@firebase/storage",tC="0.11.2",nC="storage";function rC(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new zT(e,new aT(t),n)}(e=ve(e),t,n)}function iC(e){return function(e){e._throwIfRoot("getMetadata");var t=ST(e.storage,e._location,fT());return e.storage.makeRequestWithTokens(t,VT)}(e=ve(e))}function aC(e){return function(e){var t={prefixes:[],items:[]};return qT(e,t).then((function(){return t}))}(e=ve(e))}function oC(e,t){return XT(e=ve(e),t)}function sC(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:J(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function uC(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new ZT(r,i,a,n,vt)}ut(new we(nC,uC,"PUBLIC").setMultipleInstances(!0)),wt(eC,tC,""),wt(eC,tC,"esm2017");var cC=function(){function e(t,n,r){C(this,e),this._delegate=t,this.task=n,this.ref=r}return N(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),lC=function(){function e(t,n){C(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return N(e,[{key:"snapshot",get:function(){return new cC(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new cC(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new cC(e,i,i._ref))}:{next:t.next?function(e){return t.next(new cC(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),fC=function(){function e(t,n){C(this,e),this._delegate=t,this._service=n}return N(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new dC(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new dC(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),dC=function(){function e(t,n){C(this,e),this._delegate=t,this.storage=n}return N(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return YT(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new lC(rC(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ZI.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=tT(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new lC(new zT(this._delegate,new aT(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return aC(this._delegate).then((function(t){return new fC(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return WT(e=ve(e),t)}(this._delegate,e||void 0).then((function(e){return new fC(e,t.storage)}))}},{key:"getMetadata",value:function(){return iC(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return HT(e=ve(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return KT(ve(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),QT(ve(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw LI(e)}}]),e}(),hC=function(){function e(t,n){C(this,e),this.app=t,this._delegate=n}return N(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(pC(e))throw DI("ref() expected a child path but got a URL, use refFromURL instead.");return new dC(oC(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!pC(e))throw DI("refFromURL() expected a full URL but got a child path, use ref() instead.");try{FI.makeFromUrl(e,this._delegate.host)}catch(t){throw DI("refFromUrl() expected a valid full URL but got an invalid one.")}return new dC(oC(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};sC(this._delegate,e,t,n)}}]),e}();function pC(e){return/^[A-Za-z]+:\/\//.test(e)}function vC(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new hC(r,i)}!function(e){var t={TaskState:DT,TaskEvent:OT,StringFormat:ZI,Storage:hC,Reference:dC};e.INTERNAL.registerComponent(new we("storage-compat",vC,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.2")}(Kt);var mC,gC=Kt.initializeApp({apiKey:"AIzaSyBeGxpyW7-XKT4scH41JCzn2Tzb3s7sveY",authDomain:"sentiment-6696b.firebaseapp.com",databaseURL:"https://sentiment-6696b-default-rtdb.firebaseio.com",projectId:"sentiment-6696b",storageBucket:"sentiment-6696b.appspot.com",messagingSenderId:"929145383886",appId:"1:929145383886:web:4059c05a3f9aebca45199f",measurementId:"G-38C03L0RC1"}),yC=gC.auth(),bC=Kt.storage(),kC=new Kt.auth.GoogleAuthProvider,wC=new Kt.auth.FacebookAuthProvider,xC=gC.firestore(),_C=t.createContext();function SC(){return(0,t.useContext)(_C)}function EC(e){var n=e.children,r=E((0,t.useContext)(I)[1],2),i=r[0],a=r[1],o=E((0,t.useState)(i),2),s=o[0],u=(o[1],E((0,t.useState)(!0),2)),c=u[0],l=u[1],f=E((0,t.useState)(null!=i),2),d=f[0],h=f[1];function v(e,t){try{xC.collection(e).doc("access_info").set({name:t,running_count:0})}catch(n){console.log(n)}}(0,t.useEffect)((function(){h(null!=i)}),[i]),(0,t.useEffect)((function(){return yC.onAuthStateChanged((function(e){a(e),l(!1)}))}),[]);var m={currentUser:s,signup:function(e,t){return h(!0),yC.createUserWithEmailAndPassword(e,t)},login:function(e,t){return h(!0),yC.signInWithEmailAndPassword(e,t)},logout:function(){return h(!1),a(null),console.log(d),yC.signOut()},resetPassword:function(e){return yC.sendPasswordResetEmail(e)},updateEmail:function(e){return s.updateEmail(e)},updatePassword:function(e){return s.updatePassword(e)},getuser:function(){return yC.currentUser.uid},initDBCollection:v,isAuthenticated:function(){return d},googleSignIn:function(){yC.signInWithPopup(kC).then((function(e){var t=e.credential;return 1==e.additionalUserInfo.isNewUser&&v(e.user.uid,e.user.displayName),h(!0),t})).catch((function(e){h(!1);var t=e.code,n=e.message,r=e.email,i=e.credential;console.log(t,n,r,i)}))},facebookSignIn:function(){yC.signInWithPopup(wC).then((function(e){var t=e.credential;return 1==e.additionalUserInfo.isNewUser&&v(e.user.uid,e.user.displayName),h(!0),t})).catch((function(e){h(!1);var t=e.code,n=e.message,r=e.email,i=e.credential;console.log(t,n,r,i)}))}};return(0,p.jsx)(_C.Provider,{value:m,children:!c&&n})}function IC(){return IC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IC.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(mC||(mC={}));var TC,CC="popstate";function RC(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function NC(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function AC(e,t){return{usr:e.state,key:e.key,idx:t}}function OC(e,t,n,r){return void 0===n&&(n=null),IC({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?PC(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function DC(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function PC(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function LC(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=mC.Pop,f=null,d=h();function h(){return(c.state||{idx:null}).idx}function p(){l=mC.Pop;var e=h(),t=null==e?null:e-d;d=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:DC(e);return RC(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,c.replaceState(IC({},c.state,{idx:d}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(CC,p),f=e,function(){o.removeEventListener(CC,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=mC.Push;var r=OC(m.location,e,t);n&&n(r,e);var i=AC(r,d=h()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(s){o.location.assign(a)}u&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=mC.Replace;var r=OC(m.location,e,t);n&&n(r,e);var i=AC(r,d=h()),a=m.createHref(r);c.replaceState(i,"",a),u&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(TC||(TC={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function MC(e,t,n){void 0===n&&(n="/");var r=JC(("string"===typeof t?PC(t):t).pathname||"/",n);if(null==r)return null;var i=jC(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=KC(i[o],YC(r));return a}function jC(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(RC(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=eR([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(RC(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),jC(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:HC(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=A(UC(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function UC(e){var t=e.split("/");if(0===t.length)return[];var n=Qt(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=UC(i.join("/")),u=[];return u.push.apply(u,ye(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,ye(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var FC=/^:\w+$/,VC=3,zC=2,BC=1,qC=10,GC=-2,WC=function(e){return"*"===e};function HC(e,t){var n=e.split("/"),r=n.length;return n.some(WC)&&(r+=GC),t&&(r+=zC),n.filter((function(e){return!WC(e)})).reduce((function(e,t){return e+(FC.test(t)?VC:""===t?BC:qC)}),r)}function KC(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=QC({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:eR([i,l.pathname]),pathnameBase:tR(eR([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=eR([i,l.pathnameBase]))}return a}function QC(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);NC("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=E(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return NC(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function YC(e){try{return decodeURI(e)}catch(t){return NC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function JC(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function XC(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function $C(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ZC(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=PC(e):(RC(!(i=IC({},e)).pathname||!i.pathname.includes("?"),XC("?","pathname","search",i)),RC(!i.pathname||!i.pathname.includes("#"),XC("#","pathname","hash",i)),RC(!i.search||!i.search.includes("#"),XC("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?PC(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:nR(a),hash:rR(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),d=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!d||(l.pathname+="/"),l}var eR=function(e){return e.join("/").replace(/\/\/+/g,"/")},tR=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},nR=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},rR=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},iR=function(e){P(n,e);var t=j(n);function n(){return C(this,n),t.apply(this,arguments)}return N(n)}(F(Error));function aR(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var oR=["post","put","patch","delete"],sR=(new Set(oR),["get"].concat(oR));new Set(sR),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");var uR="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},cR=t.useState,lR=t.useEffect,fR=t.useLayoutEffect,dR=t.useDebugValue;function hR(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!uR(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var pR=t.createContext(null);var vR=t.createContext(null);var mR=t.createContext(null);var gR=t.createContext(null);var yR=t.createContext(null);var bR=t.createContext({outlet:null,matches:[]});var kR=t.createContext(null);function wR(){return wR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wR.apply(this,arguments)}function xR(){return null!=t.useContext(yR)}function _R(){return xR()||RC(!1),t.useContext(yR).location}function SR(){xR()||RC(!1);var e=t.useContext(gR),n=e.basename,r=e.navigator,i=t.useContext(bR).matches,a=_R().pathname,o=JSON.stringify($C(i).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);t.useEffect((function(){s.current=!0}));var u=t.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=ZC(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:eR([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return u}function ER(){var e=t.useContext(bR).matches,n=e[e.length-1];return n?n.params:{}}function IR(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(bR).matches,a=_R().pathname,o=JSON.stringify($C(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return ZC(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function TR(){var e=function(){var e,n=t.useContext(kR),r=DR(RR.UseRouteError),i=PR(RR.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=aR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var CR,RR,NR=function(e){P(r,e);var n=j(r);function r(e){var t;return C(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return N(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(bR.Provider,{value:this.props.routeContext},t.createElement(kR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function AR(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(pR);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(bR.Provider,{value:n},i)}function OR(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||RC(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,c=null;r&&(c=o.route.ErrorBoundary?t.createElement(o.route.ErrorBoundary,null):o.route.errorElement?o.route.errorElement:t.createElement(TR,null));var l=n.concat(i.slice(0,s+1)),f=function(){var n=e;return u?n=c:o.route.Component?n=t.createElement(o.route.Component,null):o.route.element&&(n=o.route.element),t.createElement(AR,{match:o,routeContext:{outlet:e,matches:l},children:n})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===s)?t.createElement(NR,{location:r.location,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function DR(e){var n=t.useContext(vR);return n||RC(!1),n}function PR(e){var n=function(e){var n=t.useContext(bR);return n||RC(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||RC(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(CR||(CR={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(RR||(RR={}));var LR;function MR(e){RC(!1)}function jR(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?mC.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;xR()&&RC(!1);var d=r.replace(/^\/*/,"/"),h=t.useMemo((function(){return{basename:d,navigator:c,static:f}}),[d,c,f]);"string"===typeof o&&(o=PC(o));var p=o,v=p.pathname,m=void 0===v?"/":v,g=p.search,y=void 0===g?"":g,b=p.hash,k=void 0===b?"":b,w=p.state,x=void 0===w?null:w,_=p.key,S=void 0===_?"default":_,E=t.useMemo((function(){var e=JC(m,d);return null==e?null:{location:{pathname:e,search:y,hash:k,state:x,key:S},navigationType:u}}),[d,m,y,k,x,S,u]);return null==E?null:t.createElement(gR.Provider,{value:h},t.createElement(yR.Provider,{children:a,value:E}))}function UR(e){var n=e.children,r=e.location,i=t.useContext(pR);return function(e,n){xR()||RC(!1);var r,i=t.useContext(gR).navigator,a=t.useContext(vR),o=t.useContext(bR).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,_R());if(n){var f,d="string"===typeof n?PC(n):n;"/"===c||(null==(f=d.pathname)?void 0:f.startsWith(c))||RC(!1),r=d}else r=l;var h=r.pathname||"/",p=MC(e,{pathname:"/"===c?h:h.slice(c.length)||"/"}),v=OR(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:eR([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:eR([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,a||void 0);return n&&v?t.createElement(yR.Provider,{value:{location:wR({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:mC.Pop}},v):v}(i&&!n?i.router.routes:VR(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(LR||(LR={}));var FR=new Promise((function(){}));t.Component;function VR(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(ye(n),[i]);if(e.type!==t.Fragment){e.type!==MR&&RC(!1),e.props.index&&e.props.children&&RC(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=VR(e.props.children,a)),r.push(o)}else r.push.apply(r,VR(e.props.children,a))}})),r}function zR(){return zR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zR.apply(this,arguments)}function BR(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var qR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function GR(e){var n=e.basename,r=e.children,i=e.window,a=t.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),LC((function(e,t){var n=e.location;return OC("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:DC(t)}),null,e)}({window:i,v5Compat:!0}));var o=a.current,s=E(t.useState({action:o.action,location:o.location}),2),u=s[0],c=s[1];return t.useLayoutEffect((function(){return o.listen(c)}),[o]),t.createElement(jR,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:o})}var WR="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,HR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KR=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,f=e.preventScrollReset,d=BR(e,qR),h=t.useContext(gR).basename,p=!1;if("string"===typeof l&&HR.test(l)&&(r=l,WR)){var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),g=JC(m.pathname,h);m.origin===v.origin&&null!=g?l=g+m.search+m.hash:p=!0}var y=function(e,n){var r=(void 0===n?{}:n).relative;xR()||RC(!1);var i=t.useContext(gR),a=i.basename,o=i.navigator,s=IR(e,{relative:r}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:eR([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),b=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,c=SR(),l=_R(),f=IR(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:DC(l)===DC(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a});return t.createElement("a",zR({},d,{href:r||y,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:c}))}));var QR,YR;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(QR||(QR={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(YR||(YR={}));var JR=n(192),XR=n.n(JR),$R=["as","className","type","tooltip"],ZR={type:XR().string,tooltip:XR().bool,as:XR().elementType},eN=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,s=e.tooltip,u=void 0!==s&&s,l=f(e,$R);return(0,p.jsx)(r,c(c({},l),{},{ref:t,className:h()(i,"".concat(o,"-").concat(u?"tooltip":"feedback"))}))}));eN.displayName="Feedback",eN.propTypes=ZR;var tN=eN,nN=t.createContext({}),rN=["id","bsPrefix","className","type","isValid","isInvalid","as"],iN=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.className,o=e.type,s=void 0===o?"checkbox":o,u=e.isValid,l=void 0!==u&&u,d=e.isInvalid,v=void 0!==d&&d,m=e.as,y=void 0===m?"input":m,b=f(e,rN),k=(0,t.useContext)(nN).controlId;return i=g(i,"form-check-input"),(0,p.jsx)(y,c(c({},b),{},{ref:n,type:s,id:r||k,className:h()(a,i,l&&"is-valid",v&&"is-invalid")}))}));iN.displayName="FormCheckInput";var aN=iN,oN=["bsPrefix","className","htmlFor"],sN=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.htmlFor,o=f(e,oN),s=(0,t.useContext)(nN).controlId;return r=g(r,"form-check-label"),(0,p.jsx)("label",c(c({},o),{},{ref:n,htmlFor:a||s,className:h()(i,r)}))}));sN.displayName="FormCheckLabel";var uN=sN;var cN=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],lN=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,s=void 0!==o&&o,u=e.reverse,l=void 0!==u&&u,d=e.disabled,v=void 0!==d&&d,m=e.isValid,y=void 0!==m&&m,b=e.isInvalid,k=void 0!==b&&b,w=e.feedbackTooltip,x=void 0!==w&&w,_=e.feedback,S=e.feedbackType,E=e.className,I=e.style,T=e.title,C=void 0===T?"":T,R=e.type,N=void 0===R?"checkbox":R,A=e.label,O=e.children,D=e.as,P=void 0===D?"input":D,L=f(e,cN);i=g(i,"form-check"),a=g(a,"form-switch");var M=(0,t.useContext)(nN).controlId,j=(0,t.useMemo)((function(){return{controlId:r||M}}),[M,r]),U=!O&&null!=A&&!1!==A||function(e,n){return t.Children.toArray(e).some((function(e){return t.isValidElement(e)&&e.type===n}))}(O,uN),F=(0,p.jsx)(aN,c(c({},L),{},{type:"switch"===N?"checkbox":N,ref:n,isValid:y,isInvalid:k,disabled:v,as:P}));return(0,p.jsx)(nN.Provider,{value:j,children:(0,p.jsx)("div",{style:I,className:h()(E,U&&i,s&&"".concat(i,"-inline"),l&&"".concat(i,"-reverse"),"switch"===N&&a),children:O||(0,p.jsxs)(p.Fragment,{children:[F,U&&(0,p.jsx)(uN,{title:C,children:A}),_&&(0,p.jsx)(tN,{type:S,tooltip:x,children:_})]})})})}));lN.displayName="FormCheck";var fN=Object.assign(lN,{Input:aN,Label:uN}),dN=(n(24),["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),hN=t.forwardRef((function(e,n){var r,i,a=e.bsPrefix,o=e.type,u=e.size,l=e.htmlSize,d=e.id,v=e.className,m=e.isValid,y=void 0!==m&&m,b=e.isInvalid,k=void 0!==b&&b,w=e.plaintext,x=e.readOnly,_=e.as,S=void 0===_?"input":_,E=f(e,dN),I=(0,t.useContext)(nN).controlId;(a=g(a,"form-control"),w)?r=s({},"".concat(a,"-plaintext"),!0):(s(i={},a,!0),s(i,"".concat(a,"-").concat(u),u),r=i);return(0,p.jsx)(S,c(c({},E),{},{type:o,size:l,ref:n,readOnly:x,id:d||I,className:h()(v,r,y&&"is-valid",k&&"is-invalid","color"===o&&"".concat(a,"-color"))}))}));hN.displayName="FormControl";var pN=Object.assign(hN,{Feedback:tN}),vN=/-(.)/g;var mN=["className","bsPrefix","as"],gN=function(e){return e[0].toUpperCase()+(t=e,t.replace(vN,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function yN(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?gN(e):r,a=n.Component,o=n.defaultProps,s=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,s=t.as,u=void 0===s?a||"div":s,l=f(t,mN),d=c(c({},o),l),v=g(i,e);return(0,p.jsx)(u,c({ref:n,className:h()(r,v)},d))}));return s.displayName=i,s}var bN=yN("form-floating"),kN=["controlId","as"],wN=t.forwardRef((function(e,n){var r=e.controlId,i=e.as,a=void 0===i?"div":i,o=f(e,kN),s=(0,t.useMemo)((function(){return{controlId:r}}),[r]);return(0,p.jsx)(nN.Provider,{value:s,children:(0,p.jsx)(a,c(c({},o),{},{ref:n}))})}));wN.displayName="FormGroup";var xN=wN,_N=["as","bsPrefix","className"],SN=["className"];function EN(e){var n=e.as,r=e.bsPrefix,i=e.className,a=f(e,_N);r=g(r,"col");var o=(0,t.useContext)(m).breakpoints,s=(0,t.useContext)(m).minBreakpoint,u=[],l=[];return o.forEach((function(e){var t,n,i,o=a[e];delete a[e],"object"===typeof o&&null!=o?(t=o.span,n=o.offset,i=o.order):t=o;var c=e!==s?"-".concat(e):"";t&&u.push(!0===t?"".concat(r).concat(c):"".concat(r).concat(c,"-").concat(t)),null!=i&&l.push("order".concat(c,"-").concat(i)),null!=n&&l.push("offset".concat(c,"-").concat(n))})),[c(c({},a),{},{className:h().apply(void 0,[i].concat(u,l))}),{as:n,bsPrefix:r,spans:u}]}var IN=t.forwardRef((function(e,t){var n=E(EN(e),2),r=n[0],i=r.className,a=f(r,SN),o=n[1],s=o.as,u=void 0===s?"div":s,l=o.bsPrefix,d=o.spans;return(0,p.jsx)(u,c(c({},a),{},{ref:t,className:h()(i,!d.length&&l)}))}));IN.displayName="Col";var TN=IN,CN=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],RN=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"label":r,a=e.bsPrefix,o=e.column,s=void 0!==o&&o,u=e.visuallyHidden,l=void 0!==u&&u,d=e.className,v=e.htmlFor,m=f(e,CN),y=(0,t.useContext)(nN).controlId;a=g(a,"form-label");var b="col-form-label";"string"===typeof s&&(b="".concat(b," ").concat(b,"-").concat(s));var k=h()(d,a,l&&"visually-hidden",s&&b);return v=v||y,s?(0,p.jsx)(TN,c({ref:n,as:"label",className:k,htmlFor:v},m)):(0,p.jsx)(i,c({ref:n,className:k,htmlFor:v},m))}));RN.displayName="FormLabel";var NN=RN,AN=["bsPrefix","className","id"],ON=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.id,o=f(e,AN),s=(0,t.useContext)(nN).controlId;return r=g(r,"form-range"),(0,p.jsx)("input",c(c({},o),{},{type:"range",ref:n,className:h()(i,r),id:a||s}))}));ON.displayName="FormRange";var DN=ON,PN=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],LN=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,s=e.isValid,u=void 0!==s&&s,l=e.isInvalid,d=void 0!==l&&l,v=e.id,m=f(e,PN),y=(0,t.useContext)(nN).controlId;return r=g(r,"form-select"),(0,p.jsx)("select",c(c({},m),{},{size:a,ref:n,className:h()(o,r,i&&"".concat(r,"-").concat(i),u&&"is-valid",d&&"is-invalid"),id:v||y}))}));LN.displayName="FormSelect";var MN=LN,jN=["bsPrefix","className","as","muted"],UN=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,s=f(e,jN);return n=g(n,"form-text"),(0,p.jsx)(a,c(c({},s),{},{ref:t,className:h()(r,n,o&&"text-muted")}))}));UN.displayName="FormText";var FN=UN,VN=t.forwardRef((function(e,t){return(0,p.jsx)(fN,c(c({},e),{},{ref:t,type:"switch"}))}));VN.displayName="Switch";var zN=Object.assign(VN,{Input:fN.Input,Label:fN.Label}),BN=["bsPrefix","className","children","controlId","label"],qN=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,s=f(e,BN);return n=g(n,"form-floating"),(0,p.jsxs)(xN,c(c({ref:t,className:h()(r,n),controlId:a},s),{},{children:[i,(0,p.jsx)("label",{htmlFor:a,children:o})]}))}));qN.displayName="FloatingLabel";var GN=qN,WN=["className","validated","as"],HN={_ref:XR().any,validated:XR().bool,as:XR().elementType},KN=t.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=f(e,WN);return(0,p.jsx)(a,c(c({},o),{},{ref:t,className:h()(n,r&&"was-validated")}))}));KN.displayName="Form",KN.propTypes=HN;var QN=Object.assign(KN,{Group:xN,Control:pN,Floating:bN,Check:fN,Switch:zN,Label:NN,Text:FN,Range:DN,Select:MN,FloatingLabel:GN});function YN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YN(Object(n),!0).forEach((function(t){ZN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XN(e){return XN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XN(e)}function $N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||nA(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tA(e){return function(e){if(Array.isArray(e))return rA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||nA(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nA(e,t){if(e){if("string"===typeof e)return rA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rA(e,t):void 0}}function rA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var iA=function(){},aA={},oA={},sA=null,uA={mark:iA,measure:iA};try{"undefined"!==typeof window&&(aA=window),"undefined"!==typeof document&&(oA=document),"undefined"!==typeof MutationObserver&&(sA=MutationObserver),"undefined"!==typeof performance&&(uA=performance)}catch(xM){}var cA,lA,fA,dA,hA,pA=(aA.navigator||{}).userAgent,vA=void 0===pA?"":pA,mA=aA,gA=oA,yA=sA,bA=uA,kA=(mA.document,!!gA.documentElement&&!!gA.head&&"function"===typeof gA.addEventListener&&"function"===typeof gA.createElement),wA=~vA.indexOf("MSIE")||~vA.indexOf("Trident/"),xA="___FONT_AWESOME___",_A=16,SA="fa",EA="svg-inline--fa",IA="data-fa-i2svg",TA="data-fa-pseudo-element",CA="data-fa-pseudo-element-pending",RA="data-prefix",NA="data-icon",AA="fontawesome-i2svg",OA="async",DA=["HTML","HEAD","STYLE","SCRIPT"],PA=function(){try{return!0}catch(xM){return!1}}(),LA="classic",MA="sharp",jA=[LA,MA];function UA(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[LA]}})}var FA=UA((ZN(cA={},LA,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),ZN(cA,MA,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),cA)),VA=UA((ZN(lA={},LA,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),ZN(lA,MA,{solid:"fass",regular:"fasr",light:"fasl"}),lA)),zA=UA((ZN(fA={},LA,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),ZN(fA,MA,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),fA)),BA=UA((ZN(dA={},LA,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),ZN(dA,MA,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),dA)),qA=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,GA="fa-layers-text",WA=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,HA=UA((ZN(hA={},LA,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),ZN(hA,MA,{900:"fass",400:"fasr",300:"fasl"}),hA)),KA=[1,2,3,4,5,6,7,8,9,10],QA=KA.concat([11,12,13,14,15,16,17,18,19,20]),YA=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],JA={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},XA=new Set;Object.keys(VA[LA]).map(XA.add.bind(XA)),Object.keys(VA[MA]).map(XA.add.bind(XA));var $A=[].concat(jA,tA(XA),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",JA.GROUP,JA.SWAP_OPACITY,JA.PRIMARY,JA.SECONDARY]).concat(KA.map((function(e){return"".concat(e,"x")}))).concat(QA.map((function(e){return"w-".concat(e)}))),ZA=mA.FontAwesomeConfig||{};if(gA&&"function"===typeof gA.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=eA(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=gA.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(ZA[r]=i)}))}var eO={styleDefault:"solid",familyDefault:"classic",cssPrefix:SA,replacementClass:EA,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};ZA.familyPrefix&&(ZA.cssPrefix=ZA.familyPrefix);var tO=JN(JN({},eO),ZA);tO.autoReplaceSvg||(tO.observeMutations=!1);var nO={};Object.keys(eO).forEach((function(e){Object.defineProperty(nO,e,{enumerable:!0,set:function(t){tO[e]=t,rO.forEach((function(e){return e(nO)}))},get:function(){return tO[e]}})})),Object.defineProperty(nO,"familyPrefix",{enumerable:!0,set:function(e){tO.cssPrefix=e,rO.forEach((function(e){return e(nO)}))},get:function(){return tO.cssPrefix}}),mA.FontAwesomeConfig=nO;var rO=[];var iO=_A,aO={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var oO="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function sO(){for(var e=12,t="";e-- >0;)t+=oO[62*Math.random()|0];return t}function uO(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function cO(e){return e.classList?uO(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function lO(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function fO(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function dO(e){return e.size!==aO.size||e.x!==aO.x||e.y!==aO.y||e.rotate!==aO.rotate||e.flipX||e.flipY}var hO=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function pO(){var e=SA,t=EA,n=nO.cssPrefix,r=nO.replacementClass,i=hO;if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(s,".".concat(r))}return i}var vO=!1;function mO(){nO.autoAddCss&&!vO&&(!function(e){if(e&&kA){var t=gA.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=gA.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}gA.head.insertBefore(t,r)}}(pO()),vO=!0)}var gO={mixout:function(){return{dom:{css:pO,insertCss:mO}}},hooks:function(){return{beforeDOMElementCreation:function(){mO()},beforeI2svg:function(){mO()}}}},yO=mA||{};yO[xA]||(yO[xA]={}),yO[xA].styles||(yO[xA].styles={}),yO[xA].hooks||(yO[xA].hooks={}),yO[xA].shims||(yO[xA].shims=[]);var bO=yO[xA],kO=[],wO=!1;function xO(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?lO(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(lO(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(xO).join(""),"</").concat(t,">")}function _O(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}kA&&((wO=(gA.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(gA.readyState))||gA.addEventListener("DOMContentLoaded",(function e(){gA.removeEventListener("DOMContentLoaded",e),wO=1,kO.map((function(e){return e()}))})));var SO=function(e,t,n,r){var i,a,o,s=Object.keys(e),u=s.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[s[0]]):(i=0,o=n);i<u;i++)o=c(o,e[a=s[i]],a,e);return o};function EO(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function IO(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function TO(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=IO(t);"function"!==typeof bO.hooks.addPack||r?bO.styles[e]=JN(JN({},bO.styles[e]||{}),i):bO.hooks.addPack(e,IO(t)),"fas"===e&&TO("fa",t)}var CO,RO,NO,AO=bO.styles,OO=bO.shims,DO=(ZN(CO={},LA,Object.values(zA[LA])),ZN(CO,MA,Object.values(zA[MA])),CO),PO=null,LO={},MO={},jO={},UO={},FO={},VO=(ZN(RO={},LA,Object.keys(FA[LA])),ZN(RO,MA,Object.keys(FA[MA])),RO);function zO(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~$A.indexOf(n))?null:a}var BO=function(){var e=function(e){return SO(AO,(function(t,n,r){return t[r]=SO(n,e,{}),t}),{})};LO=e((function(e,t,n){if(t[3]&&(e[t[3]]=n),t[2]){var r=t[2].filter((function(e){return"number"===typeof e}));r.forEach((function(t){e[t.toString(16)]=n}))}return e})),MO=e((function(e,t,n){if(e[n]=n,t[2]){var r=t[2].filter((function(e){return"string"===typeof e}));r.forEach((function(t){e[t]=n}))}return e})),FO=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in AO||nO.autoFetchSvg,n=SO(OO,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});jO=n.names,UO=n.unicodes,PO=QO(nO.styleDefault,{family:nO.familyDefault})};function qO(e,t){return(LO[e]||{})[t]}function GO(e,t){return(FO[e]||{})[t]}function WO(e){return jO[e]||{prefix:null,iconName:null}}function HO(){return PO}!function(e){rO.push(e)}((function(e){PO=QO(e.styleDefault,{family:nO.familyDefault})})),BO();var KO=function(){return{prefix:null,iconName:null,rest:[]}};function QO(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,n=void 0===t?LA:t,r=FA[n][e],i=VA[n][e]||VA[n][r],a=e in bO.styles?e:null;return i||a||null}var YO=(ZN(NO={},LA,Object.keys(zA[LA])),ZN(NO,MA,Object.keys(zA[MA])),NO);function JO(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,r=void 0!==n&&n,i=(ZN(t={},LA,"".concat(nO.cssPrefix,"-").concat(LA)),ZN(t,MA,"".concat(nO.cssPrefix,"-").concat(MA)),t),a=null,o=LA;(e.includes(i[LA])||e.some((function(e){return YO[LA].includes(e)})))&&(o=LA),(e.includes(i[MA])||e.some((function(e){return YO[MA].includes(e)})))&&(o=MA);var s=e.reduce((function(e,t){var n=zO(nO.cssPrefix,t);if(AO[t]?(t=DO[o].includes(t)?BA[o][t]:t,a=t,e.prefix=t):VO[o].indexOf(t)>-1?(a=t,e.prefix=QO(t,{family:o})):n?e.iconName=n:t!==nO.replacementClass&&t!==i[LA]&&t!==i[MA]&&e.rest.push(t),!r&&e.prefix&&e.iconName){var s="fa"===a?WO(e.iconName):{},u=GO(e.prefix,e.iconName);s.prefix&&(a=null),e.iconName=s.iconName||u||e.iconName,e.prefix=s.prefix||e.prefix,"far"!==e.prefix||AO.far||!AO.fas||nO.autoFetchSvg||(e.prefix="fas")}return e}),KO());return(e.includes("fa-brands")||e.includes("fab"))&&(s.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(s.prefix="fad"),s.prefix||o!==MA||!AO.fass&&!nO.autoFetchSvg||(s.prefix="fass",s.iconName=GO(s.prefix,s.iconName)||s.iconName),"fa"!==s.prefix&&"fa"!==a||(s.prefix=HO()||"fas"),s}var XO=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=JN(JN({},e.definitions[t]||{}),i[t]),TO(t,i[t]);var n=zA[LA][t];n&&TO(n,i[t]),BO()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon,s=o[2];e[i]||(e[i]={}),s.length>0&&s.forEach((function(t){"string"===typeof t&&(e[i][t]=o)})),e[i][a]=o})),e}}],n&&$N(t.prototype,n),r&&$N(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),$O=[],ZO={},eD={},tD=Object.keys(eD);function nD(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(ZO[e]||[]).forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function rD(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(ZO[e]||[]).forEach((function(e){e.apply(null,n)}))}function iD(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return eD[e]?eD[e].apply(null,t):void 0}function aD(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||HO();if(t)return t=GO(n,t)||t,_O(oD.definitions,n,t)||_O(bO.styles,n,t)}var oD=new XO,sD={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kA?(rD("beforeI2svg",e),iD("pseudoElements2svg",e),iD("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===nO.autoReplaceSvg&&(nO.autoReplaceSvg=!0),nO.observeMutations=!0,function(e){kA&&(wO?setTimeout(e,0):kO.push(e))}((function(){lD({autoReplaceSvgRoot:t}),rD("watch",e)}))}},uD={icon:function(e){if(null===e)return null;if("object"===XN(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:GO(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=QO(e[0]);return{prefix:n,iconName:GO(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(nO.cssPrefix,"-"))>-1||e.match(qA))){var r=JO(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||HO(),iconName:GO(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=HO();return{prefix:i,iconName:GO(i,e)||e}}}},cD={noAuto:function(){nO.autoReplaceSvg=!1,nO.observeMutations=!1,rD("noAuto")},config:nO,dom:sD,parse:uD,library:oD,findIconDefinition:aD,toHtml:xO},lD=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?gA:e;(Object.keys(bO.styles).length>0||nO.autoFetchSvg)&&kA&&nO.autoReplaceSvg&&cD.dom.i2svg({node:t})};function fD(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return xO(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(kA){var t=gA.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function dD(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,s=e.symbol,u=e.title,c=e.maskId,l=e.titleId,f=e.extra,d=e.watchable,h=void 0!==d&&d,p=r.found?r:n,v=p.width,m=p.height,g="fak"===i,y=[nO.replacementClass,a?"".concat(nO.cssPrefix,"-").concat(a):""].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),b={children:[],attributes:JN(JN({},f.attributes),{},{"data-prefix":i,"data-icon":a,class:y,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(m)})},k=g&&!~f.classes.indexOf("fa-fw")?{width:"".concat(v/m*16*.0625,"em")}:{};h&&(b.attributes[IA]=""),u&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(l||sO())},children:[u]}),delete b.attributes.title);var w=JN(JN({},b),{},{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:o,symbol:s,styles:JN(JN({},k),f.styles)}),x=r.found&&n.found?iD("generateAbstractMask",w)||{children:[],attributes:{}}:iD("generateAbstractIcon",w)||{children:[],attributes:{}},_=x.children,S=x.attributes;return w.children=_,w.attributes=S,s?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(t,"-").concat(nO.cssPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:JN(JN({},i),{},{id:o}),children:r}]}]}(w):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(dO(o)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};i.style=fO(JN(JN({},a),{},{"transform-origin":"".concat(s.x+o.x/16,"em ").concat(s.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(w)}function hD(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,o=e.extra,s=e.watchable,u=void 0!==s&&s,c=JN(JN(JN({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});u&&(c[IA]="");var l=JN({},o.styles);dO(i)&&(l.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?_A:n,i=e.height,a=void 0===i?_A:i,o=e.startCentered,s=void 0!==o&&o,u="";return u+=s&&wA?"translate(".concat(t.x/iO-r/2,"em, ").concat(t.y/iO-a/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/iO,"em), calc(-50% + ").concat(t.y/iO,"em)) "):"translate(".concat(t.x/iO,"em, ").concat(t.y/iO,"em) "),u+="scale(".concat(t.size/iO*(t.flipX?-1:1),", ").concat(t.size/iO*(t.flipY?-1:1),") "),u+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var f=fO(l);f.length>0&&(c.style=f);var d=[];return d.push({tag:"span",attributes:c,children:[t]}),a&&d.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),d}var pD=bO.styles;function vD(e){var t=e[0],n=e[1],r=eA(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(nO.cssPrefix,"-").concat(JA.GROUP)},children:[{tag:"path",attributes:{class:"".concat(nO.cssPrefix,"-").concat(JA.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(nO.cssPrefix,"-").concat(JA.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var mD={found:!1,width:512,height:512};function gD(e,t){var n=t;return"fa"===t&&null!==nO.styleDefault&&(t=HO()),new Promise((function(r,i){iD("missingIconAbstract");if("fa"===n){var a=WO(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&pD[t]&&pD[t][e])return r(vD(pD[t][e]));!function(e,t){PA||nO.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(JN(JN({},mD),{},{icon:nO.showMissingIcons&&e&&iD("missingIconAbstract")||{}}))}))}var yD=function(){},bD=nO.measurePerformance&&bA&&bA.mark&&bA.measure?bA:{mark:yD,measure:yD},kD='FA "6.4.0"',wD=function(e){bD.mark("".concat(kD," ").concat(e," ends")),bD.measure("".concat(kD," ").concat(e),"".concat(kD," ").concat(e," begins"),"".concat(kD," ").concat(e," ends"))},xD={begin:function(e){return bD.mark("".concat(kD," ").concat(e," begins")),function(){return wD(e)}},end:wD},_D=function(){};function SD(e){return"string"===typeof(e.getAttribute?e.getAttribute(IA):null)}function ED(e){return gA.createElementNS("http://www.w3.org/2000/svg",e)}function ID(e){return gA.createElement(e)}function TD(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,n=void 0===t?"svg"===e.tag?ED:ID:t;if("string"===typeof e)return gA.createTextNode(e);var r=n(e.tag);return Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])})),(e.children||[]).forEach((function(e){r.appendChild(TD(e,{ceFn:n}))})),r}var CD={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(TD(e),t)})),null===t.getAttribute(IA)&&nO.keepOriginalSource){var n=gA.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~cO(t).indexOf(nO.replacementClass))return CD.replace(e);var r=new RegExp("".concat(nO.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===nO.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map((function(e){return xO(e)})).join("\n");t.setAttribute(IA,""),t.innerHTML=a}};function RD(e){e()}function ND(e,t){var n="function"===typeof t?t:_D;if(0===e.length)n();else{var r=RD;nO.mutateApproach===OA&&(r=mA.requestAnimationFrame||RD),r((function(){var t=!0===nO.autoReplaceSvg?CD.replace:CD[nO.autoReplaceSvg]||CD.replace,r=xD.begin("mutate");e.map(t),r(),n()}))}}var AD=!1;function OD(){AD=!0}function DD(){AD=!1}var PD=null;function LD(e){if(yA&&nO.observeMutations){var t=e.treeCallback,n=void 0===t?_D:t,r=e.nodeCallback,i=void 0===r?_D:r,a=e.pseudoElementsCallback,o=void 0===a?_D:a,s=e.observeMutationsRoot,u=void 0===s?gA:s;PD=new yA((function(e){if(!AD){var t=HO();uO(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!SD(e.addedNodes[0])&&(nO.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&nO.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&SD(e.target)&&~YA.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(RA):null,n=e.getAttribute?e.getAttribute(NA):null;return t&&n}(e.target)){var r=JO(cO(e.target)),a=r.prefix,s=r.iconName;e.target.setAttribute(RA,a||t),s&&e.target.setAttribute(NA,s)}else(u=e.target)&&u.classList&&u.classList.contains&&u.classList.contains(nO.replacementClass)&&i(e.target);var u}))}})),kA&&PD.observe(u,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function MD(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=JO(cO(e));return i.prefix||(i.prefix=HO()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(MO[e]||{})[t]}(i.prefix,e.innerText)||qO(i.prefix,EO(e.innerText))),!i.iconName&&nO.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function jD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=MD(e),r=n.iconName,i=n.prefix,a=n.rest,o=function(e){var t=uO(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return nO.autoA11y&&(n?t["aria-labelledby"]="".concat(nO.replacementClass,"-title-").concat(r||sO()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),s=nD("parseNodeAttributes",{},e),u=t.styleParser?function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}(e):[];return JN({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:aO,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:u,attributes:o}},s)}var UD=bO.styles;function FD(e){var t="nest"===nO.autoReplaceSvg?jD(e,{styleParser:!1}):jD(e);return~t.extra.classes.indexOf(GA)?iD("generateLayersText",e,t):iD("generateSvgReplacementMutation",e,t)}var VD=new Set;function zD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!kA)return Promise.resolve();var n=gA.documentElement.classList,r=function(e){return n.add("".concat(AA,"-").concat(e))},i=function(e){return n.remove("".concat(AA,"-").concat(e))},a=nO.autoFetchSvg?VD:jA.map((function(e){return"fa-".concat(e)})).concat(Object.keys(UD));a.includes("fa")||a.push("fa");var o=[".".concat(GA,":not([").concat(IA,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(IA,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var s=[];try{s=uO(e.querySelectorAll(o))}catch(xM){}if(!(s.length>0))return Promise.resolve();r("pending"),i("complete");var u=xD.begin("onTree"),c=s.reduce((function(e,t){try{var n=FD(t);n&&e.push(n)}catch(xM){PA||"MissingIcon"===xM.name&&console.error(xM)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){ND(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),u(),e()}))})).catch((function(e){u(),n(e)}))}))}function BD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;FD(e).then((function(e){e&&ND([e],t)}))}jA.map((function(e){VD.add("fa-".concat(e))})),Object.keys(FA[LA]).map(VD.add.bind(VD)),Object.keys(FA[MA]).map(VD.add.bind(VD)),VD=tA(VD);var qD=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?aO:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,s=void 0===o?null:o,u=t.maskId,c=void 0===u?null:u,l=t.title,f=void 0===l?null:l,d=t.titleId,h=void 0===d?null:d,p=t.classes,v=void 0===p?[]:p,m=t.attributes,g=void 0===m?{}:m,y=t.styles,b=void 0===y?{}:y;if(e){var k=e.prefix,w=e.iconName,x=e.icon;return fD(JN({type:"icon"},e),(function(){return rD("beforeDOMElementCreation",{iconDefinition:e,params:t}),nO.autoA11y&&(f?g["aria-labelledby"]="".concat(nO.replacementClass,"-title-").concat(h||sO()):(g["aria-hidden"]="true",g.focusable="false")),dD({icons:{main:vD(x),mask:s?vD(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:k,iconName:w,transform:JN(JN({},aO),r),symbol:a,title:f,maskId:c,titleId:h,extra:{attributes:g,styles:b,classes:v}})}))}},GD={mixout:function(){return{icon:(e=qD,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:aD(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:aD(i||{})),e(r,JN(JN({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=zD,e.nodeCallback=BD,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?gA:t,r=e.callback;return zD(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,a=t.prefix,o=t.transform,s=t.symbol,u=t.mask,c=t.maskId,l=t.extra;return new Promise((function(t,f){Promise.all([gD(n,a),u.iconName?gD(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(u){var f=eA(u,2),d=f[0],h=f[1];t([e,dD({icons:{main:d,mask:h},prefix:a,iconName:n,transform:o,symbol:s,maskId:c,title:r,titleId:i,extra:l,watchable:!0})])})).catch(f)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,o=fO(e.styles);return o.length>0&&(r.style=o),dO(a)&&(t=iD("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},WD={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return fD({type:"layer"},(function(){rD("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(nO.cssPrefix,"-layers")].concat(tA(r)).join(" ")},children:n}]}))}}}},HD={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,s=void 0===o?{}:o,u=t.styles,c=void 0===u?{}:u;return fD({type:"counter",content:e},(function(){return rD("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,n=e.title,r=e.extra,i=JN(JN(JN({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=fO(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:e.toString(),title:r,extra:{attributes:s,styles:c,classes:["".concat(nO.cssPrefix,"-layers-counter")].concat(tA(a))}})}))}}}},KD={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?aO:n,i=t.title,a=void 0===i?null:i,o=t.classes,s=void 0===o?[]:o,u=t.attributes,c=void 0===u?{}:u,l=t.styles,f=void 0===l?{}:l;return fD({type:"text",content:e},(function(){return rD("beforeDOMElementCreation",{content:e,params:t}),hD({content:e,transform:JN(JN({},aO),r),title:a,extra:{attributes:c,styles:f,classes:["".concat(nO.cssPrefix,"-layers-text")].concat(tA(s))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,a=null,o=null;if(wA){var s=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();a=u.width/s,o=u.height/s}return nO.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,hD({content:e.innerHTML,width:a,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},QD=new RegExp('"',"ug"),YD=[1105920,1112319];function JD(e,t){var n="".concat(CA).concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var a=uO(e.children).filter((function(e){return e.getAttribute(TA)===t}))[0],o=mA.getComputedStyle(e,t),s=o.getPropertyValue("font-family").match(WA),u=o.getPropertyValue("font-weight"),c=o.getPropertyValue("content");if(a&&!s)return e.removeChild(a),r();if(s&&"none"!==c&&""!==c){var l=o.getPropertyValue("content"),f=~["Sharp"].indexOf(s[2])?MA:LA,d=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(s[2])?VA[f][s[2].toLowerCase()]:HA[f][u],h=function(e){var t=e.replace(QD,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=YD[0]&&n<=YD[1],i=2===t.length&&t[0]===t[1];return{value:EO(i?t[0]:t),isSecondary:r||i}}(l),p=h.value,v=h.isSecondary,m=s[0].startsWith("FontAwesome"),g=qO(d,p),y=g;if(m){var b=function(e){var t=UO[e],n=qO("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(p);b.iconName&&b.prefix&&(g=b.iconName,d=b.prefix)}if(!g||v||a&&a.getAttribute(RA)===d&&a.getAttribute(NA)===y)r();else{e.setAttribute(n,y),a&&e.removeChild(a);var k={iconName:null,title:null,titleId:null,prefix:null,transform:aO,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},w=k.extra;w.attributes[TA]=t,gD(g,d).then((function(i){var a=dD(JN(JN({},k),{},{icons:{main:i,mask:KO()},prefix:d,iconName:y,extra:w,watchable:!0})),o=gA.createElement("svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=a.map((function(e){return xO(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function XD(e){return Promise.all([JD(e,"::before"),JD(e,"::after")])}function $D(e){return e.parentNode!==document.head&&!~DA.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(TA)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function ZD(e){if(kA)return new Promise((function(t,n){var r=uO(e.querySelectorAll("*")).filter($D).map(XD),i=xD.begin("searchPseudoElements");OD(),Promise.all(r).then((function(){i(),DD(),t()})).catch((function(){i(),DD(),n()}))}))}var eP=!1,tP=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},nP={mixout:function(){return{parse:{transform:function(e){return tP(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=tP(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),u="rotate(".concat(n.rotate," 0 0)"),c={outer:a,inner:{transform:"".concat(o," ").concat(s," ").concat(u)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:JN({},c.outer),children:[{tag:"g",attributes:JN({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:JN(JN({},t.icon.attributes),c.path)}]}]}}}},rP={x:0,y:0,width:"100%",height:"100%"};function iP(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var aP={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?JO(n.split(" ").map((function(e){return e.trim()}))):KO();return r.prefix||(r.prefix=HO()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,s=e.transform,u=i.width,c=i.icon,l=a.width,f=a.icon,d=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:s,containerWidth:l,iconWidth:u}),h={tag:"rect",attributes:JN(JN({},rP),{},{fill:"white"})},p=c.children?{children:c.children.map(iP)}:{},v={tag:"g",attributes:JN({},d.inner),children:[iP(JN({tag:c.tag,attributes:JN(JN({},c.attributes),d.path)},p))]},m={tag:"g",attributes:JN({},d.outer),children:[v]},g="mask-".concat(o||sO()),y="clip-".concat(o||sO()),b={tag:"mask",attributes:JN(JN({},rP),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,m]},k={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=f,"g"===t.tag?t.children:[t])},b]};return n.push(k,{tag:"rect",attributes:JN({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},rP)}),{children:n,attributes:r}}}},oP={provides:function(e){var t=!1;mA.matchMedia&&(t=mA.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:JN(JN({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=JN(JN({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:JN(JN({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:JN(JN({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:JN(JN({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:JN(JN({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:JN(JN({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:JN(JN({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:JN(JN({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;$O=e,ZO={},Object.keys(eD).forEach((function(e){-1===tD.indexOf(e)&&delete eD[e]})),$O.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===XN(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){ZO[e]||(ZO[e]=[]),ZO[e].push(r[e])}))}e.provides&&e.provides(eD)}))}([gO,GD,WD,HD,KD,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=ZD,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?gA:t;nO.searchPseudoElements&&ZD(n)}}},{mixout:function(){return{dom:{unwatch:function(){OD(),eP=!0}}}},hooks:function(){return{bootstrap:function(){LD(nD("mutationObserverCallbacks",{}))},noAuto:function(){PD&&PD.disconnect()},watch:function(e){var t=e.observeMutationsRoot;eP?DD():LD(nD("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},nP,aP,oP,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:cD});var sP=cD.parse,uP=cD.icon;function cP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cP(Object(n),!0).forEach((function(t){dP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fP(e){return fP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fP(e)}function dP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pP(e){return function(e){if(Array.isArray(e))return vP(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return vP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vP(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mP(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var gP=["style"];var yP=!1;try{yP=!0}catch(xM){}function bP(e){return e&&"object"===fP(e)&&e.prefix&&e.iconName&&e.icon?e:sP.icon?sP.icon(e):null===e?null:e&&"object"===fP(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function kP(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?dP({},e,t):{}}var wP=t.forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,a=e.className,o=e.title,s=e.titleId,u=e.maskId,c=bP(n),l=kP("classes",[].concat(pP(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,s=e.flash,u=e.spin,c=e.spinPulse,l=e.spinReverse,f=e.pulse,d=e.fixedWidth,h=e.inverse,p=e.border,v=e.listItem,m=e.flip,g=e.size,y=e.rotation,b=e.pull,k=(dP(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":s,"fa-spin":u,"fa-spin-reverse":l,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":d,"fa-inverse":h,"fa-border":p,"fa-li":v,"fa-flip":!0===m,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(g),"undefined"!==typeof g&&null!==g),dP(t,"fa-rotate-".concat(y),"undefined"!==typeof y&&null!==y&&0!==y),dP(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),dP(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(k).map((function(e){return k[e]?e:null})).filter((function(e){return e}))}(e)),pP(a.split(" ")))),f=kP("transform","string"===typeof e.transform?sP.transform(e.transform):e.transform),d=kP("mask",bP(r)),h=uP(c,lP(lP(lP(lP({},l),f),d),{},{symbol:i,title:o,titleId:s,maskId:u}));if(!h)return function(){var e;!yP&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var p=h.abstract,v={ref:t};return Object.keys(e).forEach((function(t){wP.defaultProps.hasOwnProperty(t)||(v[t]=e[t])})),xP(p[0],v)}));wP.displayName="FontAwesomeIcon",wP.propTypes={beat:XR().bool,border:XR().bool,beatFade:XR().bool,bounce:XR().bool,className:XR().string,fade:XR().bool,flash:XR().bool,mask:XR().oneOfType([XR().object,XR().array,XR().string]),maskId:XR().string,fixedWidth:XR().bool,inverse:XR().bool,flip:XR().oneOf([!0,!1,"horizontal","vertical","both"]),icon:XR().oneOfType([XR().object,XR().array,XR().string]),listItem:XR().bool,pull:XR().oneOf(["right","left"]),pulse:XR().bool,rotation:XR().oneOf([0,90,180,270]),shake:XR().bool,size:XR().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:XR().bool,spinPulse:XR().bool,spinReverse:XR().bool,symbol:XR().oneOfType([XR().bool,XR().string]),title:XR().string,titleId:XR().string,transform:XR().oneOfType([XR().string,XR().object]),swapOpacity:XR().bool},wP.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var xP=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=function(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=mP(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[mP(t)]=r}return e}),{attrs:{}}),o=r.style,s=void 0===o?{}:o,u=hP(r,gP);return a.attrs.style=lP(lP({},a.attrs.style),s),t.apply(void 0,[n.tag,lP(lP({},a.attrs),u)].concat(pP(i)))}.bind(null,t.createElement),_P={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},SP={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},EP=SP,IP=function(){var e=E((0,t.useState)(!1),2),n=e[0],r=e[1],i=E((0,t.useState)(""),2),a=(i[0],i[1]),o=SC(),s=o.isAuthenticated,u=o.logout;function c(){return(c=ke(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(""),e.prev=1,e.next=4,u();case 4:console.log("it worked"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return(0,p.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:(0,p.jsxs)("div",{className:"container",children:[(0,p.jsx)(KR,{className:"navbar-brand",to:"/",children:"Sentiment"}),(0,p.jsx)("button",{className:"navbar-toggler",type:"button",onClick:function(){r(!n)},children:(0,p.jsx)(wP,{icon:n?EP:_P})}),(0,p.jsx)("div",{className:"collapse navbar-collapse ".concat(n?"show":""),children:(0,p.jsx)("ul",{className:"navbar-nav ms-auto",children:s()?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("li",{className:"nav-item",children:(0,p.jsx)(KR,{className:"nav-link",to:"/",children:"Home"})}),(0,p.jsx)("li",{className:"nav-item",children:(0,p.jsx)(KR,{className:"nav-link",to:"/about-us",children:"About"})}),(0,p.jsx)("li",{className:"nav-item",children:(0,p.jsx)(KR,{className:"nav-link",to:"/record",children:"Record Performance"})}),(0,p.jsx)("li",{className:"nav-item",children:(0,p.jsx)(KR,{className:"nav-link",to:"/videos",children:"Videos"})}),(0,p.jsx)("li",{className:"nav-item",children:(0,p.jsx)(KR,{className:"nav-link",to:"/scripts",children:"Scripts"})}),(0,p.jsx)("li",{className:"nav-item",children:(0,p.jsx)(KR,{className:"nav-link",to:"/reports",children:"Reports"})}),(0,p.jsx)("li",{className:"nav-item",children:(0,p.jsx)(KR,{className:"nav-link",to:"/profile",children:"Profile"})}),(0,p.jsx)("li",{className:"nav-item",children:(0,p.jsx)(KR,{className:"nav-link",onClick:function(){return c.apply(this,arguments)},to:"/",children:"Sign Out"})})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("li",{className:"nav-item",children:(0,p.jsx)(KR,{className:"nav-link",to:"/",children:"Home"})}),(0,p.jsx)("li",{className:"nav-item",children:(0,p.jsx)(KR,{className:"nav-link",to:"/about-us",children:"About"})}),(0,p.jsx)("li",{className:"nav-item",children:(0,p.jsx)(KR,{className:"nav-link",to:"/login",children:"Login"})}),(0,p.jsx)("li",{className:"nav-item",children:(0,p.jsx)(KR,{className:"nav-link",to:"/signup",children:"Signup"})})]})})})]})})};function TP(){var e=(0,t.useRef)(),n=(0,t.useRef)(),r=(0,t.useRef)(),i=SC(),a=i.currentUser,o=i.updatePassword,s=i.updateEmail,u=E((0,t.useState)(""),2),c=(u[0],u[1]),l=E((0,t.useState)(!1),2),f=(l[0],l[1]),d=SR();function h(t){if(t.preventDefault(),n.current.value!==r.current.value)return c("Passwords do not match");var i=[];e.current.value!==a.email&&i.push(s(e.current.value)),n.current.value&&i.push(o(n.current.value)),Promise.all(i).then((function(){d("/")})).catch((function(){c("Failed to update account")})).finally((function(){f(!1)})),f(!1)}return(0,p.jsxs)("div",{className:"container-fluid",children:[(0,p.jsx)(IP,{}),(0,p.jsxs)("main",{children:[(0,p.jsxs)("section",{className:"hero",children:[(0,p.jsx)("h1",{children:"Welcome to your Profile page"}),(0,p.jsx)("p",{children:"Here you can update your email and/or password. When you're ready, click save changes."}),(0,p.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}})]}),(0,p.jsxs)(QN,{onSubmit:h,children:[(0,p.jsxs)(QN.Group,{id:"email",style:{marginBottom:"3px"},children:[(0,p.jsx)(QN.Label,{children:"Email"}),(0,p.jsx)(QN.Control,{type:"email",ref:e,defaultValue:a.email,required:!0})]}),(0,p.jsxs)(QN.Group,{id:"password",style:{marginBottom:"3px"},children:[(0,p.jsx)(QN.Label,{children:"Password"}),(0,p.jsx)(QN.Control,{type:"password",ref:n,required:!0})]}),(0,p.jsxs)(QN.Group,{id:"password-confirm",style:{marginBottom:"3px"},children:[(0,p.jsx)(QN.Label,{children:"Confirm Password"}),(0,p.jsx)(QN.Control,{type:"password",ref:r,required:!0})]}),(0,p.jsx)("section",{className:"call-to-action",children:(0,p.jsx)("a",{className:"hero-button",onClick:h,href:"/",children:"Save Changes"})})]})]}),(0,p.jsx)("footer",{children:(0,p.jsx)("p",{children:"\xa9 2023 Sentiment. All rights reserved."})})]})}function CP(){return CP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CP.apply(this,arguments)}n(993);function RP(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function NP(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function AP(e,n){return Object.keys(n).reduce((function(r,i){var a,o=r,s=o[RP(i)],u=o[i],c=l(o,[RP(i),i].map(NP)),f=n[i],d=function(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],s=a[1],u=void 0!==e,c=i.current;return i.current=u,!u&&c&&o!==n&&s(n),[u?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(u,s,e[f]),h=d[0],p=d[1];return CP({},c,((a={})[i]=h,a[f]=p,a))}),e)}function OP(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function DP(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function PP(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}OP.__suppressDeprecationWarning=!0,DP.__suppressDeprecationWarning=!0,PP.__suppressDeprecationWarning=!0;var LP=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function MP(e){var n=LP(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var jP="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product;"undefined"!==typeof document||jP?t.useLayoutEffect:t.useEffect,new WeakMap;var UP=["as","disabled"];function FP(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,s=e.onClick,u=e.tabIndex,c=void 0===u?0:u,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},f];var d=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:d,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),d(e))}},f]}var VP=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,UP),a=E(FP(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,p.jsx)(s,Object.assign({},i,o,{ref:t}))}));VP.displayName="Button";var zP=["onKeyDown"];var BP=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,zP),a=E(FP(Object.assign({tagName:"a"},i)),1)[0],o=MP((function(e){a.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,p.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,p.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));BP.displayName="Anchor";var qP=BP;var GP=n(168),WP=!1,HP=t.createContext(null),KP="unmounted",QP="exited",YP="entering",JP="entered",XP="exiting",$P=function(e){var n,r;function i(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=QP,r.appearStatus=YP):i=JP:i=t.unmountOnExit||t.mountOnEnter?KP:QP,r.state={status:i},r.nextCallback=null,r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,D(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===KP?{status:QP}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==YP&&n!==JP&&(t=YP):n!==YP&&n!==JP||(t=XP)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===YP){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:GP.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===QP&&this.setState({status:KP})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[GP.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||WP?this.safeSetState({status:JP},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:YP},(function(){t.props.onEntering(a,o),t.onTransitionEnd(u,(function(){t.safeSetState({status:JP},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:GP.findDOMNode(this);t&&!WP?(this.props.onExit(r),this.safeSetState({status:XP},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:QP},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:QP},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:GP.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===KP)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,l(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(HP.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},i}(t.Component);function ZP(){}$P.contextType=HP,$P.propTypes={},$P.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ZP,onEntering:ZP,onEntered:ZP,onExit:ZP,onExiting:ZP,onExited:ZP},$P.UNMOUNTED=KP,$P.EXITED=QP,$P.ENTERING=YP,$P.ENTERED=JP,$P.EXITING=XP;var eL=$P;function tL(e){var t=function(e){return e&&e.ownerDocument||document}(e);return t&&t.defaultView||window}var nL=/([A-Z])/g;var rL=/^ms-/;function iL(e){return function(e){return e.replace(nL,"-$1").toLowerCase()}(e).replace(rL,"-ms-")}var aL=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var oL=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(iL(t))||function(e,t){return tL(e).getComputedStyle(e,t)}(e).getPropertyValue(iL(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!aL.test(e))}(i)?n+=iL(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(iL(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},sL=!("undefined"===typeof window||!window.document||!window.document.createElement),uL=!1,cL=!1;try{var lL={get passive(){return uL=!0},get once(){return cL=uL=!0}};sL&&(window.addEventListener("test",lL,lL),window.removeEventListener("test",lL,!0))}catch(xM){}var fL=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!cL){var i=r.once,a=r.capture,o=n;!cL&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,uL?r:a)}e.addEventListener(t,n,r)};var dL=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var hL=function(e,t,n,r){return fL(e,t,n,r),function(){dL(e,t,n,r)}};function pL(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=hL(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function vL(e,t,n,r){null==n&&(n=function(e){var t=oL(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=pL(e,n,r),a=hL(e,"transitionend",t);return function(){i(),a()}}function mL(e,t){var n=oL(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function gL(e,t){var n=mL(e,"transitionDuration"),r=mL(e,"transitionDelay"),i=vL(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var yL=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var bL=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=yL(e),r=yL(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])};var kL,wL=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],xL=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,u=e.onExited,l=e.addEndListener,d=e.children,h=e.childRef,v=f(e,wL),m=(0,t.useRef)(null),g=bL(m,h),y=function(e){var t;g((t=e)&&"setState"in t?GP.findDOMNode(t):null!=t?t:null)},b=function(e){return function(t){e&&m.current&&e(m.current,t)}},k=(0,t.useCallback)(b(r),[r]),w=(0,t.useCallback)(b(i),[i]),x=(0,t.useCallback)(b(a),[a]),_=(0,t.useCallback)(b(o),[o]),S=(0,t.useCallback)(b(s),[s]),E=(0,t.useCallback)(b(u),[u]),I=(0,t.useCallback)(b(l),[l]);return(0,p.jsx)(eL,c(c({ref:n},v),{},{onEnter:k,onEntered:x,onEntering:w,onExit:_,onExited:E,onExiting:S,addEndListener:I,nodeRef:m,children:"function"===typeof d?function(e,t){return d(e,c(c({},t),{},{ref:y}))}:t.cloneElement(d,{ref:y})}))})),_L=xL,SL=["className","children","transitionClasses","onEnter"],EL=(s(kL={},YP,"show"),s(kL,JP,"show"),kL),IL=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,s=e.onEnter,u=c({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},f(e,SL)),l=(0,t.useCallback)((function(e,t){!function(e){e.offsetHeight}(e),null==s||s(e,t)}),[s]);return(0,p.jsx)(_L,c(c({ref:n,addEndListener:gL},u),{},{onEnter:l,childRef:i.ref,children:function(e,n){return t.cloneElement(i,c(c({},n),{},{className:h()("fade",r,i.props.className,EL[e],o[e])}))}}))}));IL.displayName="Fade";var TL=IL,CL=["className","variant","aria-label"],RL={"aria-label":XR().string,onClick:XR().func,variant:XR().oneOf(["white"])},NL=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=e["aria-label"],a=void 0===i?"Close":i,o=f(e,CL);return(0,p.jsx)("button",c({ref:t,type:"button",className:h()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":a},o))}));NL.displayName="CloseButton",NL.propTypes=RL;var AL=NL,OL=function(e){return t.forwardRef((function(t,n){return(0,p.jsx)("div",c(c({},t),{},{ref:n,className:h()(t.className,e)}))}))},DL=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],PL=OL("h4");PL.displayName="DivStyledAsH4";var LL=yN("alert-heading",{Component:PL}),ML=yN("alert-link",{Component:qP}),jL=t.forwardRef((function(e,t){var n=AP(e,{show:"onClose"}),r=n.bsPrefix,i=n.show,a=void 0===i||i,o=n.closeLabel,s=void 0===o?"Close alert":o,u=n.closeVariant,l=n.className,d=n.children,v=n.variant,m=void 0===v?"primary":v,y=n.onClose,b=n.dismissible,k=n.transition,w=void 0===k?TL:k,x=f(n,DL),_=g(r,"alert"),S=MP((function(e){y&&y(!1,e)})),E=!0===w?TL:w,I=(0,p.jsxs)("div",c(c({role:"alert"},E?void 0:x),{},{ref:t,className:h()(l,_,m&&"".concat(_,"-").concat(m),b&&"".concat(_,"-dismissible")),children:[b&&(0,p.jsx)(AL,{onClick:S,"aria-label":s,variant:u}),d]}));return E?(0,p.jsx)(E,c(c({unmountOnExit:!0},x),{},{ref:void 0,in:a,children:I})):a?I:null}));jL.displayName="Alert";var UL=Object.assign(jL,{Link:ML,Heading:LL});var FL=function(){var e=(0,t.useRef)(),n=(0,t.useRef)(),r=(0,t.useRef)(),i=(0,t.useRef)(),a=SC(),o=a.signup,s=a.getuser,u=a.initDBCollection,c=E((0,t.useState)(""),2),l=c[0],f=c[1],d=E((0,t.useState)(!1),2),h=(d[0],d[1]),v=SR();function m(e){return g.apply(this,arguments)}function g(){return(g=ke(me().mark((function t(a){var c;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n.current.value===i.current.value){t.next=3;break}return t.abrupt("return",f("Passwords do not match"));case 3:return t.prev=3,f(""),h(!0),t.next=8,o(e.current.value,n.current.value);case 8:c=s(),u(c,r.current.value),v("/"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),f("Failed to sign in");case 16:h(!1);case 17:case"end":return t.stop()}}),t,null,[[3,13]])})))).apply(this,arguments)}return(0,p.jsxs)("div",{className:"container",children:[(0,p.jsx)("main",{children:(0,p.jsxs)("section",{className:"hero",children:[(0,p.jsx)("h1",{children:"Sentiment"}),(0,p.jsx)("p",{style:{marginBottom:"4px"},children:"Try our application today and discover the power of emotion and tone analysis."}),(0,p.jsx)("p",{style:{fontSize:"40px",marginBottom:"20px"},children:"Signup"}),l&&(0,p.jsx)(UL,{variant:"danger",children:l}),(0,p.jsxs)(QN,{onSubmit:m,children:[(0,p.jsxs)(QN.Group,{id:"name",children:[(0,p.jsx)(QN.Label,{children:"First and Last Name"}),(0,p.jsx)(QN.Control,{type:"name",ref:r,required:!0})]}),(0,p.jsxs)(QN.Group,{id:"email",style:{marginBottom:"3px"},children:[(0,p.jsx)(QN.Label,{children:"Email"}),(0,p.jsx)(QN.Control,{type:"email",ref:e,required:!0})]}),(0,p.jsxs)(QN.Group,{id:"password",style:{marginBottom:"3px"},children:[(0,p.jsx)(QN.Label,{children:"Password"}),(0,p.jsx)(QN.Control,{type:"password",ref:n,required:!0})]}),(0,p.jsxs)(QN.Group,{id:"password-confirm",children:[(0,p.jsx)(QN.Label,{children:"Confirm Password"}),(0,p.jsx)(QN.Control,{type:"password",ref:i,required:!0})]}),(0,p.jsx)("div",{}),(0,p.jsx)("button",{style:{width:"50%"},className:"hero-button",onClick:m,children:"Sign Up"})]}),(0,p.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",(0,p.jsx)(KR,{to:"/login",children:"Log In"})]})]})}),(0,p.jsx)("footer",{children:(0,p.jsx)("p",{children:"\xa9 2023 Sentiment. All rights reserved."})})]})};var VL=function(){var e=E((0,t.useState)(""),2),n=(e[0],e[1],SC()),r=(n.logout,n.isAuthenticated);return SR(),(0,p.jsxs)("div",{className:"container",children:[(0,p.jsx)(IP,{}),(0,p.jsxs)("main",{children:[(0,p.jsxs)("section",{className:"hero",children:[(0,p.jsx)("h1",{children:"Welcome to Sentiment"}),(0,p.jsx)("p",{children:"Our application uses advanced technology to analyze emotions and tone via video and audio recordings. Our cutting-edge algorithms can accurately detect and analyze a wide range of emotions and tones, including happiness, sadness, anger, fear, and more."}),(0,p.jsx)("p",{children:"Whether you're looking to improve your public speaking skills, want to better understand your emotional state, or need to analyze the emotional tone of a conversation, our app can help. Simply record a video or audio clip, and our app will provide you with detailed insights into the emotions and tone present in the recording."}),(0,p.jsx)("p",{children:"Our application is perfect for individuals, businesses, and organizations looking to improve communication and better understand emotions. With our app, you can gain a deeper understanding of yourself and others, leading to more productive conversations and relationships."}),(0,p.jsx)("p",{children:"Try our application today and discover the power of emotion and tone analysis."}),r()?(0,p.jsx)(KR,{className:"hero-button",to:"/record",children:"Start a Recording"}):(0,p.jsx)(KR,{className:"hero-button",to:"/signup",children:"Join Us!"})]}),(0,p.jsxs)("section",{className:"features",children:[(0,p.jsxs)("div",{className:"feature",children:[(0,p.jsx)("i",{className:"fas fa-globe"}),(0,p.jsx)("h2",{children:"Global Reach"}),(0,p.jsx)("p",{children:"We're hosted on the world wide web. Tell your mom about us."})]}),(0,p.jsxs)("div",{className:"feature",children:[(0,p.jsx)("i",{className:"fas fa-clock"}),(0,p.jsx)("h2",{children:"24/7 Support"}),(0,p.jsx)("p",{children:"Just ask. I'll give you my phone number."})]}),(0,p.jsxs)("div",{className:"feature",children:[(0,p.jsx)("i",{className:"fas fa-lock"}),(0,p.jsx)("h2",{children:"Secure Transactions"}),(0,p.jsx)("p",{children:"Don't worry about your credit card information being stolen. We only take cash."})]})]})]}),(0,p.jsx)("footer",{children:(0,p.jsx)("p",{children:"\xa9 2023 Sentiment. All rights reserved."})})]})};var zL=function(){var e=SC(),n=(e.logout,e.isAuthenticated,(0,t.useRef)()),r=(0,t.useRef)(),i=SC(),a=i.login,o=i.googleSignIn,s=i.facebookSignIn,u=E((0,t.useState)(""),2),c=u[0],l=u[1],f=E((0,t.useState)(!1),2),d=(f[0],f[1]),h=SR();function v(e){return m.apply(this,arguments)}function m(){return(m=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,l(""),d(!0),e.next=6,a(n.current.value,r.current.value);case 6:h("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),l("Failed to sign in");case 12:d(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function g(){return(g=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,l(""),d(!0),e.next=6,o();case 6:h("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),l("Failed to sign in using Google credentials :(");case 12:d(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function y(){return(y=ke(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,l(""),d(!0),e.next=6,s();case 6:h("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),l("Failed to sign in");case 12:d(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return(0,p.jsxs)("div",{className:"container",children:[(0,p.jsx)("main",{children:(0,p.jsxs)("section",{className:"hero",children:[(0,p.jsx)("h1",{children:"Sentiment"}),(0,p.jsx)("p",{style:{marginBottom:"4px"},children:"Try our application today and discover the power of emotion and tone analysis."}),(0,p.jsx)("p",{style:{fontSize:"40px",marginBottom:"20px"},children:"Login"}),c&&(0,p.jsx)(UL,{variant:"danger",children:c}),(0,p.jsxs)(QN,{onSubmit:v,children:[(0,p.jsxs)(QN.Group,{id:"email",style:{marginBottom:"3px"},children:[(0,p.jsx)(QN.Label,{children:"Email"}),(0,p.jsx)(QN.Control,{type:"email",ref:n,required:!0})]}),(0,p.jsxs)(QN.Group,{id:"password",style:{marginBottom:"3px"},children:[(0,p.jsx)(QN.Label,{children:"Password"}),(0,p.jsx)(QN.Control,{type:"password",ref:r,required:!0})]}),(0,p.jsx)("div",{className:"w-100 text-center mt-3",children:(0,p.jsx)(KR,{to:"/forgot-password",children:"Forgot Password?"})}),(0,p.jsx)("button",{style:{width:"50%"},className:"hero-button",onClick:v,children:"Login with Email"}),(0,p.jsx)("br",{}),(0,p.jsx)("button",{style:{width:"50%",backgroundColor:"#f4c20d"},className:"hero-button",onClick:function(e){return g.apply(this,arguments)},children:"Login with Google"}),(0,p.jsx)("br",{}),(0,p.jsx)("button",{style:{width:"50%",backgroundColor:"#3b5998"},className:"hero-button",onClick:function(e){return y.apply(this,arguments)},children:"Login with Facebook"})]}),(0,p.jsxs)("div",{className:"w-100 text-center mt-2",children:["Don't have an account? ",(0,p.jsx)(KR,{to:"/signup",children:"Sign up"})," today."]})]})}),(0,p.jsx)("footer",{children:(0,p.jsx)("p",{children:"\xa9 2023 Sentiment. All rights reserved."})})]})},BL=["bsPrefix","className","variant","as"],qL=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,s=f(e,BL),u=g(n,"card-img");return(0,p.jsx)(o,c({ref:t,className:h()(i?"".concat(u,"-").concat(i):u,r)},s))}));qL.displayName="CardImg";var GL=qL,WL=t.createContext(null);WL.displayName="CardHeaderContext";var HL=WL,KL=["bsPrefix","className","as"],QL=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.as,o=void 0===a?"div":a,s=f(e,KL),u=g(r,"card-header"),l=(0,t.useMemo)((function(){return{cardHeaderBsPrefix:u}}),[u]);return(0,p.jsx)(HL.Provider,{value:l,children:(0,p.jsx)(o,c(c({ref:n},s),{},{className:h()(i,u)}))})}));QL.displayName="CardHeader";var YL=QL,JL=["bsPrefix","className","bg","text","border","body","children","as"],XL=OL("h5"),$L=OL("h6"),ZL=yN("card-body"),eM=yN("card-title",{Component:XL}),tM=yN("card-subtitle",{Component:$L}),nM=yN("card-link",{Component:"a"}),rM=yN("card-text",{Component:"p"}),iM=yN("card-footer"),aM=yN("card-img-overlay"),oM=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,s=e.body,u=void 0!==s&&s,l=e.children,d=e.as,v=void 0===d?"div":d,m=f(e,JL),y=g(n,"card");return(0,p.jsx)(v,c(c({ref:t},m),{},{className:h()(r,y,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:u?(0,p.jsx)(ZL,{children:l}):l}))}));oM.displayName="Card";var sM=Object.assign(oM,{Img:GL,Title:eM,Subtitle:tM,Body:ZL,Link:nM,Text:rM,Header:YL,Footer:iM,ImgOverlay:aM}),uM=["as","bsPrefix","variant","size","active","disabled","className"],cM=t.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=void 0===i?"primary":i,o=e.size,s=e.active,u=void 0!==s&&s,l=e.disabled,d=void 0!==l&&l,v=e.className,m=f(e,uM),y=g(r,"btn"),b=E(FP(c({tagName:n,disabled:d},m)),2),k=b[0],w=b[1].tagName;return(0,p.jsx)(w,c(c(c({},k),m),{},{ref:t,disabled:d,className:h()(v,y,u&&"active",a&&"".concat(y,"-").concat(a),o&&"".concat(y,"-").concat(o),m.href&&d&&"disabled")}))}));cM.displayName="Button";var lM=cM;function fM(){var e=(0,t.useRef)(),n=SC().resetPassword,r=E((0,t.useState)(""),2),i=r[0],a=r[1],o=E((0,t.useState)(""),2),s=o[0],u=o[1],c=E((0,t.useState)(!1),2),l=c[0],f=c[1];function d(){return(d=ke(me().mark((function t(r){return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,a(""),f(!0),t.next=6,n(e.current.value);case 6:u("Check your inbox for further instructions."),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a("Failed to send email");case 12:f(!1);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(sM,{children:(0,p.jsxs)(sM.Body,{children:[(0,p.jsx)("h2",{className:"text-center mb-4",children:"Login"}),i&&(0,p.jsx)(UL,{variant:"danger",children:i}),s&&(0,p.jsx)(UL,{variant:"success",children:s}),(0,p.jsxs)(QN,{onSubmit:function(e){return d.apply(this,arguments)},children:[(0,p.jsxs)(QN.Group,{id:"email",children:[(0,p.jsx)(QN.Label,{children:"Email"}),(0,p.jsx)(QN.Control,{type:"email",ref:e,required:!0})]}),(0,p.jsx)(lM,{disabled:l,className:"w-100",type:"submit",children:"Reset Password"})]}),(0,p.jsx)("div",{className:"w-100 text-center mt-3",children:(0,p.jsx)(KR,{to:"/login",children:"Login"})})]})}),(0,p.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an Account? ",(0,p.jsx)(KR,{to:"/signup",children:"Sign Up"})]})]})}var dM=function(){var e=(0,SC().getuser)();console.log(e);var n=E((0,t.useState)("option1"),2),r=n[0],i=n[1],a=E((0,t.useContext)(I)[0],2),o=(a[0],a[1]),s=E((0,t.useState)(""),2),u=(s[0],s[1],E((0,t.useState)(!1),2)),c=(u[0],u[1],SR(),E((0,t.useState)([]),2)),l=c[0],f=c[1];function d(){return d=ke(me().mark((function e(t){var n,r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xC.collection(t).doc("access_info"),r=0,e.abrupt("return",n.get().then((function(e){var n=e.data();r=n.running_count;for(var i=[],a=[],o=function(e){var n=xC.collection(t).doc(e.toString());a.push(n.get().then((function(t){if(t.exists){var n=t.data(),r=n.title,a=n.script,o=n.timestamp,s=n.dateUpdated;i.push({id:e,title:r,content:a,timestamp:o,dateUpdated:s})}})))},s=1;s<=r;s++)o(s);return Promise.all(a).then((function(){return i}))})).catch((function(e){return console.error("Error getting access info: ",e)})));case 3:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}return(0,t.useEffect)((function(){(function(e){return d.apply(this,arguments)})(e).then((function(e){return f(e)})).catch((function(e){return console.error("Error getting performances: ",e)}))}),[e],[l]),(0,p.jsxs)("div",{className:"container",children:[(0,p.jsx)(IP,{}),(0,p.jsx)("main",{children:(0,p.jsxs)("div",{children:[(0,p.jsx)("h1",{children:"Your Videos"}),(0,p.jsx)("button",{onClick:function(){fetch("https://134.209.213.235:443",{method:"POST",body:'{"selector": "getRunningCount", "uid": "OU38vh6cSqTeku8yqgeWAhV81t62"}'}).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.error(e)}))},children:"test"}),(0,p.jsxs)("select",{id:"select-options",value:r,onChange:function(e){i(e.target.value);var t=l;"id"==e.target.value?(t.sort((function(e,t){return e.id-t.id})),console.log("id")):"title"==e.target.value?(t.sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0})),console.log("title")):"created"==e.target.value?(t.sort((function(e,t){return e.timestamp>t.timestamp?-1:e.timestamp<t.timestamp?1:0})),console.log("created")):"updated"==e.target.value&&(t.sort((function(e,t){return e.dateUpdated>t.dateUpdated?-1:e.dateUpdated<t.dateUpdated?1:0})),console.log("updated")),console.log(t),f(t)},style:{width:"100%"},children:[(0,p.jsx)("option",{value:"id",children:"Video ID"}),(0,p.jsx)("option",{value:"title",children:"Title"}),(0,p.jsx)("option",{value:"created",children:"Date Created"}),(0,p.jsx)("option",{value:"updated",children:"Date Updated"})]}),(0,p.jsx)("button",{className:"sort-button",children:"Sort By"}),"\xa0",l.map((function(t){return(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[(0,p.jsx)(KR,{to:"/videos/".concat(t.id),style:{width:"100%"},onClick:function(){return function(e){var t=l.find((function(t){return t.id===e}));o(t)}(t.id)},className:"list-item",children:t.title}),(0,p.jsx)("button",{style:{display:"inline-block"},className:"hero-button",onClick:function(){return function(t){if(window.confirm("Are you sure you want to delete?")){var n=l.find((function(e){return e.id===t})).title;xC.collection(e).where("title","==",n).get().then((function(n){n.forEach((function(n){n.ref.delete().then((function(){console.log("Document successfully deleted!"),xC.collection(e).doc("access_info").get().then((function(n){var r=n.data();console.log(r);var i=bC.ref().child(e+"_"+t+".avi");console.log(e+"_"+t+".avi"),i.delete().then((function(){console.log("Successfully deleted")}))})),window.location.reload()})).catch((function(e){console.error("Error removing document: ",e)}))}))})).catch((function(e){console.error("Error querying documents: ",e)}))}}(t.id)},children:"Delete"}),"\xa0",(0,p.jsx)("button",{style:{display:"inline-block"},className:"hero-button",onClick:function(){return function(t){var n=new Date,r=n.getFullYear(),i=(n.getMonth()+1).toString().padStart(2,"0"),a=n.getDate().toString().padStart(2,"0"),o=n.getHours().toString().padStart(2,"0"),s=n.getMinutes().toString().padStart(2,"0"),u=n.getSeconds().toString().padStart(2,"0"),c="".concat(r,":").concat(i,":").concat(a,":").concat(o,":").concat(s,":").concat(u),f=l.find((function(e){return e.id===t})).title,d=xC.collection(e),h=prompt("Enter a new name:",f);h&&d.where("title","==",f).get().then((function(e){e.forEach((function(e){e.ref.update({title:h}).then((function(){console.log("Document successfully updated!"),d.doc(t.toString()).set({dateUpdated:c},{merge:!0}),window.location.reload()})).catch((function(e){console.error("Error updating document: ",e)}))}))})).catch((function(e){console.error("Error querying documents: ",e)}))}(t.id)},children:"Update"}),"\xa0",(0,p.jsx)("button",{style:{display:"inline-block"},className:"hero-button",onClick:function(){return function(t){var n=l.find((function(e){return e.id===t})).title;xC.collection(e).where("title","==",n).get().then((function(t){t.forEach((function(t){console.log(t.id),bC.ref().child(e+"_"+t.id+".avi").getDownloadURL().then((function(e){var t=window.open(),n=document.createElement("video");n.src=e,n.controls=!0,n.style.width="100%",n.style.height="100%",t.document.body.style.margin="0px",t.document.body.appendChild(n);var r=document.createTextNode("To download, click the three dots in the video player."),i=document.createElement("p");i.style.position="absolute",i.style.top="10px",i.style.left="10px",i.style.color="white",i.appendChild(r),t.document.body.appendChild(i)})).catch((function(e){console.log(e)}))}))})).catch((function(e){console.log("Error getting documents: ",e)}))}(t.id)},children:"Download"}),"\xa0"]},t.id)}))]})}),(0,p.jsx)("footer",{children:(0,p.jsx)("p",{children:"\xa9 2023 Sentiment. All rights reserved."})})]})};var hM=function(){SR();var e=E((0,t.useState)("option1"),2),n=e[0],r=e[1],i=(0,SC().getuser)(),a=E((0,t.useState)(""),2),o=(a[0],a[1],E((0,t.useState)(!1),2)),s=(o[0],o[1],E((0,t.useState)([]),2)),u=s[0],c=s[1];function l(){return l=ke(me().mark((function e(t){var n,r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xC.collection(t).doc("access_info"),r=0,e.abrupt("return",n.get().then((function(e){var n=e.data();r=n.running_count;for(var i=[],a=[],o=function(e){var n=xC.collection(t).doc(e.toString());a.push(n.get().then((function(t){if(t.exists){var n=t.data(),r=n.title,a=n.script,o=n.timestamp,s=n.dateUpdated;i.push({id:e,title:r,content:a,timestamp:o,dateUpdated:s})}})))},s=1;s<=r;s++)o(s);return Promise.all(a).then((function(){return i}))})).catch((function(e){return console.error("Error getting access info: ",e)})));case 3:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}return(0,t.useEffect)((function(){(function(e){return l.apply(this,arguments)})(i).then((function(e){c(e)})).catch((function(e){return console.error("Error getting scripts: ",e)}))}),[i],[u]),console.log(u),(0,p.jsxs)("div",{className:"container-fluid",children:[(0,p.jsx)(IP,{}),(0,p.jsx)("main",{children:(0,p.jsxs)("div",{children:[(0,p.jsx)("h1",{children:"Your Scripts"}),(0,p.jsxs)("select",{id:"select-options",value:n,onChange:function(e){r(e.target.value);var t=u;"id"==e.target.value?(t.sort((function(e,t){return e.id-t.id})),console.log("id")):"title"==e.target.value?(t.sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0})),console.log("title")):"created"==e.target.value?(t.sort((function(e,t){return e.timestamp>t.timestamp?-1:e.timestamp<t.timestamp?1:0})),console.log("created")):"updated"==e.target.value&&(t.sort((function(e,t){return e.dateUpdated>t.dateUpdated?-1:e.dateUpdated<t.dateUpdated?1:0})),console.log("updated")),console.log(t),c(t)},style:{width:"100%"},children:[(0,p.jsx)("option",{value:"id",children:"Script ID"}),(0,p.jsx)("option",{value:"title",children:"Title"}),(0,p.jsx)("option",{value:"created",children:"Date Created"}),(0,p.jsx)("option",{value:"updated",children:"Date Updated"})]}),(0,p.jsx)("button",{className:"sort-button",children:"Sort By"}),"\xa0",u.map((function(e){return(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[(0,p.jsx)("a",{href:"/scripts/".concat(e.id),style:{width:"100%"},className:"list-item",children:e.title}),(0,p.jsx)("button",{style:{display:"inline-block"},className:"hero-button",onClick:function(){return function(e){if(window.confirm("Are you sure you want to delete?")){var t=u.find((function(t){return t.id===e})).title;xC.collection(i).where("title","==",t).get().then((function(t){t.forEach((function(t){t.ref.delete().then((function(){console.log("Document successfully deleted!"),xC.collection(i).doc("access_info").get().then((function(t){var n=t.data();console.log(n),n.running_count;var r=bC.ref().child(i+"_"+e+".avi");console.log(i+"_"+e+".avi"),r.delete().then((function(){console.log("Successfully deleted")}))})),window.location.reload()})).catch((function(e){console.error("Error removing document: ",e)}))}))})).catch((function(e){console.error("Error querying documents: ",e)}))}}(e.id)},children:"Delete"}),"\xa0",(0,p.jsx)("button",{style:{display:"inline-block"},className:"hero-button",onClick:function(){return function(e){var t=new Date,n=t.getFullYear(),r=(t.getMonth()+1).toString().padStart(2,"0"),a=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),s=t.getMinutes().toString().padStart(2,"0"),c=t.getSeconds().toString().padStart(2,"0"),l="".concat(n,":").concat(r,":").concat(a,":").concat(o,":").concat(s,":").concat(c);console.log(e);var f=u.find((function(t){return t.id===e})).title,d=xC.collection(i),h=prompt("Enter a new name:",f);h&&d.where("title","==",f).get().then((function(t){t.forEach((function(t){t.ref.update({title:h}).then((function(){console.log("Document successfully updated!"),d.doc(e.toString()).set({dateUpdated:l},{merge:!0}),window.location.reload()})).catch((function(e){console.error("Error updating document: ",e)}))}))})).catch((function(e){console.error("Error querying documents: ",e)}))}(e.id)},children:"Update"}),"\xa0",(0,p.jsx)("button",{style:{display:"inline-block"},className:"hero-button",onClick:function(){return t=e.id,void xC.collection(i).doc(t.toString()).get().then((function(e){if(e.exists){var t=e.data(),n="Title: "+t.title+"\nScript: "+t.script;console.log(n);var r=new Blob([n],{type:"text/plain"}),i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=t.title,document.body.appendChild(a),a.click(),document.body.removeChild(a)}else console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}));var t},children:"Download"}),"\xa0"]},e.id)}))]})}),(0,p.jsx)("footer",{children:(0,p.jsx)("p",{children:"\xa9 2023 Sentiment. All rights reserved."})})]})};var pM=function(){SR();var e=E((0,t.useState)("option1"),2),n=e[0],r=e[1],i=(0,SC().getuser)(),a=E((0,t.useState)(""),2),o=(a[0],a[1],E((0,t.useState)(!1),2)),s=(o[0],o[1],E((0,t.useState)([]),2)),u=s[0],c=s[1];function l(){return l=ke(me().mark((function e(t){var n,r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xC.collection(t).doc("access_info"),r=0,e.abrupt("return",n.get().then((function(e){var n=e.data();r=n.running_count;for(var i=[],a=[],o=function(e){var n=xC.collection(t).doc(e.toString());a.push(n.get().then((function(t){if(t.exists){var n=t.data(),r=n.title,a=n.script,o=n.timestamp,s=n.dateUpdated;i.push({id:e,title:r,content:a,timestamp:o,dateUpdated:s})}})))},s=1;s<=r;s++)o(s);return Promise.all(a).then((function(){return i}))})).catch((function(e){return console.error("Error getting access info: ",e)})));case 3:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}return(0,t.useEffect)((function(){(function(e){return l.apply(this,arguments)})(i).then((function(e){c(e)})).catch((function(e){return console.error("Error getting reports: ",e)}))}),[i],[u]),console.log(u),(0,p.jsxs)("div",{className:"container-fluid",children:[(0,p.jsx)(IP,{}),(0,p.jsx)("main",{children:(0,p.jsxs)("div",{children:[(0,p.jsx)("h1",{children:"Your Reports"}),(0,p.jsxs)("select",{id:"select-options",value:n,onChange:function(e){r(e.target.value);var t=u;"id"==e.target.value?(t.sort((function(e,t){return e.id-t.id})),console.log("id")):"title"==e.target.value?(t.sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0})),console.log("title")):"created"==e.target.value?(t.sort((function(e,t){return e.timestamp>t.timestamp?-1:e.timestamp<t.timestamp?1:0})),console.log("created")):"updated"==e.target.value&&(t.sort((function(e,t){return e.dateUpdated>t.dateUpdated?-1:e.dateUpdated<t.dateUpdated?1:0})),console.log("updated")),console.log(t),c(t)},style:{width:"100%"},children:[(0,p.jsx)("option",{value:"id",children:"Report ID"}),(0,p.jsx)("option",{value:"title",children:"Title"}),(0,p.jsx)("option",{value:"created",children:"Date Created"}),(0,p.jsx)("option",{value:"updated",children:"Date Updated"})]}),(0,p.jsx)("button",{className:"sort-button",children:"Sort By"}),"\xa0",u.map((function(e){return(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[(0,p.jsx)("a",{href:"/reports/".concat(e.id),style:{width:"100%"},className:"list-item",children:e.title}),(0,p.jsx)("button",{style:{display:"inline-block"},className:"hero-button",onClick:function(){return function(e){if(window.confirm("Are you sure you want to delete?")){var t=u.find((function(t){return t.id===e})).title;xC.collection(i).where("title","==",t).get().then((function(t){t.forEach((function(t){t.ref.delete().then((function(){console.log("Document successfully deleted!"),xC.collection(i).doc("access_info").get().then((function(t){var n=t.data();console.log(n),n.running_count;var r=bC.ref().child(i+"_"+e+".avi");console.log(i+"_"+e+".avi"),r.delete().then((function(){console.log("Successfully deleted")}))})),window.location.reload()})).catch((function(e){console.error("Error removing document: ",e)}))}))})).catch((function(e){console.error("Error querying documents: ",e)}))}}(e.id)},children:"Delete"}),"\xa0",(0,p.jsx)("button",{style:{display:"inline-block"},className:"hero-button",onClick:function(){return function(e){var t=new Date,n=t.getFullYear(),r=(t.getMonth()+1).toString().padStart(2,"0"),a=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),s=t.getMinutes().toString().padStart(2,"0"),c=t.getSeconds().toString().padStart(2,"0"),l="".concat(n,":").concat(r,":").concat(a,":").concat(o,":").concat(s,":").concat(c);console.log(e);var f=u.find((function(t){return t.id===e})).title,d=xC.collection(i),h=prompt("Enter a new name:",f);h&&d.where("title","==",f).get().then((function(t){t.forEach((function(t){t.ref.update({title:h}).then((function(){console.log("Document successfully updated!"),d.doc(e.toString()).set({dateUpdated:l},{merge:!0}),window.location.reload()})).catch((function(e){console.error("Error updating document: ",e)}))}))})).catch((function(e){console.error("Error querying documents: ",e)}))}(e.id)},children:"Update"}),"\xa0",(0,p.jsx)("button",{style:{display:"inline-block"},className:"hero-button",onClick:function(){return t=e.id,void xC.collection(i).doc(t.toString()).get().then((function(e){if(e.exists){var t=e.data(),n="Title: "+t.title+"\nScript: "+t.script;console.log(n);var r=new Blob([n],{type:"text/plain"}),i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=t.title,document.body.appendChild(a),a.click(),document.body.removeChild(a)}else console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}));var t},children:"Download"}),"\xa0"]},e.id)}))]})}),(0,p.jsx)("footer",{children:(0,p.jsx)("p",{children:"\xa9 2023 Sentiment. All rights reserved."})})]})};n(790),n(495);var vM=function(){var e=E((0,t.useContext)(I)[0],2),n=e[0],r=(e[1],E((0,t.useState)(n),2)),i=r[0],a=(r[1],ER().id),o=(0,t.useRef)(),s=(0,t.useRef)(),u=(0,t.useState)("Not yet set"),c=SC(),l=c.getuser,f=(c.isAuthenticated,E((0,t.useState)(""),2)),d=(f[0],f[1]),h=E((0,t.useState)(!1),2),v=(h[0],h[1]),m=SR(),g=E((0,t.useState)(!1),2),y=(g[0],g[1],E((0,t.useState)(null),2)),b=(y[0],y[1],(0,t.useRef)(null)),k=E((0,t.useState)(null),2),w=k[0],x=k[1],_=E((0,t.useState)(!1),2),S=_[0],T=_[1],C=E((0,t.useState)(0),2),R=(C[0],C[1]),N=E((0,t.useState)(!1),2),A=(N[0],N[1]),O=E((0,t.useState)(""),2),D=(O[0],O[1],l()),P=E((0,t.useState)([]),2),L=P[0],M=P[1];function j(e){return U.apply(this,arguments)}function U(){return U=ke(me().mark((function e(t){var n,r,i,u;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(){return u=ke(me().mark((function e(){var t,n,i,u,c,l,f,d,h,p;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=s.current.value,n=o.current.value,i=new Date,u=i.getFullYear(),c=(i.getMonth()+1).toString().padStart(2,"0"),l=i.getDate().toString().padStart(2,"0"),f=i.getHours().toString().padStart(2,"0"),d=i.getMinutes().toString().padStart(2,"0"),h=i.getSeconds().toString().padStart(2,"0"),p="".concat(u,":").concat(c,":").concat(l,":").concat(f,":").concat(d,":").concat(h),xC.collection(r).doc(a).set({title:t,script:n,dateUpdated:p},{merge:!0}),console.log("Updated firestore!"),A(!0);case 13:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)},i=function(){return u.apply(this,arguments)},t.preventDefault(),(n=o.current.value)&&!(n.length<100)){e.next=7;break}return alert("The script should be at least 100 characters long."),e.abrupt("return");case 7:if(w){e.next=10;break}return alert("No video has been fetched."),e.abrupt("return");case 10:if(s.current.value&&!(s.current.length<5)){e.next=13;break}return alert("The title should be at least 5 characters long."),e.abrupt("return");case 13:r=l();try{d(""),v(!0),i()}catch(c){d("Failed to update the database")}console.log(s.current.value),console.log(o.current.value),alert("Upload successful!"),v(!1),m("/videos");case 20:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}function F(){return(F=ke(me().mark((function e(t){var n,r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/text-analysis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t})});case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,console.log("Result:",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,t.useEffect)((function(){xC.collection(D).doc(a.toString()).get().then((function(e){var t=e.data();console.log(t),M(t)}))}),[D,a]),console.log(n),function(){console.log(a),console.log(i);var e=i.title;xC.collection(D).where("title","==",e).get().then((function(e){e.forEach((function(e){console.log(e.id),bC.ref().child(D+"_"+e.id+".avi").getDownloadURL().then((function(e){x(e)})).catch((function(e){console.log(e)}))}))})).catch((function(e){console.log("Error getting documents: ",e)}))}(),function(e){F.apply(this,arguments)}(L.script),(0,p.jsxs)("div",{className:"container-fluid",children:[(0,p.jsx)(IP,{}),(0,p.jsxs)("main",{children:[(0,p.jsxs)("section",{className:"hero",children:[(0,p.jsx)("h1",{children:"Welcome to your Video Performance"}),(0,p.jsx)("p",{children:"Here you can view and modify a video performance of your public speaking skills and have your technique analyzed via facial and tonal analysis."}),(0,p.jsx)("p",{children:"Also, feel free to upload or supply a script via the text box below and we'll run our analysis on it to find the tone portrayed through the text."}),(0,p.jsx)("p",{children:"When you're ready, click start recording below to begin your journey to a more confident speech."}),w?(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,p.jsx)("video",{src:w,ref:b,controls:!0,onTimeUpdate:function(){return R(b.current.currentTime)},playsInline:!0,style:{width:"400px",height:"auto"}}),(0,p.jsx)("div",{style:{display:"flex",alignItems:"center"},children:S?(0,p.jsx)("button",{className:"hero-button",onClick:function(){T(!1),b.current.pause()},children:"Pause"}):(0,p.jsx)("div",{className:"hero-button-row"})})]}):(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{children:"Video fetch failed"}),(0,p.jsx)("br",{}),(0,p.jsxs)("div",{children:["Text Analysis:",(0,p.jsx)("br",{}),u]})]})]}),(0,p.jsxs)(QN.Group,{id:"title",children:[(0,p.jsx)(QN.Label,{children:"Title"}),(0,p.jsx)(QN.Control,{type:"text",ref:s,required:!0,defaultValue:i.title})]}),(0,p.jsxs)(QN,{onSubmit:j,children:[(0,p.jsxs)(QN.Group,{id:"title",children:[(0,p.jsx)(QN.Label,{children:"Type up your script here"}),(0,p.jsx)(QN.Control,{style:{width:"100%",height:"100%"},type:"text",as:"textarea",defaultValue:L.script,ref:o})]}),(0,p.jsxs)("div",{style:{marginTop:"5px"},children:[(0,p.jsx)(QN.Label,{children:"Upload script here:\xa0"}),(0,p.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];if(t.type.startsWith("text/")){var n=new FileReader;n.onload=function(e){var t=e.target.result;console.log(t),o.current.value=t},n.readAsText(t)}else alert("Invalid file type. Please select a text-based file.")}})]}),(0,p.jsx)("section",{className:"call-to-action",children:(0,p.jsx)("a",{className:"hero-button",onClick:j,children:"Save Performance"})})]}),(0,p.jsx)("section",{className:"hero",children:(0,p.jsx)("div",{children:(0,p.jsxs)("p",{children:["Text Analysis:",(0,p.jsx)("br",{}),u]})})})]}),(0,p.jsx)("footer",{children:(0,p.jsx)("p",{children:"\xa9 2023 Sentiment. All rights reserved."})})]})};var mM=function(){var e=(0,t.useRef)(),n=(0,t.useRef)(),r=SC().getuser,i=r(),a=E((0,t.useState)(""),2),o=(a[0],a[1]),s=E((0,t.useState)(!1),2),u=(s[0],s[1]),c=SR(),l=E((0,t.useState)(null),2),f=(l[0],l[1],E((0,t.useState)(0),2)),d=(f[0],f[1],E((0,t.useState)(!1),2)),h=(d[0],d[1]),v=E((0,t.useState)(""),2),m=(v[0],v[1],ER().id),g=E((0,t.useState)([]),2),y=g[0],b=g[1];function k(e){return w.apply(this,arguments)}function w(){return w=ke(me().mark((function t(i){var a,s,l,f;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f=function(){return(f=ke(me().mark((function t(){var r,i,a,o,u,c,l,f;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.current.value.trim(),e.current.value.trim(),r=new Date,i=r.getFullYear(),a=(r.getMonth()+1).toString().padStart(2,"0"),o=r.getDate().toString().padStart(2,"0"),u=r.getHours().toString().padStart(2,"0"),c=r.getMinutes().toString().padStart(2,"0"),l=r.getSeconds().toString().padStart(2,"0"),f="".concat(i,":").concat(a,":").concat(o,":").concat(u,":").concat(c,":").concat(l),xC.collection(s).doc(m).set({title:n.current.value,dateUpdated:f,script:e.current.value},{merge:!0}),console.log("Updated firestore!"),h(!0);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)},l=function(){return f.apply(this,arguments)},i.preventDefault(),(a=e.current.value)&&!(a.length<100)){t.next=7;break}return alert("The script should be at least 100 characters long."),t.abrupt("return");case 7:if(n.current.value&&!(n.current.value<5)){t.next=10;break}return alert("The title should be at least 5 characters long."),t.abrupt("return");case 10:s=r();try{o(""),u(!0),l()}catch(d){o("Failed to update the database")}alert("Upload successful!"),u(!1),c("/scripts");case 15:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}return(0,t.useEffect)((function(){xC.collection(i).doc(m.toString()).get().then((function(e){var t=e.data();console.log(t),b(t)}))}),[i,m]),(0,p.jsxs)("div",{className:"container-fluid",children:[(0,p.jsx)(IP,{}),(0,p.jsxs)("main",{children:[(0,p.jsxs)("section",{className:"hero",children:[(0,p.jsx)("h1",{children:"Here's your Script"}),(0,p.jsx)("p",{children:"Welcome to your script editor! Here, you can view, edit, and manage all of your scripts in one place. Whether you're a seasoned writer or just starting out, this editor is designed to make your writing process as smooth and streamlined as possible."}),(0,p.jsx)("p",{children:'We\'ve designed this editor to be as intuitive as possible, but if you have any questions or run into any issues, our support team is always here to help. Just click the "About" button in the navbar above to get in touch.'}),(0,p.jsx)("p",{children:"Happy writing!"})]}),(0,p.jsxs)(QN.Group,{id:"title",children:[(0,p.jsx)(QN.Label,{children:"Title"}),(0,p.jsx)(QN.Control,{type:"text",ref:n,defaultValue:y.title,required:!0})]}),(0,p.jsxs)(QN,{onSubmit:k,children:[(0,p.jsxs)(QN.Group,{id:"title",children:[(0,p.jsx)(QN.Label,{children:"Type up your script here"}),(0,p.jsx)(QN.Control,{style:{width:"100%",height:"100%"},defaultValue:y.script,type:"text",as:"textarea",ref:e})]}),(0,p.jsxs)("div",{style:{marginTop:"5px"},children:[(0,p.jsx)(QN.Label,{children:"Upload script here:\xa0"}),(0,p.jsx)("input",{type:"file",onChange:function(t){var n=t.target.files[0];if(n.type.startsWith("text/")){var r=new FileReader;r.onload=function(t){var n=t.target.result;console.log(n),e.current.value=n},r.readAsText(n)}else alert("Invalid file type. Please select a text-based file.")}})]}),(0,p.jsx)("section",{className:"call-to-action",children:(0,p.jsx)("a",{className:"hero-button",onClick:k,href:"/performance-id",children:"Save Script"})})]})]}),(0,p.jsx)("footer",{children:(0,p.jsx)("p",{children:"\xa9 2023 Sentiment. All rights reserved."})})]})};var gM=function(){var e=(0,t.useRef)(),n=(0,t.useRef)(),r=SC().getuser,i=r(),a=E((0,t.useState)(""),2),o=(a[0],a[1]),s=E((0,t.useState)(!1),2),u=(s[0],s[1]),c=SR(),l=E((0,t.useState)(null),2),f=(l[0],l[1],E((0,t.useState)(0),2)),d=(f[0],f[1],E((0,t.useState)(!1),2)),h=(d[0],d[1]),v=E((0,t.useState)(""),2),m=(v[0],v[1],ER().id),g=E((0,t.useState)([]),2),y=g[0],b=g[1];function k(e){return w.apply(this,arguments)}function w(){return w=ke(me().mark((function t(i){var a,s,l,f;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f=function(){return(f=ke(me().mark((function t(){var r,i,a,o,u,c,l,f;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.current.value.trim(),e.current.value.trim(),r=new Date,i=r.getFullYear(),a=(r.getMonth()+1).toString().padStart(2,"0"),o=r.getDate().toString().padStart(2,"0"),u=r.getHours().toString().padStart(2,"0"),c=r.getMinutes().toString().padStart(2,"0"),l=r.getSeconds().toString().padStart(2,"0"),f="".concat(i,":").concat(a,":").concat(o,":").concat(u,":").concat(c,":").concat(l),xC.collection(s).doc(m).set({title:n.current.value,dateUpdated:f,script:e.current.value},{merge:!0}),console.log("Updated firestore!"),h(!0);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)},l=function(){return f.apply(this,arguments)},i.preventDefault(),(a=e.current.value)&&!(a.length<100)){t.next=7;break}return alert("The script should be at least 100 characters long."),t.abrupt("return");case 7:if(n.current.value&&!(n.current.value<5)){t.next=10;break}return alert("The title should be at least 5 characters long."),t.abrupt("return");case 10:s=r();try{o(""),u(!0),l()}catch(d){o("Failed to update the database")}alert("Upload successful!"),u(!1),c("/scripts");case 15:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}return(0,t.useEffect)((function(){xC.collection(i).doc(m.toString()).get().then((function(e){var t=e.data();console.log(t),b(t)}))}),[i,m]),(0,p.jsxs)("div",{className:"container-fluid",children:[(0,p.jsx)(IP,{}),(0,p.jsxs)("main",{children:[(0,p.jsxs)("section",{className:"hero",children:[(0,p.jsx)("h1",{children:"Here's your Script"}),(0,p.jsx)("p",{children:"Welcome to your script editor! Here, you can view, edit, and manage all of your scripts in one place. Whether you're a seasoned writer or just starting out, this editor is designed to make your writing process as smooth and streamlined as possible."}),(0,p.jsx)("p",{children:'We\'ve designed this editor to be as intuitive as possible, but if you have any questions or run into any issues, our support team is always here to help. Just click the "About" button in the navbar above to get in touch.'}),(0,p.jsx)("p",{children:"Happy writing!"})]}),(0,p.jsxs)(QN.Group,{id:"title",children:[(0,p.jsx)(QN.Label,{children:"Title"}),(0,p.jsx)(QN.Control,{type:"text",ref:n,defaultValue:y.title,required:!0})]}),(0,p.jsxs)(QN,{onSubmit:k,children:[(0,p.jsxs)(QN.Group,{id:"title",children:[(0,p.jsx)(QN.Label,{children:"Type up your script here"}),(0,p.jsx)(QN.Control,{style:{width:"100%",height:"100%"},defaultValue:y.script,type:"text",as:"textarea",ref:e})]}),(0,p.jsxs)("div",{style:{marginTop:"5px"},children:[(0,p.jsx)(QN.Label,{children:"Upload script here:\xa0"}),(0,p.jsx)("input",{type:"file",onChange:function(t){var n=t.target.files[0];if(n.type.startsWith("text/")){var r=new FileReader;r.onload=function(t){var n=t.target.result;console.log(n),e.current.value=n},r.readAsText(n)}else alert("Invalid file type. Please select a text-based file.")}})]}),(0,p.jsx)("section",{className:"call-to-action",children:(0,p.jsx)("a",{className:"hero-button",onClick:k,href:"/performance-id",children:"Save Script"})})]})]}),(0,p.jsx)("footer",{children:(0,p.jsx)("p",{children:"\xa9 2023 Sentiment. All rights reserved."})})]})};var yM=function(){var e=(0,t.useRef)(),n=(0,t.useRef)(),r=SC(),i=r.getuser,a=(r.isAuthenticated,r.logout,E((0,t.useState)(""),2)),o=(a[0],a[1]),s=E((0,t.useState)(!1),2),u=(s[0],s[1]),c=SR(),l=E((0,t.useState)(!1),2),f=l[0],d=l[1],h=E((0,t.useState)(null),2),v=h[0],m=h[1],g=E((0,t.useState)(null),2),y=g[0],b=g[1],k=E((0,t.useState)(!1),2),w=k[0],x=k[1],_=E((0,t.useState)(0),2),S=(_[0],_[1]),I=E((0,t.useState)(!1),2),T=(I[0],I[1]),C=(0,t.useRef)(null),R=E((0,t.useState)(""),2),N=R[0],A=R[1];function O(e){return D.apply(this,arguments)}function D(){return D=ke(me().mark((function t(r){var a,s,l,f,d;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d=function(){return d=ke(me().mark((function t(r){var i,a,o,u,c,l,f,d,h;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.current.value.trim(),e.current.value.trim(),a=new Date,o=a.getFullYear(),u=(a.getMonth()+1).toString().padStart(2,"0"),c=a.getDate().toString().padStart(2,"0"),l=a.getHours().toString().padStart(2,"0"),f=a.getMinutes().toString().padStart(2,"0"),d=a.getSeconds().toString().padStart(2,"0"),h="".concat(o,":").concat(u,":").concat(c,":").concat(l,":").concat(f,":").concat(d),xC.collection(s).doc("access_info").set({running_count:r},{merge:!0}),xC.collection(s).doc(r.toString()).set({title:i,timestamp:h,dateUpdated:h,script:e.current.value.trim()}),console.log("Updated firestore!"),console.log(r,i,h),T(!0);case 15:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)},f=function(e){return d.apply(this,arguments)},r.preventDefault(),(a=e.current.value)&&!(a.length<100)){t.next=7;break}return alert("The script should be at least 100 characters long."),t.abrupt("return");case 7:if(v){t.next=10;break}return alert("No video has been recorded."),t.abrupt("return");case 10:if(N&&!(N.length<5)){t.next=13;break}return alert("The title should be at least 5 characters long."),t.abrupt("return");case 13:s=i(),xC.collection(s).doc("access_info").get().then((function(e){var t=e.data(),n=t.running_count+1;console.log(t),console.log(t.running_count);try{o(""),u(!0),l(n)}catch(r){o("Failed to upload the video")}try{o(""),u(!0),f(n)}catch(i){o("Failed to update the database")}c("/videos")})),l=function(e){var t=bC.ref(),n=e.toString()+".avi",r=i();t.child(r+"_".concat(n)).put(v).then((function(e){console.log("Uploaded a blob or file!",e),console.log(r+"_"+n),T(!0)}))},alert("Upload successful!"),u(!1);case 19:case"end":return t.stop()}}),t)}))),D.apply(this,arguments)}return(0,p.jsxs)("div",{className:"container-fluid",children:[(0,p.jsx)(IP,{}),(0,p.jsxs)("main",{children:[(0,p.jsxs)("section",{className:"hero",children:[(0,p.jsx)("h1",{children:"Welcome to your Recording Session"}),(0,p.jsx)("p",{children:"Here you can record a video performance of your public speaking skills and have your technique analyzed via facial and tonal analysis."}),(0,p.jsx)("p",{children:"Also, feel free to upload or supply a script via the text box below and we'll run our analysis on it to find the tone portrayed through the text."}),(0,p.jsx)("p",{children:"When you're ready, click start recording below to begin your journey to a more confident speech."}),y?(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,p.jsx)("video",{src:y,ref:C,controls:!0,onTimeUpdate:function(){return S(C.current.currentTime)},playsInline:!0,style:{width:"400px",height:"auto"}}),(0,p.jsx)("div",{style:{display:"flex",alignItems:"center"},children:w?(0,p.jsx)("button",{className:"hero-button",onClick:function(){x(!1),C.current.pause()},children:"Pause"}):(0,p.jsx)("div",{className:"hero-button-row",children:(0,p.jsx)("button",{className:"hero-button",onClick:function(){m(null),b(null),S(0),T(!1)},children:"Reset"})})})]}):(0,p.jsxs)("div",{children:[(0,p.jsx)("video",{ref:C,autoPlay:!0,muted:!0,playsInline:!0,style:{width:"400px",height:"auto"}}),(0,p.jsx)("div",{children:f?(0,p.jsx)("button",{className:"hero-button",onClick:function(){C.current.srcObject.getTracks().forEach((function(e){return e.stop()})),C.current.srcObject=null},children:"Stop Recording"}):(0,p.jsx)("button",{className:"hero-button",onClick:function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){C.current.srcObject=e;var t=new MediaRecorder(e),n=[];t.addEventListener("dataavailable",(function(e){n.push(e.data)})),t.addEventListener("stop",(function(){var e=new Blob(n,{type:"video/avi"});m(e),b(URL.createObjectURL(e)),d(!1)})),t.start(),d(!0)})).catch((function(e){console.error("Error accessing media devices:",e)}))},children:"Start Recording"})})]})]}),(0,p.jsxs)(QN.Group,{id:"title",children:[(0,p.jsx)(QN.Label,{children:"Title"}),(0,p.jsx)(QN.Control,{type:"text",ref:n,required:!0,onChange:function(e){return A(e.target.value)}})]}),(0,p.jsxs)(QN,{onSubmit:O,children:[(0,p.jsxs)(QN.Group,{id:"title",children:[(0,p.jsx)(QN.Label,{children:"Type up your script here"}),(0,p.jsx)(QN.Control,{style:{width:"100%",height:"100%"},type:"text",as:"textarea",ref:e})]}),(0,p.jsxs)("div",{style:{marginTop:"5px"},children:[(0,p.jsx)(QN.Label,{children:"Upload script here:\xa0"}),(0,p.jsx)("input",{type:"file",onChange:function(t){var n=t.target.files[0];if(n.type.startsWith("text/")){var r=new FileReader;r.onload=function(t){var n=t.target.result;console.log(n),e.current.value=n},r.readAsText(n)}else alert("Invalid file type. Please select a text-based file.")}})]}),(0,p.jsx)("section",{className:"call-to-action",children:(0,p.jsx)("a",{className:"hero-button",onClick:O,children:"Save Performance"})})]})]}),(0,p.jsx)("footer",{children:(0,p.jsx)("p",{children:"\xa9 2023 Sentiment. All rights reserved."})})]})};function bM(){var e=(0,t.useRef)(),n=(0,t.useRef)(),r=(0,t.useRef)(),i=SC(),a=i.currentUser,o=i.updatePassword,s=i.updateEmail,u=E((0,t.useState)(""),2),c=(u[0],u[1]),l=E((0,t.useState)(!1),2),f=(l[0],l[1]),d=SR();function h(t){if(t.preventDefault(),n.current.value!==r.current.value)return c("Passwords do not match");var i=[];e.current.value!==a.email&&i.push(s(e.current.value)),n.current.value&&i.push(o(n.current.value)),Promise.all(i).then((function(){d("/")})).catch((function(){c("Failed to update account")})).finally((function(){f(!1)})),f(!1)}return(0,p.jsxs)("div",{className:"container-fluid",children:[(0,p.jsx)(IP,{}),(0,p.jsxs)("main",{children:[(0,p.jsxs)("section",{className:"hero",children:[(0,p.jsx)("h1",{children:"Welcome to your Profile page"}),(0,p.jsx)("p",{children:"Here you can update your email and/or password. When you're ready, click save changes."}),(0,p.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}})]}),(0,p.jsxs)(QN,{onSubmit:h,children:[(0,p.jsxs)(QN.Group,{id:"email",style:{marginBottom:"3px"},children:[(0,p.jsx)(QN.Label,{children:"Email"}),(0,p.jsx)(QN.Control,{type:"email",ref:e,defaultValue:e,required:!0})]}),(0,p.jsxs)(QN.Group,{id:"password",style:{marginBottom:"3px"},children:[(0,p.jsx)(QN.Label,{children:"Password"}),(0,p.jsx)(QN.Control,{type:"password",ref:n,required:!0})]}),(0,p.jsxs)(QN.Group,{id:"password-confirm",style:{marginBottom:"3px"},children:[(0,p.jsx)(QN.Label,{children:"Confirm Password"}),(0,p.jsx)(QN.Control,{type:"password",ref:r,required:!0})]}),(0,p.jsx)("section",{className:"call-to-action",children:(0,p.jsx)("a",{className:"hero-button",onClick:h,href:"/",children:"Save Changes"})})]})]}),(0,p.jsx)("footer",{children:(0,p.jsx)("p",{children:"\xa9 2023 Sentiment. All rights reserved."})})]})}var kM=function(){var e=SC(),n=(e.isAuthenticated,e.logout,E((0,t.useState)(""),2));return n[0],n[1],SR(),(0,p.jsxs)("div",{className:"container-fluid",children:[(0,p.jsx)(IP,{}),(0,p.jsxs)("main",{children:[(0,p.jsxs)("div",{className:"hero",children:[(0,p.jsx)("h1",{children:"About Us"}),(0,p.jsx)("p",{children:"We are a company that provides great products and services to our customers. We strive to create innovative solutions that meet the needs of our customers."})]}),(0,p.jsxs)("div",{className:"features",children:[(0,p.jsxs)("div",{className:"feature",children:[(0,p.jsx)("i",{className:"fas fa-users"}),(0,p.jsx)("h2",{children:"Our Team"}),(0,p.jsx)("p",{children:"We have a dedicated team of professionals who work hard to ensure our customers are satisfied."})]}),(0,p.jsxs)("div",{className:"feature",children:[(0,p.jsx)("i",{className:"fas fa-certificate"}),(0,p.jsx)("h2",{children:"Our Mission"}),(0,p.jsx)("p",{children:"Our mission is to provide the best products and services to our customers."})]}),(0,p.jsxs)("div",{className:"feature",children:[(0,p.jsx)("i",{className:"fas fa-star"}),(0,p.jsx)("h2",{children:"Our Vision"}),(0,p.jsx)("p",{children:"Our vision is to be the leading company in our industry."})]})]}),(0,p.jsxs)("div",{className:"call-to-action",children:[(0,p.jsx)("h2",{children:"Want to learn more about us?"}),(0,p.jsx)("button",{children:"Get in touch"})]})]}),(0,p.jsx)("footer",{children:(0,p.jsx)("p",{children:"\xa9 2023 Sentiment. All rights reserved."})})]})};var wM=function(){return(0,p.jsx)(T,{children:(0,p.jsx)(EC,{children:(0,p.jsx)(k,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:(0,p.jsx)("div",{className:"w-100",style:{maxWidth:"100%"},children:(0,p.jsx)(GR,{children:(0,p.jsx)(EC,{children:(0,p.jsxs)(UR,{children:[(0,p.jsx)(MR,{exact:!0,path:"/",element:(0,p.jsx)(VL,{})}),(0,p.jsx)(MR,{path:"/about-us",element:(0,p.jsx)(kM,{})}),(0,p.jsx)(MR,{path:"/profile",element:(0,p.jsx)(TP,{})}),(0,p.jsx)(MR,{path:"/signup",element:(0,p.jsx)(FL,{})}),(0,p.jsx)(MR,{path:"/login",element:(0,p.jsx)(zL,{})}),(0,p.jsx)(MR,{path:"/forgot-password",element:(0,p.jsx)(fM,{})}),(0,p.jsx)(MR,{path:"/videos",element:(0,p.jsx)(dM,{})}),(0,p.jsx)(MR,{path:"/scripts",element:(0,p.jsx)(hM,{})}),(0,p.jsx)(MR,{path:"/reports",element:(0,p.jsx)(pM,{})}),(0,p.jsx)(MR,{path:"/videos/:id",element:(0,p.jsx)(vM,{})}),(0,p.jsx)(MR,{path:"/scripts/:id",element:(0,p.jsx)(mM,{})}),(0,p.jsx)(MR,{path:"/reports/:id",element:(0,p.jsx)(gM,{})}),(0,p.jsx)(MR,{path:"/record",element:(0,p.jsx)(yM,{})}),(0,p.jsx)(MR,{path:"/testing-grounds",element:(0,p.jsx)(bM,{})})]})})})})})})})};i.createRoot(document.getElementById("root")).render((0,p.jsx)(t.StrictMode,{children:(0,p.jsx)(wM,{})}))}()}();